(function(a,b){function cy(a){return f.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove(),("none"===e||""===e)&&(ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck),cl&&ck.createElement||(cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close()),d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)),cj[a]=e}return cj[a]}function ct(a,b){var c={};return f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a}),c}function cs(){cq=b}function cr(){return setTimeout(cs,0),cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var g,h,j,l,m,n,o,p,d=a.dataTypes,e={},i=d.length,k=d[0];for(g=1;i>g;g++){if(1===g)for(h in a.converters)"string"==typeof h&&(e[h.toLowerCase()]=a.converters[h]);if(l=k,k=d[g],"*"===k)k=l;else if("*"!==l&&l!==k){if(m=l+" "+k,n=e[m]||e["* "+k],!n){p=b;for(o in e)if(j=o.split(" "),(j[0]===l||"*"===j[0])&&(p=e[j[1]+" "+k])){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var h,i,j,k,e=a.contents,f=a.dataTypes,g=a.responseFields;for(i in g)i in d&&(c[g[i]]=d[i]);for(;"*"===f[0];)f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}return j?(j!==f[0]&&f.unshift(j),d[j]):void 0}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==f.type(b))d(a,b);else for(var e in b)b_(a+"["+e+"]",b[e],c,d)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;for(var l,h=a[f],i=0,j=h?h.length:0,k=a===bS;j>i&&(k||!l);i++)l=h[i](c,d,e),"string"==typeof l&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));return(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g)),l}function bY(a){return function(b,c){if("string"!=typeof b&&(c=b,b="*"),f.isFunction(c))for(var h,i,j,d=b.toLowerCase().split(bO),e=0,g=d.length;g>e;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}function bB(a,b,c){var d="width"===b?a.offsetWidth:a.offsetHeight,e="width"===b?1:0,g=4;if(d>0){if("border"!==c)for(;g>e;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),"margin"===c?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}if(d=by(a,b),(0>d||null==d)&&(d=a.style[b]),bt.test(d))return d;if(d=parseFloat(d)||0,c)for(;g>e;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,"padding"!==c&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),"margin"===c&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");return bh.appendChild(b),b.innerHTML=a.outerHTML,b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();"input"===b?bm(a):"script"!==b&&a.getElementsByTagName!==void 0&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){("checkbox"===a.type||"radio"===a.type)&&(a.defaultChecked=a.checked)}function bl(a){return a.getElementsByTagName!==void 0?a.getElementsByTagName("*"):a.querySelectorAll!==void 0?a.querySelectorAll("*"):[]}function bk(a,b){var c;1===b.nodeType&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),"object"===c?b.outerHTML=a.outerHTML:"input"!==c||"checkbox"!==a.type&&"radio"!==a.type?"option"===c?b.selected=a.defaultSelected:"input"===c||"textarea"===c?b.defaultValue=a.defaultValue:"script"===c&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(1===b.nodeType&&f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;e>d;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function T(a,b,c){if(b=b||0,f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=f.grep(a,function(a){return 1===a.nodeType});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||11===a.parentNode.nodeType}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);!(!h||"queue"!==c&&f._data(a,e)||"mark"!==c&&f._data(a,g)||!setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0))}function m(a){for(var b in a)if(("data"!==b||!f.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function l(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(k,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var c,d,b=g[a]={};for(a=a.split(/\s+/),c=0,d=a.length;d>c;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){return setTimeout(J,1),void 0}e.ready()}}var h,z,A,B,e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/gi,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};return e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!d&&c.body)return this.context=c,this[0]=c.body,this.selector=a,this.length=1,this;if("string"==typeof a){if(g="<"!==a.charAt(0)||">"!==a.charAt(a.length-1)||3>a.length?i.exec(a):[null,a,null],g&&(g[1]||!d)){if(g[1])return d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes),e.merge(this,a);if(h=c.getElementById(g[2]),h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}return this.context=c,this.selector=a,this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}return e.isFunction(a)?f.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),e.makeArray(a,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();return e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,"find"===b?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return e.each(this,a,b)},ready:function(a){return e.bindReady(),A.add(a),this},eq:function(a){return a=+a,-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"!=typeof i&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);k>j;j++)if(null!=(a=arguments[j]))for(c in a)d=i[c],f=a[c],i!==f&&(l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f));return i},e.extend({noConflict:function(b){return a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f),e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);if(e.isReady=!0,a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){if(A=e.Callbacks("once memory"),"complete"===c.readyState)return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=null==a.frameElement}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return"function"===e.type(a)},isArray:Array.isArray||function(a){return"array"===e.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==e.type(a)||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a)},parseJSON:function(b){return"string"==typeof b&&b?(b=e.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):n.test(b.replace(o,"@").replace(p,"]").replace(q,""))?Function("return "+b)():(e.error("Invalid JSON: "+b),void 0)):null},parseXML:function(c){if("string"!=typeof c||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d)if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;h>g&&c.apply(a[g++],d)!==!1;);else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;h>g&&c.call(a[g],g,a[g++])!==!1;);return a},trim:G?function(a){return null==a?"":G.call(a)}:function(a){return null==a?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(null!=a){var d=e.type(a);null==a.length||"string"===d||"function"===d||"regexp"===d||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if("number"==typeof c.length)for(var f=c.length;f>e;e++)a[d++]=c[e];else for(;c[e]!==b;)a[d++]=c[e++];return a.length=d,a},grep:function(a,b,c){var e,d=[];c=!!c;for(var f=0,g=a.length;g>f;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&"number"==typeof j&&(j>0&&a[0]&&a[j-1]||0===j||e.isArray(a));if(k)for(;j>i;i++)f=c(a[i],i,d),null!=f&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),null!=f&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if("string"==typeof c){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};return g.guid=a.guid=a.guid||g.guid||e.guid++,g},access:function(a,c,d,f,g,h,i){var j,k=null==d,l=0,m=a.length;if(d&&"object"==typeof d){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){if(j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null)),c)for(;m>l;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||0>a.indexOf("compatible")&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){return f&&f instanceof e&&!(f instanceof a)&&(f=a(f)),e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(" ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){"complete"===c.readyState&&(c.detachEvent("onreadystatechange",B),e.ready())}),e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var e,i,j,k,l,m,c=[],d=[],n=function(b){var d,e,g,h;for(d=0,e=b.length;e>d;d++)g=b[d],h=f.type(g),"array"===h?n(g):"function"===h&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){for(f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;c&&l>m;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c)for(var b=arguments,d=0,e=b.length;e>d;d++)for(var f=0;c.length>f&&(b[d]!==c[f]||(j&&l>=f&&(l--,m>=f&&m--),c.splice(f--,1),!a.unique));f++);return this},has:function(a){if(c)for(var b=0,d=c.length;d>b;b++)if(a===c[b])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=d=e=b,this},disabled:function(){return!c},lock:function(){return d=b,(!e||e===!0)&&p.disable(),this},locked:function(){return!d},fireWith:function(b,c){return d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var j,b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){return i.done(a).fail(b).progress(c),this},always:function(){return i.done.apply(i,arguments).fail.apply(i,arguments),this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var g,c=b[0],e=b[1];f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(null==a)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({});for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;return i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i),i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,j=1>=d&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;d>c;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,m,n,o,p=c.createElement("div");if(c.documentElement,p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0],!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:"/a"===e.getAttribute("href"),opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:"on"===i.value,optSelected:h.selected,getSetAttribute:"t"!==p.className,enctype:!!c.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==c.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel="CSS1Compat"===c.compatMode,i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue="t"===i.value,i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p),p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o="function"==typeof p[m]),b[n+"Bubbles"]=o;return j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div>"+"<table "+n+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=0===k[0].offsetHeight,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&0===k[0].offsetHeight,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=0===(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)),p.style.zoom!==void 0&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=3===p.offsetWidth,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=3!==p.offsetWidth),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:5!==g.offsetTop,doesAddBorderForTableAndCells:5===i.offsetTop},g.style.position="fixed",g.style.top="20px",j.fixedPosition=20===g.offsetTop||15===g.offsetTop,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=-5===g.offsetTop,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin="1%"!==(a.getComputedStyle(p,null)||{marginTop:0}).marginTop),d.style.zoom!==void 0&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))}),b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?f.cache[a[f.expando]]:a[f.expando],!!a&&!m(a)},data:function(a,c,d,e){if(f.acceptData(a)){var g,h,i,j=f.expando,k="string"==typeof c,l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o="events"===c;if(!(n&&m[n]&&(o||e||m[n].data)||!k||d!==b))return;return n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop)),("object"==typeof c||"function"==typeof c)&&(e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c)),g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d),o&&!h[c]?g.events:(k?(i=h[c],null==i&&(i=h[f.camelCase(c)])):i=h,i)}},removeData:function(a,b,c){if(f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b&&(d=c?j[k]:j[k].data)){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b=b in d?[b]:b.split(" ")));for(e=0,g=b.length;g>e;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}if(!c&&(delete j[k].data,!m(j[k])))return;f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length&&(m=f.data(j),1===j.nodeType&&!f._data(j,"parsedAttrs"))){for(g=j.attributes,i=g.length;i>k;k++)h=g[k].name,0===h.indexOf("data-")&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}return m}return"object"==typeof a?this.each(function(){f.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",f.access(this,function(c){return c===b?(m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m)),m===b&&d[1]?this.data(d[0]):m):(d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)}),void 0)},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){if(a!==!0&&(c=b,b=a,a=!1),b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};"inprogress"===d&&(d=c.shift()),d&&("fx"===b&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),d>arguments.length?f.queue(this[0],a):c===b?this:this.each(function(){var b=f.queue(this,a,c);"fx"===a&&"inprogress"!==b[0]&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){return a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}"string"!=typeof a&&(c=a,a=b),a=a||"fx";for(var l,d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark";g--;)(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))&&(h++,l.add(m));return m(),d.promise(c)}});var w,x,y,o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){return a=f.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&"string"==typeof a)for(b=a.split(p),c=0,d=this.length;d>c;c++)if(e=this[c],1===e.nodeType)if(e.className||1!==b.length){for(g=" "+e.className+" ",h=0,i=b.length;i>h;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}else e.className=a;return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&"string"==typeof a||a===b)for(c=(a||"").split(p),d=0,e=this.length;e>d;d++)if(g=this[d],1===g.nodeType&&g.className)if(a){for(h=(" "+g.className+" ").replace(o," "),i=0,j=c.length;j>i;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className="";return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,g=0,h=f(this),i=b,j=a.split(p);e=j[g++];)i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e);else("undefined"===c||"boolean"===c)&&(this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];return arguments.length?(e=f.isFunction(a),this.each(function(d){var h,g=f(this);1===this.nodeType&&(h=e?a.call(this,d,g.val()):a,null==h?h="":"number"==typeof h?h+="":f.isArray(h)&&(h=f.map(h,function(a){return null==a?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()],c&&"set"in c&&c.set(this,h,"value")!==b||(this.value=h))})):g?(c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(g,"value"))!==b?d:(d=g.value,"string"==typeof d?d.replace(q,""):null==d?"":d)):void 0}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j="select-one"===a.type;if(0>g)return null;for(c=j?g:0,d=j?g+1:i.length;d>c;c++)if(e=i[c],!(!e.selected||(f.support.optDisabled?e.disabled:null!==e.getAttribute("disabled"))||e.parentNode.disabled&&f.nodeName(e.parentNode,"optgroup"))){if(b=f(e).val(),j)return b;h.push(b)}return j&&!h.length&&i.length?f(i[g]).val():h},set:function(a,b){var c=f.makeArray(b);return f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;return a&&3!==j&&8!==j&&2!==j?e&&c in f.attrFn?f(a)[c](d):a.getAttribute===void 0?f.prop(a,c,d):(i=1!==j||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w)),d!==b?null===d?(f.removeAttr(a,c),void 0):h&&"set"in h&&i&&(g=h.set(a,d,c))!==b?g:(a.setAttribute(c,""+d),d):h&&"get"in h&&i&&null!==(g=h.get(a,c))?g:(g=a.getAttribute(c),null===g?b:g)):void 0},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&1===a.nodeType)for(d=b.toLowerCase().split(p),g=d.length;g>i;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&"radio"===b&&f.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return w&&f.nodeName(a,"button")?w.get(a,b):b in a?a.value:null},set:function(a,b,c){return w&&f.nodeName(a,"button")?w.set(a,b,c):(a.value=b,void 0)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;return a&&3!==i&&8!==i&&2!==i?(h=1!==i||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]),d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&null!==(e=g.get(a,c))?e:a[c]):void 0},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||"boolean"!=typeof e&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(y[c]?""!==d.nodeValue:d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);return e||(e=c.createAttribute(d),a.setAttributeNode(e)),e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){""===b&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return null===d?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){return f.isArray(b)?a.checked=f.inArray(f(a).val(),b)>=0:void 0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);
return b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)")),b},H=function(a,b){var c=a.attributes||{};return!(b[1]&&a.nodeName.toLowerCase()!==b[1]||b[2]&&(c.id||{}).value!==b[2]||b[3]&&!b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,r,s;if(3!==a.nodeType&&8!==a.nodeType&&c&&d&&(h=f._data(a))){for(d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return void 0===f||a&&f.event.triggered===a.type?b:f.event.dispatch.apply(i.elem,arguments)},i.elem=a),c=f.trim(I(c)).split(" "),k=0;c.length>k;k++)l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m],r||(r=j[m]=[],r.delegateCount=0,s.setup&&s.setup.call(a,e,n,i)!==!1||(a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i))),s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0;a=null}},global:{},remove:function(a,b,c,d,e){var h,i,j,k,l,m,n,o,p,q,r,s,g=f.hasData(a)&&f._data(a);if(g&&(o=g.events)){for(b=f.trim(I(b||"")).split(" "),h=0;b.length>h;h++)if(i=A.exec(b[h])||[],j=k=i[1],l=i[2],j){for(p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,n=0;r.length>n;n++)s=r[n],!(!e&&k!==s.origType||c&&c.guid!==s.guid||l&&!l.test(s.namespace)||d&&d!==s.selector&&("**"!==d||!s.selector)||(r.splice(n--,1),s.selector&&r.delegateCount--,!p.remove||!p.remove.call(a,s)));0===r.length&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}else for(j in o)f.event.remove(a,j+b[h],c,d,!0);f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||3!==e.nodeType&&8!==e.nodeType){var j,k,l,m,n,o,p,q,r,s,h=c.type||c,i=[];if(E.test(h+f.event.triggered))return;if(h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort()),(!e||f.event.customEvent[h])&&!f.event.global[h])return;if(c="object"==typeof c?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=0>h.indexOf(":")?"on"+h:"",!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}if(c.result=b,c.target||(c.target=e),d=null!=d?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{},p.trigger&&p.trigger.apply(e,d)===!1)return;if(r=[[e,p.bindType||h]],!g&&!p.noBubble&&!f.isWindow(e)){for(s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;r.length>l&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();return c.type=h,!(g||c.isDefaultPrevented()||p._default&&p._default.apply(e.ownerDocument,d)!==!1||"click"===h&&f.nodeName(e,"a")||!f.acceptData(e)||!o||!e[h]||("focus"===h||"blur"===h)&&0===c.target.offsetWidth||f.isWindow(e)||(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,!n||!(e[o]=n))),c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var k,l,m,n,o,p,q,r,s,t,d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[];if(g[0]=c,c.delegateTarget=this,!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||"click"!==c.type))for(n=f(this),n.context=this.ownerDocument||this,m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){for(p={},r=[],n[0]=m,k=0;e>k;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}for(d.length>e&&j.push({elem:this,matches:d.slice(e)}),k=0;j.length>k&&!c.isPropagationStopped();k++)for(q=j[k],c.currentTarget=q.elem,l=0;q.matches.length>l&&!c.isImmediatePropagationStopped();l++)s=q.matches[l],(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))&&(c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation())));return i.postDispatch&&i.postDispatch.call(this,c),c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;return null==a.pageX&&null!=d.clientX&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=1&h?1:2&h?3:4&h?2:0),a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;for(a=f.Event(g),d=i.length;d;)e=i[--d],a[e]=g[e];return a.target||(a.target=g.srcElement||c),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey),h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){return this instanceof f.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0,void 0):new f.Event(a,b)},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var h,c=this,d=a.relatedTarget,e=a.handleObj;return e.selector,(!d||d!==c&&!f.contains(c,d))&&(a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b),h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){return f.nodeName(this,"form")?!1:(f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)}),void 0)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return f.nodeName(this,"form")?!1:(f.event.remove(this,"._submit"),void 0)}}),f.support.changeBubbles||(f.event.special.change={setup:function(){return z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(f.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))})),!1):(f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)}),void 0)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return f.event.remove(this,"._change"),z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){0===d++&&c.addEventListener(a,e,!0)},teardown:function(){0===--d&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=J;else if(!e)return this;return 1===g&&(h=e,e=function(a){return f().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++)),this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;return f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this}if("object"==typeof a){for(var g in a)this.off(g,c,a[g]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=J),this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return f(this.context).on(a,this.selector,b,c),this},die:function(a,b){return f(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1==arguments.length?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){return this[0]?f.event.trigger(a,b,this[0],!0):void 0},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;return f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};for(e.guid=c;b.length>d;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){return null==c&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;i>h;h++){var j=e[h];if(j){var k=!1;for(j=j[a];j;){if(j[d]===c){k=e[j.sizset];break}if(1===j.nodeType)if(g||(j[d]=c,j.sizset=h),"string"!=typeof b){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;i>h;h++){var j=e[h];if(j){var k=!1;for(j=j[a];j;){if(j[d]===c){k=e[j.sizset];break}if(1===j.nodeType&&!g&&(j[d]=c,j.sizset=h),j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){return i=!1,0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(1!==d.nodeType&&9!==d.nodeType)return[];if(!b||"string"!=typeof b)return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do if(a.exec(""),i=a.exec(x),i&&(x=i[3],w.push(i[1]),i[2])){l=i[3];break}while(i);if(w.length>1&&p.exec(b))if(2===w.length&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else for(j=o.relative[w[0]]?[d]:m(w.shift(),d);w.length;)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f);else if(!f&&w.length>1&&9===d.nodeType&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]),d)for(n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!d.parentNode?d:d.parentNode,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;w.length;)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",null==r&&(r=d),o.relative[q](k,r,v);else k=w=[];if(k||(k=j),k||m.error(q||b),"[object Array]"===g.call(k))if(u)if(d&&1===d.nodeType)for(t=0;null!=k[t];t++)k[t]&&(k[t]===!0||1===k[t].nodeType&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;null!=k[t];t++)k[t]&&1===k[t].nodeType&&e.push(j[t]);else e.push.apply(e,k);else s(k,e);return l&&(m(l,h,e,f),m.uniqueSort(e)),e};m.uniqueSort=function(a){if(u&&(h=i,a.sort(u),h))for(var b=1;a.length>b;b++)a[b]===a[b-1]&&a.splice(b--,1);return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;f>e;e++)if(h=o.order[e],(g=o.leftMatch[h].exec(a))&&(i=g[1],g.splice(1,1),"\\"!==i.substr(i.length-1)&&(g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c),null!=d))){a=a.replace(o.match[h],"");break}return d||(d=b.getElementsByTagName!==void 0?b.getElementsByTagName("*"):[]),{set:d,expr:a}},m.filter=function(a,c,d,e){for(var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);a&&c.length;){for(h in o.filter)if(null!=(f=o.leftMatch[h].exec(a))&&f[2]){if(k=o.filter[h],l=f[1],g=!1,f.splice(1,1),"\\"===l.substr(l.length-1))continue;if(s===r&&(r=[]),o.preFilter[h])if(f=o.preFilter[h](f,s,d,r,e,t)){if(f===!0)continue}else g=i=!0;if(f)for(n=0;null!=(j=s[n]);n++)j&&(i=k(j,f,n,s),p=e^i,d&&null!=i?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){if(d||(s=r),a=a.replace(o.match[h],""),!g)return[];break}}if(a===q){if(null!=g)break;m.error(a)}q=a}return s},m.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(1===d||9===d||11===d){if("string"==typeof a.textContent)return a.textContent;if("string"==typeof a.innerText)return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(3===d||4===d)return a.nodeValue}else for(b=0;c=a[b];b++)8!==c.nodeType&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c="string"==typeof b,d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var h,f=0,g=a.length;g>f;f++)if(h=a[f]){for(;(h=h.previousSibling)&&1!==h.nodeType;);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d="string"==typeof b,e=0,f=a.length;if(d&&!l.test(b)){for(b=b.toLowerCase();f>e;e++)if(c=a[e]){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}else{for(;f>e;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;"string"==typeof b&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;"string"==typeof b&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(b.getElementById!==void 0&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(b.getElementsByName!==void 0){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;f>e;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return 0===c.length?null:c}},TAG:function(a,b){return b.getElementsByTagName!==void 0?b.getElementsByTagName(a[1]):void 0}},preFilter:{CLASS:function(a,b,c,d,e,f){if(a=" "+a[1].replace(j,"")+" ",f)return a;for(var h,g=0;null!=(h=b[g]);g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if("nth"===a[1]){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===a[2]&&"2n"||"odd"===a[2]&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);return a[0]=e++,a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");return!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),"~="===a[2]&&(a[4]=" "+a[4]+" "),a},PSEUDO:function(b,c,d,e,f){if("not"===b[1]){if(!((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))){var g=m.filter(b[3],c,d,!0^f);return d||e.push.apply(e,g),!1}b[3]=m(b[3],null,null,c)}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){return a.unshift(!0),a}},filters:{enabled:function(a){return a.disabled===!1&&"hidden"!==a.type},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return"input"===a.nodeName.toLowerCase()&&"text"===c&&(b===c||null===b)},radio:function(a){return"input"===a.nodeName.toLowerCase()&&"radio"===a.type},checkbox:function(a){return"input"===a.nodeName.toLowerCase()&&"checkbox"===a.type},file:function(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type},password:function(a){return"input"===a.nodeName.toLowerCase()&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"submit"===a.type},image:function(a){return"input"===a.nodeName.toLowerCase()&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return("input"===b||"button"===b)&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return 0===b},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return 0===b%2},odd:function(a,b){return 1===b%2},lt:function(a,b,c){return c[3]-0>b},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if("contains"===e)return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if("not"===e){for(var g=b[3],h=0,i=g.length;i>h;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,i,j,k=b[1],l=a;switch(k){case"only":case"first":for(;l=l.previousSibling;)if(1===l.nodeType)return!1;if("first"===k)return!0;l=a;case"last":for(;l=l.nextSibling;)if(1===l.nodeType)return!1;return!0;case"nth":if(c=b[2],e=b[3],1===c&&0===e)return!0;if(f=b[0],g=a.parentNode,g&&(g[d]!==f||!a.nodeIndex)){for(i=0,l=g.firstChild;l;l=l.nextSibling)1===l.nodeType&&(l.nodeIndex=++i);g[d]=f}return j=a.nodeIndex-e,0===c?0===j:0===j%c&&j/c>=0}},ID:function(a,b){return 1===a.nodeType&&a.getAttribute("id")===b},TAG:function(a,b){return"*"===b&&1===a.nodeType||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):null!=a[c]?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return null==d?"!="===f:!f&&m.attr?null!=d:"="===f?e===g:"*="===f?e.indexOf(g)>=0:"~="===f?(" "+e+" ").indexOf(g)>=0:g?"!="===f?e!==g:"^="===f?0===e.indexOf(g):"$="===f?e.substr(e.length-g.length)===g:"|="===f?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];return f?f(a,c,b,d):void 0}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){return a=Array.prototype.slice.call(a,0),b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if("[object Array]"===g.call(a))Array.prototype.push.apply(d,a);else if("number"==typeof a.length)for(var e=a.length;e>c;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){return a===b?(h=!0,0):a.compareDocumentPosition&&b.compareDocumentPosition?4&a.compareDocumentPosition(b)?-1:1:a.compareDocumentPosition?-1:1}:(u=function(a,b){if(a===b)return h=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;for(;j;)e.unshift(j),j=j.parentNode;for(j=i;j;)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;c>k&&d>k;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;for(var d=a.nextSibling;d;){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(c.getElementById!==void 0&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||e.getAttributeNode!==void 0&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=a.getAttributeNode!==void 0&&a.getAttributeNode("id");return 1===a.nodeType&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if("*"===a[1]){for(var d=[],e=0;c[e];e++)1===c[e].nodeType&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&a.firstChild.getAttribute!==void 0&&"#"!==a.firstChild.getAttribute("href")&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";if(b.innerHTML="<p class='TEST'></p>",!b.querySelectorAll||0!==b.querySelectorAll(".TEST").length){m=function(b,e,f,g){if(e=e||c,!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(1===e.nodeType||9===e.nodeType)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(9===e.nodeType){if("body"===b&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(1===e.nodeType&&"object"!==e.nodeName.toLowerCase()){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){if(c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&11!==a.document.nodeType)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");if(a.innerHTML="<div class='test e'></div><div class='test'></div>",a.getElementsByClassName&&0!==a.getElementsByClassName("e").length){if(a.lastChild.className="e",1===a.getElementsByClassName("e").length)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){return void 0===b.getElementsByClassName||c?void 0:b.getElementsByClassName(a[1])},a=null}}(),m.contains=c.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?"HTML"!==b.nodeName:!1};var y=function(a,b,c){for(var d,e=[],f="",g=b.nodeType?[b]:b;d=o.match.PSEUDO.exec(a);)f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;i>h;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var c,d,b=this;if("string"!=typeof a)return f(a).filter(function(){for(c=0,d=b.length;d>c;c++)if(f.contains(b[c],this))return!0});var g,h,i,e=this.pushStack("","find",a);for(c=0,d=this.length;d>c;c++)if(g=e.length,f.find(a,this[c],e),c>0)for(h=g;e.length>h;h++)for(i=0;g>i;i++)if(e[i]===e[h]){e.splice(h--,1);break}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;c>a;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var d,e,c=[],g=this[0];if(f.isArray(a)){for(var h=1;g&&g.ownerDocument&&g!==b;){for(d=0;a.length>d;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||"string"!=typeof a?f(a,b||this.context):0;for(d=0,e=this.length;e>d;d++)for(g=this[d];g;){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}if(g=g.parentNode,!g||!g.ownerDocument||g===b||11===g.nodeType)break}return c=c.length>1?f.unique(c):c,this.pushStack(c,"closest",a)},index:function(a){return a?"string"==typeof a?f.inArray(this[0],f(a)):f.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c="string"==typeof a?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);return L.test(a)||(d=c),d&&"string"==typeof d&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse()),this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){for(var e=[],g=a[c];g&&9!==g.nodeType&&(d===b||1!==g.nodeType||!f(g).is(d));)1===g.nodeType&&e.push(g),g=g[c];return e},nth:function(a,b,c){b=b||1;for(var e=0;a&&(1!==a.nodeType||++e!==b);a=a[c]);return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)
}).end()},append:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){1===this.nodeType&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);return a.push.apply(a,this.toArray()),this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);return a.push.apply(a,f.clean(arguments)),a}},remove:function(a,b){for(var d,c=0;null!=(d=this[c]);c++)(!a||f.filter(a,[d]).length)&&(!b&&1===d.nodeType&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d));return this},empty:function(){for(var b,a=0;null!=(b=this[a]);a++)for(1===b.nodeType&&f.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(W,""):null;if(!("string"!=typeof a||ba.test(a)||!f.support.leadingWhitespace&&X.test(a)||bg[(Z.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Y,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return this[0]&&this[0].parentNode?f.isFunction(a)?this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=f(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})):this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&3===arguments.length&&"string"==typeof j&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){if(i=j&&j.parentNode,e=f.support.parentNode&&i&&11===i.nodeType&&i.childNodes.length===this.length?{fragment:i}:f.buildFragment(a,this,k),h=e.fragment,g=1===h.childNodes.length?h=h.firstChild:h.firstChild,g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;m>l;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&n>l?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];return b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),1===a.length&&"string"==typeof j&&512>j.length&&i===c&&"<"===j.charAt(0)&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&1!==h&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1),{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=1===this.length&&this[0].parentNode;if(g&&11===g.nodeType&&1===g.childNodes.length&&1===e.length)return e[b](this[0]),this;for(var h=0,i=e.length;i>h;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if(!(f.support.noCloneEvent&&f.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||f.isXMLDoc(a)))for(bk(a,h),d=bl(a),e=bl(h),g=0;d[g];++g)e[g]&&bk(d[g],e[g]);if(b&&(bj(a,h),c))for(d=bl(a),e=bl(h),g=0;d[g];++g)bj(d[g],e[g]);return d=e=null,h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,b.createElement===void 0&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var l,k=0;null!=(l=a[k]);k++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(_.test(l)){l=l.replace(Y,"<$1></$2>");var r,m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes;for(b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];o--;)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t="table"!==m||s?"<table>"!==n[1]||s?[]:p.childNodes:p.firstChild&&p.firstChild.childNodes;for(i=t.length-1;i>=0;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}else l=b.createTextNode(l);var u;if(!f.support.appendChecked)if(l[0]&&"number"==typeof(u=l.length))for(i=0;u>i;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d)for(g=function(a){return!a.type||be.test(a.type)},k=0;j[k];k++)if(h=j[k],e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(1===h.nodeType){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}return j},cleanData:function(a){for(var b,c,i,d=f.cache,e=f.event.special,g=f.support.deleteExpando,h=0;null!=(i=a[h]);h++)if((!i.nodeName||!f.noData[i.nodeName.toLowerCase()])&&(c=i[f.expando])){if(b=d[c],b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}});var by,bz,bA,bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"];f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return""===c?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];if(c=f.cssProps[i]||i,d===b)return k&&"get"in k&&(g=k.get(a,!1,e))!==b?g:j[c];if(h=typeof d,"string"===h&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number"),null==d||"number"===h&&isNaN(d))return;if("number"===h&&!f.cssNumber[i]&&(d+="px"),!(k&&"set"in k&&(d=k.set(a,d))===b))try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;return c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,"cssFloat"===c&&(c="float"),g&&"get"in g&&(e=g.get(a,!0,d))!==b?e:by?by(a,c):void 0},swap:function(a,b,c){var e,f,d={};for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;return b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),""===c&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g),c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;return null==f&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d)),""===f?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){return c?0!==a.offsetWidth?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)}):void 0},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+100*b+")":"",g=d&&d.filter||c.filter||"";c.zoom=1,b>=1&&""===f.trim(g.replace(bp,""))&&(c.removeAttribute("filter"),d&&!d.filter)||(c.filter=bp.test(g)?g.replace(bp,e):g+" "+e)}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return 0===b&&0===c||!f.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||f.css(a,"display"))},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e="string"==typeof c?c.split(" "):[c],f={};for(d=0;4>d;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bU,bV,bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if("string"!=typeof a&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):"object"==typeof c&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;return f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}}),this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return null==c?null:f.isArray(c)?f.map(c,function(a){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){return f.isFunction(d)&&(g=g||e,e=d,d=b),f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b),a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(2!==s){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,y,z,w=c,x=l?ca(d,v,l):b;if(a>=200&&300>a||304===a)if(d.ifModified&&((y=v.getResponseHeader("Last-Modified"))&&(f.lastModified[k]=y),(z=v.getResponseHeader("Etag"))&&(f.etag[k]=z)),304===a)w="notmodified",o=!0;else try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}else u=w,(!w||a)&&(w="error",0>a&&(a=0));v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}"object"==typeof a&&(c=a,a=b),c=c||{};var k,n,o,p,q,r,t,u,d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},l={},m={},s=0,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return 2===s?n:null},getResponseHeader:function(a){var c;if(2===s){if(!o)for(o={};c=bG.exec(n);)o[c[1].toLowerCase()]=c[2];c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return s||(d.mimeType=a),this},abort:function(a){return a=a||"abort",p&&p.abort(a),w(0,a),this}};if(h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(2>s)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),null==d.crossDomain&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||("http:"===r[1]?80:443))==(bV[3]||("http:"===bV[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v),2===s)return!1;if(t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&0===f.active++&&f.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url,d.cache===!1)){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||2===s))return v.abort(),!1;for(u in{success:1,error:1,complete:1})v[u](d[u]);if(p=bZ(bT,d,c,v)){v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(!(2>s))throw z;w(-1,z)}}else w(-1,"No Transport");return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=f.ajaxSettings.traditional),f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e="string"==typeof b.data&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if("jsonp"===b.dataTypes[0]||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";return b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){return g||f.error(h+" was not called"),g[0]},b.dataTypes[0]="json","script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return f.globalEval(a),a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){(c||!d.readyState||/loaded|complete/.test(d.readyState))&&(d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success"))},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cg,ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var i,j,h=c.xhr();if(c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async),c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||4===h.readyState))if(d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]),e)4!==h.readyState&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}j||!c.isLocal||c.crossDomain?1223===j&&(j=204):j=m.text?200:404}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},c.async&&4!==h.readyState?(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var ck,cl,co,cq,cj={},cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];f.fn.extend({show:function(a,b,c){var d,e;if(a||0===a)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;h>g;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&"none"===e&&(e=d.style.display=""),(""===e&&"none"===f.css(d,"display")||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;h>g;g++)d=this[g],d.style&&(e=d.style.display,(""===e||"none"===e)&&(d.style.display=f._data(d,"olddisplay")||""));return this},hide:function(a,b,c){if(a||0===a)return this.animate(ct("hide",3),a,b,c);for(var d,e,g=0,h=this.length;h>g;g++)d=this[g],d.style&&(e=f.css(d,"display"),"none"!==e&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;h>g;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d="boolean"==typeof a;return f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):null==a||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c),this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var g,h,i,j,k,l,m,n,o,p,q,b=f.extend({},e),c=1===this.nodeType,d=c&&f(this).is(":hidden");b.animatedProperties={};for(i in a)if(g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),(k=f.cssHooks[g])&&"expand"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}for(g in a){if(h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing","hide"===h&&d||"show"===h&&!d)return b.complete.call(this);c&&("height"===g||"width"===g)&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===f.css(this,"display")&&"none"===f.css(this,"float")&&(f.support.inlineBlockNeedsLayout&&"inline"!==cu(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=b.overflow&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||("toggle"===h?d?"show":"hide":0),q?(f._data(this,"toggle"+i,"show"===q?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),"px"!==p&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=("-="===m[1]?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);return f.isEmptyObject(a)?this.each(e.complete,[!1]):(a=f.extend({},a),e.queue===!1?this.each(g):this.queue(e.queue,g))},stop:function(a,c,d){return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);if(d||f._unmark(!0,this),null==a)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(null==a||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&"object"==typeof a?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};return d.duration=f.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)},d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?b&&"auto"!==b?b:0:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){if(null!=i.overflow&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide(),i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}return 1/0==i.duration?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},f.extend(f.fx,{tick:function(){for(var a,b=f.timers,c=0;b.length>c;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&null!=a.elem.style[a.prop]?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;cv="getBoundingClientRect"in c.documentElement?function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:function(a,b,c){for(var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;(a=a.parentNode)&&a!==h&&a!==c&&(!f.support.fixedPosition||"fixed"!==j.position);)d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&"visible"!==d.overflow&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d;return("relative"===j.position||"static"===j.position)&&(k+=h.offsetTop,l+=h.offsetLeft),f.support.fixedPosition&&"fixed"===j.position&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft)),{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;return d?c===d.body?f.offset.bodyOffset(c):cv(c,d,d.documentElement):null},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");"static"===d&&(a.style.position="relative");var m,n,e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=("absolute"===d||"fixed"===d)&&f.inArray("auto",[h,i])>-1,k={},l={};j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),null!=b.top&&(k.top=b.top-g.top+m),null!=b.left&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||c.body;a&&!cx.test(a.nodeName)&&"static"===f.css(a,"position");)a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);return g===b?h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e]:(h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g,void 0)},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;return f.isWindow(a)?(i=a.document,j=i.documentElement[d],f.support.boxModel&&j||i.body&&i.body[d]||j):9===a.nodeType?(i=a.documentElement,i[d]>=i[e]?i[d]:Math.max(a.body[e],i[e],a.body[g],i[g])):h===b?(k=f.css(a,c),l=parseFloat(k),f.isNumeric(l)?l:k):(f(a).css(c,h),void 0)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(a){function D(b){var c=this,d=b.elements,e=d.tooltip,f=".bgiframe-"+b.id;a.extend(c,{init:function(){d.bgiframe=a('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),d.bgiframe.appendTo(e),e.bind("tooltipmove"+f,c.adjust)},adjust:function(){var g,h,a=b.get("dimensions"),c=b.plugins.tip,f=d.tip;h=parseInt(e.css("border-left-width"),10)||0,h={left:-h,top:-h},c&&f&&(g="x"===c.corner.precedance?["width","left"]:["height","top"],h[g[1]]-=f[g[0]]()),d.bgiframe.css(h).css(a)},destroy:function(){d.bgiframe.remove(),e.unbind(f)}}),c.init()}function C(d){var q,e=this,f=d.options.show.modal,h=d.elements,i=h.tooltip,j="#qtip-overlay",k=".qtipmodal",l=k+d.id,n="is-modal-qtip",p=a(document.body);d.checks.modal={"^show.modal.(on|blur)$":function(){e.init(),h.overlay.toggle(i.is(":visible"))}},a.extend(e,{init:function(){return f.on?(q=e.create(),i.attr(n,b).css("z-index",g.modal.zindex+a(m+"["+n+"]").length).unbind(k).unbind(l).bind("tooltipshow"+k+" tooltiphide"+k,function(b,c,d){var f=b.originalEvent;if(b.target===i[0])if(f&&"tooltiphide"===b.type&&/mouse(leave|enter)/.test(f.type)&&a(f.relatedTarget).closest(q[0]).length)try{b.preventDefault()}catch(g){}else(!f||f&&!f.solo)&&e[b.type.replace("tooltip","")](b,d)}).bind("tooltipfocus"+k,function(b){if(!b.isDefaultPrevented()&&b.target===i[0]){var c=a(m).filter("["+n+"]"),d=g.modal.zindex+c.length,e=parseInt(i[0].style.zIndex,10);q[0].style.zIndex=d-1,c.each(function(){this.style.zIndex>e&&(this.style.zIndex-=1)}),c.end().filter("."+o).qtip("blur",b.originalEvent),i.addClass(o)[0].style.zIndex=d;try{b.preventDefault()}catch(f){}}}).bind("tooltiphide"+k,function(b){b.target===i[0]&&a("["+n+"]").filter(":visible").not(i).last().qtip("focus",b)}),f.escape&&a(window).unbind(l).bind("keydown"+l,function(a){27===a.keyCode&&i.hasClass(o)&&d.hide(a)}),f.blur&&h.overlay.unbind(l).bind("click"+l,function(a){i.hasClass(o)&&d.hide(a)}),e):e},create:function(){function d(){q.css({height:a(window).height(),width:a(window).width()})}var b=a(j);return b.length?h.overlay=b.insertAfter(a(m).last()):(q=h.overlay=a("<div />",{id:j.substr(1),html:"<div></div>",mousedown:function(){return c}}).insertAfter(a(m).last()),a(window).unbind(k).bind("resize"+k,d),d(),q)},toggle:function(d,g,h){if(d&&d.isDefaultPrevented())return e;var j=f.effect,k=g?"show":"hide",o=q.is(":visible"),r=a("["+n+"]").filter(":visible").not(i);return q||(q=e.create()),q.is(":animated")&&o===g||!g&&r.length?e:(g?(q.css({left:0,top:0}),q.toggleClass("blurs",f.blur),p.bind("focusin"+l,function(b){var d=a(b.target),e=d.closest(".qtip"),f=1>e.length?c:parseInt(e[0].style.zIndex,10)>parseInt(i[0].style.zIndex,10);!f&&a(b.target).closest(m)[0]!==i[0]&&i.find("input:visible").filter(":first").focus()})):p.undelegate("*","focusin"+l),q.stop(b,c),a.isFunction(j)?j.call(q,g):j===c?q[k]():q.fadeTo(parseInt(h,10)||90,g?1:0,function(){g||a(this).hide()}),g||q.queue(function(a){q.css({left:"",top:""}),a()}),e)},show:function(a,c){return e.toggle(a,b,c)},hide:function(a,b){return e.toggle(a,c,b)},destroy:function(){var b=q;return b&&(b=1>a("["+n+"]").not(i).length,b?(h.overlay.remove(),a(window).unbind(k)):h.overlay.unbind(k+d.id),p.undelegate("*","focusin"+l)),i.removeAttr(n).unbind(k)}}),e.init()}function B(f){function w(a){var i,j,k,b="y"===a.precedance,c=n[b?"width":"height"],d=n[b?"height":"width"],e=a.string().indexOf("center")>-1,f=c*(e?.5:1),g=Math.pow,h=Math.round,l=Math.sqrt(g(f,2)+g(d,2)),m=[p/f*l,p/d*l];return m[2]=Math.sqrt(g(m[0],2)-g(p,2)),m[3]=Math.sqrt(g(m[1],2)-g(p,2)),i=l+m[2]+m[3]+(e?0:m[0]),j=i/l,k=[h(j*d),h(j*c)],{height:k[b?0:1],width:k[b?1:0]}}function v(b){var c=k.titlebar&&"top"===b.y,d=c?k.titlebar:k.content,e=a.browser.mozilla,f=e?"-moz-":a.browser.webkit?"-webkit-":"",g=b.y+(e?"":"-")+b.x,h=f+(e?"border-radius-"+g:"border-"+g+"-radius");return parseInt(d.css(h),10)||parseInt(l.css(h),10)||0}function u(a,b,c){b=b?b:a[a.precedance];var h,d=l.hasClass(q),e=k.titlebar&&"top"===a.y,f=e?k.titlebar:k.content,g="border-"+b+"-width";return l.addClass(q),h=parseInt(f.css(g),10),h=(c?h||parseInt(l.css(g),10):h)||0,l.toggleClass(q,d),h}function t(a,d,g){if(k.tip){var s,u,l=i.corner.clone(),n=g.adjusted,o=f.options.position.adjust.method.split(" "),p=o[0],q=o[1]||o[0],r={left:c,top:c,x:0,y:0},t={};i.corner.fixed!==b&&("shift"===p&&"x"===l.precedance&&n.left&&"center"!==l.y?l.precedance="x"===l.precedance?"y":"x":"flip"===p&&n.left&&(l.x="center"===l.x?n.left>0?"left":"right":"left"===l.x?"right":"left"),"shift"===q&&"y"===l.precedance&&n.top&&"center"!==l.x?l.precedance="y"===l.precedance?"x":"y":"flip"===q&&n.top&&(l.y="center"===l.y?n.top>0?"top":"bottom":"top"===l.y?"bottom":"top"),l.string()!==m.corner.string()&&(m.top!==n.top||m.left!==n.left)&&i.update(l,c)),s=i.position(l,n),s.right!==e&&(s.left=-s.right),s.bottom!==e&&(s.top=-s.bottom),s.user=Math.max(0,j.offset),(r.left="shift"===p&&!!n.left)&&("center"===l.x?t["margin-left"]=r.x=s["margin-left"]-n.left:(u=s.right!==e?[n.left,-s.left]:[-n.left,s.left],(r.x=Math.max(u[0],u[1]))>u[0]&&(g.left-=n.left,r.left=c),t[s.right!==e?"right":"left"]=r.x)),(r.top="shift"===q&&!!n.top)&&("center"===l.y?t["margin-top"]=r.y=s["margin-top"]-n.top:(u=s.bottom!==e?[n.top,-s.top]:[-n.top,s.top],(r.y=Math.max(u[0],u[1]))>u[0]&&(g.top-=n.top,r.top=c),t[s.bottom!==e?"bottom":"top"]=r.y)),k.tip.css(t).toggle(!(r.x&&r.y||"center"===l.x&&r.y||"center"===l.y&&r.x)),g.left-=s.left.charAt?s.user:"shift"!==p||r.top||!r.left&&!r.top?s.left:0,g.top-=s.top.charAt?s.user:"shift"!==q||r.left||!r.left&&!r.top?s.top:0,m.left=n.left,m.top=n.top,m.corner=l.clone()}}var i=this,j=f.options.style.tip,k=f.elements,l=k.tooltip,m={top:0,left:0},n={width:j.width,height:j.height},o={},p=j.border||0,r=".qtip-tip",s=!!(a("<canvas />")[0]||{}).getContext;i.mimic=i.corner=d,i.border=p,i.offset=j.offset,i.size=n,f.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){i.init()||i.destroy(),f.reposition()},"^style.tip.(height|width)$":function(){n={width:j.width,height:j.height},i.create(),i.update(),f.reposition()},"^content.title.text|style.(classes|widget)$":function(){k.tip&&i.update()}},a.extend(i,{init:function(){var b=i.detectCorner()&&(s||a.browser.msie);return b&&(i.create(),i.update(),l.unbind(r).bind("tooltipmove"+r,t)),b},detectCorner:function(){var a=j.corner,d=f.options.position,e=d.at,h=d.my.string?d.my.string():d.my;return a===c||h===c&&e===c?c:(a===b?i.corner=new g.Corner(h):a.string||(i.corner=new g.Corner(a),i.corner.fixed=b),m.corner=new g.Corner(i.corner.string()),"centercenter"!==i.corner.string())},detectColours:function(b){var d,e,g=k.tip.css("cssText",""),h=b||i.corner,m=h[h.precedance],p="border-"+m+"-color",r="border"+m.charAt(0)+m.substr(1)+"Color",s=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,t="background-color",u="transparent",v=" !important",w=a(document.body).css("color"),y=(f.elements.content.css("color"),k.titlebar&&("top"===h.y||"center"===h.y&&g.position().top+n.height/2+j.offset<k.titlebar.outerHeight(1))),z=y?k.titlebar:k.content;l.addClass(q),o.fill=d=g.css(t),o.border=e=g[0].style[r]||g.css(p)||l.css(p),(!d||s.test(d))&&(o.fill=z.css(t)||u,s.test(o.fill)&&(o.fill=l.css(t)||d)),(!e||s.test(e)||e===w)&&(o.border=z.css(p)||u,s.test(o.border)&&(o.border=e)),a("*",g).add(g).css("cssText",t+":"+u+v+";border:0"+v+";"),l.removeClass(q)},create:function(){var d,b=n.width,c=n.height;k.tip&&k.tip.remove(),k.tip=a("<div />",{"class":"ui-tooltip-tip"}).css({width:b,height:c}).prependTo(l),s?a("<canvas />").appendTo(k.tip)[0].getContext("2d").save():(d='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',k.tip.html(d+d),a("*",k.tip).bind("click mousedown",function(a){a.stopPropagation()}))},update:function(e,f){var z,B,C,D,E,h=k.tip,l=h.children(),q=n.width,r=n.height,x=j.mimic,y=Math.round;e||(e=m.corner||i.corner),x===c?x=e:(x=new g.Corner(x),x.precedance=e.precedance,"inherit"===x.x?x.x=e.x:"inherit"===x.y?x.y=e.y:x.x===x.y&&(x[e.precedance]=e[e.precedance])),z=x.precedance,i.detectColours(e),"transparent"!==o.border&&"#123456"!==o.border?(p=u(e,d,b),0===j.border&&p>0&&(o.fill=o.border),i.border=p=j.border!==b?j.border:p):i.border=p=0,C=A(x,q,r),i.size=E=w(e),h.css(E),D="y"===e.precedance?[y("left"===x.x?p:"right"===x.x?E.width-q-p:(E.width-q)/2),y("top"===x.y?E.height-r:0)]:[y("left"===x.x?E.width-q:0),y("top"===x.y?p:"bottom"===x.y?E.height-r-p:(E.height-r)/2)],s?(l.attr(E),B=l[0].getContext("2d"),B.restore(),B.save(),B.clearRect(0,0,3e3,3e3),B.translate(D[0],D[1]),B.beginPath(),B.moveTo(C[0][0],C[0][1]),B.lineTo(C[1][0],C[1][1]),B.lineTo(C[2][0],C[2][1]),B.closePath(),B.fillStyle=o.fill,B.strokeStyle=o.border,B.lineWidth=2*p,B.lineJoin="miter",B.miterLimit=100,p&&B.stroke(),B.fill()):(C="m"+C[0][0]+","+C[0][1]+" l"+C[1][0]+","+C[1][1]+" "+C[2][0]+","+C[2][1]+" xe",D[2]=p&&/^(r|b)/i.test(e.string())?8===parseFloat(a.browser.version,10)?2:1:0,l.css({antialias:""+(x.string().indexOf("center")>-1),left:D[0]-D[2]*Number("x"===z),top:D[1]-D[2]*Number("y"===z),width:q+p,height:r+p}).each(function(b){var c=a(this);c[c.prop?"prop":"attr"]({coordsize:q+p+" "+(r+p),path:C,fillcolor:o.fill,filled:!!b,stroked:!b}).css({display:p||b?"block":"none"}),!b&&""===c.html()&&c.html('<vml:stroke weight="'+2*p+'px" color="'+o.border+'" miterlimit="1000" joinstyle="miter"  style="behavior:url(#default#VML); display:inline-block;" />')})),f!==c&&i.position(e)},position:function(d){var h,l,m,e=k.tip,f={},g=Math.max(0,j.offset);return j.corner!==c&&e?(d=d||i.corner,h=d.precedance,l=w(d),m=[d.x,d.y],"x"===h&&m.reverse(),a.each(m,function(a,c){var e,i;"center"===c?(e="y"===h?"left":"top",f[e]="50%",f["margin-"+e]=-Math.round(l["y"===h?"width":"height"]/2)+g):(e=u(d,c,b),i=v(d),f[c]=a?p?u(d,c):0:g+(i>e?i:0))}),f[d[h]]-=l["x"===h?"width":"height"],e.css({top:"",bottom:"",left:"",right:"",margin:""}).css(f),f):c},destroy:function(){k.tip&&k.tip.remove(),l.unbind(r)}}),i.init()}function A(a,b,c){var d=Math.ceil(b/2),e=Math.ceil(c/2),f={bottomright:[[0,0],[b,c],[b,0]],bottomleft:[[0,0],[b,0],[0,c]],topright:[[0,c],[b,0],[b,c]],topleft:[[0,0],[0,c],[b,c]],topcenter:[[0,c],[d,0],[b,c]],bottomcenter:[[0,0],[b,0],[d,c]],rightcenter:[[0,0],[b,e],[0,c]],leftcenter:[[b,0],[b,c],[0,e]]};return f.lefttop=f.bottomright,f.righttop=f.bottomleft,f.leftbottom=f.topright,f.rightbottom=f.topleft,f[a.string()]}function z(d){var m,e=this,f=d.elements.tooltip,g=d.options.content.ajax,h=".qtip-ajax",i=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,j=b,k=c,l=c;d.checks.ajax={"^content.ajax":function(a,b,c){"ajax"===b&&(g=c),"once"===b?e.init():g&&g.url?e.load():f.unbind(h)}},a.extend(e,{init:function(){return g&&g.url&&f.unbind(h)[g.once?"one":"bind"]("tooltipshow"+h,e.load),e},load:function(f){function t(a,b,c){!k&&0!==a.status&&d.set("content.text",b+": "+c)}function s(b){k||(o&&(b=a("<div/>").append(b.replace(i,"")).find(o)),d.set("content.text",b))}function r(){k||(j=c,p&&(l=b,d.show(f.originalEvent)),a.isFunction(g.complete)&&g.complete.apply(this,arguments))}if(l)l=c;else{var o,h=g.url.indexOf(" "),n=g.url,p=!g.loading&&j;if(p)try{f.preventDefault()}catch(q){}else if(f&&f.isDefaultPrevented())return e;m&&m.abort&&m.abort(),h>-1&&(o=n.substr(h),n=n.substr(0,h)),m=a.ajax(a.extend({success:s,error:t,context:d},g,{url:n,complete:r}))}},destroy:function(){m&&m.abort&&m.abort(),k=b}}),e.init()}function y(e,h){var i,j,k,l,m,n=a(this),o=a(document.body),p=this===document?o:n,q=n.metadata?n.metadata(h.metadata):d,r="html5"===h.metadata.type&&q?q[h.metadata.name]:d,s=n.data(h.metadata.name||"qtipopts");try{s="string"==typeof s?Function("return "+s)():s}catch(u){v("Unable to parse HTML5 attribute data: "+s)}if(l=a.extend(b,{},f.defaults,h,"object"==typeof s?w(s):d,w(r||q)),j=l.position,l.id=e,"boolean"==typeof l.content.text){if(k=n.attr(l.content.attr),l.content.attr===c||!k)return v("Unable to locate content for tooltip! Aborting render of tooltip on element: ",n),c;l.content.text=k}if(j.container.length||(j.container=o),j.target===c&&(j.target=p),l.show.target===c&&(l.show.target=p),l.show.solo===b&&(l.show.solo=j.container.closest("body")),l.hide.target===c&&(l.hide.target=p),l.position.viewport===b&&(l.position.viewport=j.container),j.container=j.container.eq(0),j.at=new g.Corner(j.at),j.my=new g.Corner(j.my),a.data(this,"qtip"))if(l.overwrite)n.qtip("destroy");else if(l.overwrite===c)return c;return l.suppress&&(m=a.attr(this,"title"))&&a(this).removeAttr("title").attr(t,m),i=new x(n,l,e,!!k),a.data(this,"qtip",i),n.bind("remove.qtip-"+e+" removeqtip.qtip-"+e,function(){i.destroy()}),i}function x(r,s,v,x){function Q(){var b=[s.show.target[0],s.hide.target[0],y.rendered&&F.tooltip[0],s.position.container[0],s.position.viewport[0],window,document];y.rendered?a([]).pushStack(a.grep(b,function(a){return"object"==typeof a})).unbind(E):s.show.target.unbind(E+"-create")}function P(){function o(a){y.rendered&&D[0].offsetWidth>0&&y.reposition(a)}function n(a){return D.hasClass(l)?c:(clearTimeout(y.timers.inactive),y.timers.inactive=setTimeout(function(){y.hide(a)},s.hide.inactive),void 0)}function k(b){if(D.hasClass(l)||B||C)return c;var f=a(b.relatedTarget||b.target),g=f.closest(m)[0]===D[0],h=f[0]===e.show[0];if(clearTimeout(y.timers.show),clearTimeout(y.timers.hide),"mouse"===d.target&&g||s.hide.fixed&&/mouse(out|leave|move)/.test(b.type)&&(g||h))try{b.preventDefault(),b.stopImmediatePropagation()}catch(i){}else s.hide.delay>0?y.timers.hide=setTimeout(function(){y.hide(b)},s.hide.delay):y.hide(b)}function j(a){if(D.hasClass(l))return c;clearTimeout(y.timers.show),clearTimeout(y.timers.hide);var d=function(){y.toggle(b,a)};s.show.delay>0?y.timers.show=setTimeout(d,s.show.delay):d()}var d=s.position,e={show:s.show.target,hide:s.hide.target,viewport:a(d.viewport),document:a(document),body:a(document.body),window:a(window)},g={show:a.trim(""+s.show.event).split(" "),hide:a.trim(""+s.hide.event).split(" ")},i=a.browser.msie&&6===parseInt(a.browser.version,10);D.bind("mouseenter"+E+" mouseleave"+E,function(a){var b="mouseenter"===a.type;b&&y.focus(a),D.toggleClass(p,b)}),s.hide.fixed&&(e.hide=e.hide.add(D),D.bind("mouseover"+E,function(){D.hasClass(l)||clearTimeout(y.timers.hide)})),/mouse(out|leave)/i.test(s.hide.event)?"window"===s.hide.leave&&e.window.bind("mouseout"+E+" blur"+E,function(a){/select|option/.test(a.target)&&!a.relatedTarget&&y.hide(a)}):/mouse(over|enter)/i.test(s.show.event)&&e.hide.bind("mouseleave"+E,function(){clearTimeout(y.timers.show)}),(""+s.hide.event).indexOf("unfocus")>-1&&d.container.closest("html").bind("mousedown"+E,function(b){var c=a(b.target),e=(y.rendered&&!D.hasClass(l)&&D[0].offsetWidth>0,c.parents(m).filter(D[0]).length>0);c[0]!==r[0]&&c[0]!==D[0]&&!e&&!r.has(c[0]).length&&!c.attr("disabled")&&y.hide(b)}),"number"==typeof s.hide.inactive&&(e.show.bind("qtip-"+v+"-inactive",n),a.each(f.inactiveEvents,function(a,b){e.hide.add(F.tooltip).bind(b+E+"-inactive",n)})),a.each(g.hide,function(b,c){var d=a.inArray(c,g.show),f=a(e.hide);d>-1&&f.add(e.show).length===f.length||"unfocus"===c?(e.show.bind(c+E,function(a){D[0].offsetWidth>0?k(a):j(a)}),delete g.show[d]):e.hide.bind(c+E,k)}),a.each(g.show,function(a,b){e.show.bind(b+E,j)}),"number"==typeof s.hide.distance&&e.show.add(D).bind("mousemove"+E,function(a){var b=G.origin||{},c=s.hide.distance,d=Math.abs;(d(a.pageX-b.pageX)>=c||d(a.pageY-b.pageY)>=c)&&y.hide(a)}),"mouse"===d.target&&(e.show.bind("mousemove"+E,function(a){h={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),d.adjust.mouse&&(s.hide.event&&(D.bind("mouseleave"+E,function(a){(a.relatedTarget||a.target)!==e.show[0]&&y.hide(a)}),F.target.bind("mouseenter"+E+" mouseleave"+E,function(a){G.onTarget="mouseenter"===a.type})),e.document.bind("mousemove"+E,function(a){y.rendered&&G.onTarget&&!D.hasClass(l)&&D[0].offsetWidth>0&&y.reposition(a||h)}))),(d.adjust.resize||e.viewport.length)&&(a.event.special.resize?e.viewport:e.window).bind("resize"+E,o),(e.viewport.length||i&&"fixed"===D.css("position"))&&e.viewport.bind("scroll"+E,o)}function O(b,d){function g(b){function i(e){e&&(delete h[e.src],clearTimeout(y.timers.img[e.src]),a(e).unbind(E)),a.isEmptyObject(h)&&(y.redraw(),d!==c&&y.reposition(G.event),b())}var g,h={};return 0===(g=f.find("img[src]:not([height]):not([width])")).length?i():(g.each(function(b,c){if(h[c.src]===e){var d=0,f=3;(function g(){return c.height||c.width||d>f?i(c):(d+=1,y.timers.img[c.src]=setTimeout(g,700),void 0)})(),a(c).bind("error"+E+" load"+E,function(){i(this)}),h[c.src]=c}}),void 0)}var f=F.content;return y.rendered&&b?(a.isFunction(b)&&(b=b.call(r,G.event,y)||""),b.jquery&&b.length>0?f.empty().append(b.css({display:"block"})):f.html(b),0>y.rendered?D.queue("fx",g):(C=0,g(a.noop)),y):c}function N(b,d){var e=F.title;return y.rendered&&b?(a.isFunction(b)&&(b=b.call(r,G.event,y)),b===c||!b&&""!==b?J(c):(b.jquery&&b.length>0?e.empty().append(b.css({display:"block"})):e.html(b),y.redraw(),d!==c&&y.rendered&&D[0].offsetWidth>0&&y.reposition(G.event),void 0)):c}function M(a){var b=F.button,d=F.title;return y.rendered?(a?(d||L(),K()):b.remove(),void 0):c}function L(){var c=A+"-title";F.titlebar&&J(),F.titlebar=a("<div />",{"class":j+"-titlebar "+(s.style.widget?"ui-widget-header":"")}).append(F.title=a("<div />",{id:c,"class":j+"-title","aria-atomic":b})).insertBefore(F.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(b){a(this).toggleClass("ui-state-active ui-state-focus","down"===b.type.substr(-4))}).delegate(".ui-tooltip-close","mouseover mouseout",function(b){a(this).toggleClass("ui-state-hover","mouseover"===b.type)}),s.content.title.button?K():y.rendered&&y.redraw()}function K(){var b=s.content.title.button,d="string"==typeof b,e=d?b:"Close tooltip";F.button&&F.button.remove(),F.button=b.jquery?b:a("<a />",{"class":"ui-state-default ui-tooltip-close "+(s.style.widget?"":j+"-icon"),title:e,"aria-label":e}).prepend(a("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),F.button.appendTo(F.titlebar).attr("role","button").click(function(a){return D.hasClass(l)||y.hide(a),c}),y.redraw()}function J(a){F.title&&(F.titlebar.remove(),F.titlebar=F.title=F.button=d,a!==c&&y.reposition())}function I(){var a=s.style.widget;D.toggleClass(k,a).toggleClass(n,s.style.def&&!a),F.content.toggleClass(k+"-content",a),F.titlebar&&F.titlebar.toggleClass(k+"-header",a),F.button&&F.button.toggleClass(j+"-icon",!a)}function H(a){for(var c,b=0,d=s,e=a.split(".");d=d[e[b++]];)e.length>b&&(c=d);return[c||s,e.pop()]}var F,G,y=this,z=document.body,A=j+"-"+v,B=0,C=0,D=a(),E=".qtip-"+v;y.id=v,y.rendered=c,y.elements=F={target:r},y.timers={img:{}},y.options=s,y.checks={},y.plugins={},y.cache=G={event:{},target:a(),disabled:c,attr:x,onTarget:c},y.checks.builtin={"^id$":function(d,e,g){var h=g===b?f.nextid:g,i=j+"-"+h;h!==c&&h.length>0&&!a("#"+i).length&&(D[0].id=i,F.content[0].id=i+"-content",F.title[0].id=i+"-title")},"^content.text$":function(a,b,c){O(c)},"^content.title.text$":function(a,b,c){return c?(!F.title&&c&&L(),N(c),void 0):J()},"^content.title.button$":function(a,b,c){M(c)},"^position.(my|at)$":function(a,b,c){"string"==typeof c&&(a[b]=new g.Corner(c))},"^position.container$":function(a,b,c){y.rendered&&D.appendTo(c)},"^show.ready$":function(){y.rendered?y.toggle(b):y.render(1)},"^style.classes$":function(a,b,c){D.attr("class",j+" qtip ui-helper-reset "+c)},"^style.widget|content.title":I,"^events.(render|show|move|hide|focus|blur)$":function(b,c,d){D[(a.isFunction(d)?"":"un")+"bind"]("tooltip"+c,d)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var a=s.position;D.attr("tracking","mouse"===a.target&&a.adjust.mouse),Q(),P()}},a.extend(y,{render:function(d){if(y.rendered)return y;var e=s.content.text,f=s.content.title.text,h=s.position,i=a.Event("tooltiprender");return a.attr(r[0],"aria-describedby",A),D=F.tooltip=a("<div/>",{id:A,"class":j+" qtip ui-helper-reset "+n+" "+s.style.classes+" "+j+"-pos-"+s.position.my.abbrev(),width:s.style.width||"",height:s.style.height||"",tracking:"mouse"===h.target&&h.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":c,"aria-describedby":A+"-content","aria-hidden":b}).toggleClass(l,G.disabled).data("qtip",y).appendTo(s.position.container).append(F.content=a("<div />",{"class":j+"-content",id:A+"-content","aria-atomic":b})),y.rendered=-1,B=C=1,f&&(L(),a.isFunction(f)||N(f,c)),a.isFunction(e)||O(e,c),y.rendered=b,I(),a.each(s.events,function(b,c){a.isFunction(c)&&D.bind("toggle"===b?"tooltipshow tooltiphide":"tooltip"+b,c)}),a.each(g,function(){"render"===this.initialize&&this(y)}),P(),D.queue("fx",function(a){i.originalEvent=G.event,D.trigger(i,[y]),B=C=0,y.redraw(),(s.show.ready||d)&&y.toggle(b,G.event,c),a()}),y},get:function(a){var b,c;switch(a.toLowerCase()){case"dimensions":b={height:D.outerHeight(),width:D.outerWidth()};break;case"offset":b=g.offset(D,s.position.container);break;default:c=H(a.toLowerCase()),b=c[0][c[1]],b=b.precedance?b.string():b}return b},set:function(e,f){function m(a,b){var c,d,e;for(c in k)for(d in k[c])(e=RegExp(d,"i").exec(a))&&(b.push(e),k[c][d].apply(y,b))}var l,g=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,h=/^content\.(title|attr)|style/i,i=c,j=c,k=y.checks;return"string"==typeof e?(l=e,e={},e[l]=f):e=a.extend(b,{},e),a.each(e,function(b,c){var f,d=H(b.toLowerCase());f=d[0][d[1]],d[0][d[1]]="object"==typeof c&&c.nodeType?a(c):c,e[b]=[d[0],d[1],c,f],i=g.test(b)||i,j=h.test(b)||j}),w(s),B=C=1,a.each(e,m),B=C=0,y.rendered&&D[0].offsetWidth>0&&(i&&y.reposition("mouse"===s.position.target?d:G.event),j&&y.redraw()),y},toggle:function(e,f){function t(){e?(a.browser.msie&&D[0].style.removeAttribute("filter"),D.css("overflow",""),"string"==typeof i.autofocus&&a(i.autofocus,D).focus(),i.target.trigger("qtip-"+v+"-inactive")):D.css({display:"",visibility:"",opacity:"",left:"",top:""}),r=a.Event("tooltip"+(e?"visible":"hidden")),r.originalEvent=f?G.event:d,D.trigger(r,[y])}if(!y.rendered)return e?y.render(1):y;var r,g=e?"show":"hide",i=s[g],k=(s[e?"hide":"show"],s.position),l=s.content,n=D[0].offsetWidth>0,o=e||1===i.target.length,p=!f||2>i.target.length||G.target[0]===f.target;if((typeof e).search("boolean|number")&&(e=!n),!D.is(":animated")&&n===e&&p)return y;if(f){if(/over|enter/.test(f.type)&&/out|leave/.test(G.event.type)&&s.show.target.add(f.target).length===s.show.target.length&&D.has(f.relatedTarget).length)return y;G.event=a.extend({},f)}return r=a.Event("tooltip"+g),r.originalEvent=f?G.event:d,D.trigger(r,[y,90]),r.isDefaultPrevented()?y:(a.attr(D[0],"aria-hidden",!e),e?(G.origin=a.extend({},h),y.focus(f),a.isFunction(l.text)&&O(l.text,c),a.isFunction(l.title.text)&&N(l.title.text,c),!u&&"mouse"===k.target&&k.adjust.mouse&&(a(document).bind("mousemove.qtip",function(a){h={pageX:a.pageX,pageY:a.pageY,type:"mousemove"}}),u=b),y.reposition(f,arguments[2]),(r.solo=!!i.solo)&&a(m,i.solo).not(D).qtip("hide",r)):(clearTimeout(y.timers.show),delete G.origin,u&&!a(m+'[tracking="true"]:visible',i.solo).not(D).length&&(a(document).unbind("mousemove.qtip"),u=c),y.blur(f)),i.effect===c||o===c?(D[g](),t.call(D)):a.isFunction(i.effect)?(D.stop(1,1),i.effect.call(D,y),D.queue("fx",function(a){t(),a()})):D.fadeTo(90,e?1:0,t),e&&i.target.trigger("qtip-"+v+"-inactive"),y)},show:function(a){return y.toggle(b,a)},hide:function(a){return y.toggle(c,a)},focus:function(b){if(!y.rendered)return y;var i,c=a(m),d=parseInt(D[0].style.zIndex,10),e=f.zindex+c.length,g=a.extend({},b);return D.hasClass(o)||(i=a.Event("tooltipfocus"),i.originalEvent=g,D.trigger(i,[y,e]),i.isDefaultPrevented()||(d!==e&&(c.each(function(){this.style.zIndex>d&&(this.style.zIndex=this.style.zIndex-1)}),c.filter("."+o).qtip("blur",g)),D.addClass(o)[0].style.zIndex=e)),y},blur:function(b){var d,c=a.extend({},b);return D.removeClass(o),d=a.Event("tooltipblur"),d.originalEvent=c,D.trigger(d,[y]),y},reposition:function(b,d){if(!y.rendered||B)return y;B=1;var H,e=s.position.target,f=s.position,i=f.my,k=f.at,l=f.adjust,m=l.method.split(" "),n=D.outerWidth(),o=D.outerHeight(),p=0,q=0,r=a.Event("tooltipmove"),t="fixed"===D.css("position"),u=f.viewport,v={left:0,top:0},w=f.container,x=c,A=y.plugins.tip,C=D[0].offsetWidth>0,E={horizontal:m[0],vertical:m[1]=m[1]||m[0],enabled:u.jquery&&e[0]!==window&&e[0]!==z&&"none"!==l.method,left:function(a){var b="shift"===E.horizontal,c=-w.offset.left+u.offset.left+u.scrollLeft,d="left"===i.x?n:"right"===i.x?-n:-n/2,e="left"===k.x?p:"right"===k.x?-p:-p/2,f=A&&A.size?A.size.width||0:0,g=A&&A.corner&&"x"===A.corner.precedance&&!b?f:0,h=c-a+g,j=a+n-u.width-c+g,m=d-("x"===i.precedance||i.x===i.y?e:0)-("center"===k.x?p/2:0),o="center"===i.x;return b?(g=A&&A.corner&&"y"===A.corner.precedance?f:0,m=("left"===i.x?1:-1)*d-g,v.left+=h>0?h:j>0?-j:0,v.left=Math.max(-w.offset.left+u.offset.left+(g&&"center"===A.corner.x?A.offset:0),a-m,Math.min(Math.max(-w.offset.left+u.offset.left+u.width,a+m),v.left))):(h>0&&("left"!==i.x||j>0)?v.left-=m:j>0&&("right"!==i.x||h>0)&&(v.left-=o?-m:m),v.left!==a&&o&&(v.left-=l.x),c>v.left&&-v.left>j&&(v.left=a)),v.left-a},top:function(a){var b="shift"===E.vertical,c=-w.offset.top+u.offset.top+u.scrollTop,d="top"===i.y?o:"bottom"===i.y?-o:-o/2,e="top"===k.y?q:"bottom"===k.y?-q:-q/2,f=A&&A.size?A.size.height||0:0,g=A&&A.corner&&"y"===A.corner.precedance&&!b?f:0,h=c-a+g,j=a+o-u.height-c+g,m=d-("y"===i.precedance||i.x===i.y?e:0)-("center"===k.y?q/2:0),n="center"===i.y;return b?(g=A&&A.corner&&"x"===A.corner.precedance?f:0,m=("top"===i.y?1:-1)*d-g,v.top+=h>0?h:j>0?-j:0,v.top=Math.max(-w.offset.top+u.offset.top+(g&&"center"===A.corner.x?A.offset:0),a-m,Math.min(Math.max(-w.offset.top+u.offset.top+u.height,a+m),v.top))):(h>0&&("top"!==i.y||j>0)?v.top-=m:j>0&&("bottom"!==i.y||h>0)&&(v.top-=n?-m:m),v.top!==a&&n&&(v.top-=l.y),0>v.top&&-v.top>j&&(v.top=a)),v.top-a}};if(a.isArray(e)&&2===e.length)k={x:"left",y:"top"},v={left:e[0],top:e[1]};else if("mouse"===e&&(b&&b.pageX||G.event.pageX))k={x:"left",y:"top"},b=(!b||"resize"!==b.type&&"scroll"!==b.type?b&&b.pageX&&"mousemove"===b.type?b:!h||!h.pageX||!l.mouse&&b&&b.pageX?!l.mouse&&G.origin&&G.origin.pageX&&s.show.distance?G.origin:b:{pageX:h.pageX,pageY:h.pageY}:G.event)||b||G.event||h||{},v={top:b.pageY,left:b.pageX};else{if(e="event"===e?b&&b.target&&"scroll"!==b.type&&"resize"!==b.type?G.target=a(b.target):G.target:G.target=a(e.jquery?e:F.target),e=a(e).eq(0),0===e.length)return y;e[0]===document||e[0]===window?(p=g.iOS?window.innerWidth:e.width(),q=g.iOS?window.innerHeight:e.height(),e[0]===window&&(v={top:(u||e).scrollTop(),left:(u||e).scrollLeft()})):e.is("area")&&g.imagemap?v=g.imagemap(e,k,E.enabled?m:c):"http://www.w3.org/2000/svg"===e[0].namespaceURI&&g.svg?v=g.svg(e,k):(p=e.outerWidth(),q=e.outerHeight(),v=g.offset(e,w)),v.offset&&(p=v.width,q=v.height,x=v.flipoffset,v=v.offset),(4.1>g.iOS&&g.iOS>3.1||4.3==g.iOS||!g.iOS&&t)&&(H=a(window),v.left-=H.scrollLeft(),v.top-=H.scrollTop()),v.left+="right"===k.x?p:"center"===k.x?p/2:0,v.top+="bottom"===k.y?q:"center"===k.y?q/2:0}return v.left+=l.x+("right"===i.x?-n:"center"===i.x?-n/2:0),v.top+=l.y+("bottom"===i.y?-o:"center"===i.y?-o/2:0),E.enabled?(u={elem:u,height:u[(u[0]===window?"h":"outerH")+"eight"](),width:u[(u[0]===window?"w":"outerW")+"idth"](),scrollLeft:t?0:u.scrollLeft(),scrollTop:t?0:u.scrollTop(),offset:u.offset()||{left:0,top:0}},w={elem:w,scrollLeft:w.scrollLeft(),scrollTop:w.scrollTop(),offset:w.offset()||{left:0,top:0}},v.adjusted={left:"none"!==E.horizontal?E.left(v.left):0,top:"none"!==E.vertical?E.top(v.top):0},v.adjusted.left+v.adjusted.top&&D.attr("class",D[0].className.replace(/ui-tooltip-pos-\w+/i,j+"-pos-"+i.abbrev())),x&&v.adjusted.left&&(v.left+=x.left),x&&v.adjusted.top&&(v.top+=x.top)):v.adjusted={left:0,top:0},r.originalEvent=a.extend({},b),D.trigger(r,[y,v,u.elem||u]),r.isDefaultPrevented()?y:(delete v.adjusted,d===c||!C||isNaN(v.left)||isNaN(v.top)||"mouse"===e||!a.isFunction(f.effect)?D.css(v):a.isFunction(f.effect)&&(f.effect.call(D,y,a.extend({},v)),D.queue(function(b){a(this).css({opacity:"",height:""}),a.browser.msie&&this.style.removeAttribute("filter"),b()})),B=0,y)},redraw:function(){if(1>y.rendered||C)return y;var b,c,d,e,a=s.position.container;return C=1,s.style.height&&D.css("height",s.style.height),s.style.width?D.css("width",s.style.width):(D.css("width","").addClass(q),c=D.width()+1,d=D.css("max-width")||"",e=D.css("min-width")||"",b=(d+e).indexOf("%")>-1?a.width()/100:0,d=(d.indexOf("%")>-1?b:1)*parseInt(d,10)||c,e=(e.indexOf("%")>-1?b:1)*parseInt(e,10)||0,c=d+e?Math.min(Math.max(c,e),d):c,D.css("width",Math.round(c)).removeClass(q)),C=0,y},disable:function(b){return"boolean"!=typeof b&&(b=!D.hasClass(l)&&!G.disabled),y.rendered?(D.toggleClass(l,b),a.attr(D[0],"aria-disabled",b)):G.disabled=!!b,y},enable:function(){return y.disable(c)},destroy:function(){var b=r[0],c=a.attr(b,t),d=r.data("qtip");return y.rendered&&(D.stop(1,0).remove(),a.each(y.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(y.timers.show),clearTimeout(y.timers.hide),Q(),d&&y!==d||(a.removeData(b,"qtip"),s.suppress&&c&&(a.attr(b,"title",c),r.removeAttr(t)),r.removeAttr("aria-describedby")),r.unbind(".qtip-"+v),delete i[y.id],r}})}function w(b){var e;return b&&"object"==typeof b?((b.metadata===d||"object"!=typeof b.metadata)&&(b.metadata={type:b.metadata}),"content"in b&&((b.content===d||"object"!=typeof b.content||b.content.jquery)&&(b.content={text:b.content}),e=b.content.text||c,!a.isFunction(e)&&(!e&&!e.attr||1>e.length||"object"==typeof e&&!e.jquery)&&(b.content.text=c),"title"in b.content&&((b.content.title===d||"object"!=typeof b.content.title)&&(b.content.title={text:b.content.title}),e=b.content.title.text||c,!a.isFunction(e)&&(!e&&!e.attr||1>e.length||"object"==typeof e&&!e.jquery)&&(b.content.title.text=c))),"position"in b&&(b.position===d||"object"!=typeof b.position)&&(b.position={my:b.position,at:b.position}),"show"in b&&(b.show===d||"object"!=typeof b.show)&&(b.show=b.show.jquery?{target:b.show}:{event:b.show}),"hide"in b&&(b.hide===d||"object"!=typeof b.hide)&&(b.hide=b.hide.jquery?{target:b.hide}:{event:b.hide}),"style"in b&&(b.style===d||"object"!=typeof b.style)&&(b.style={classes:b.style}),a.each(g,function(){this.sanitize&&this.sanitize(b)}),b):c}function v(){if(v.history=v.history||[],v.history.push(arguments),"object"==typeof console){var c,a=console[console.warn?"warn":"log"],b=Array.prototype.slice.call(arguments);"string"==typeof arguments[0]&&(b[0]="qTip2: "+b[0]),c=a.apply?a.apply(console,b):a(b)}}var e,f,g,h,u,b=!0,c=!1,d=null,i={},j="ui-tooltip",k="ui-widget",l="ui-state-disabled",m="div.qtip."+j,n=j+"-default",o=j+"-focus",p=j+"-hover",q=j+"-fluid",s="_replacedByqTip",t="oldtitle";f=a.fn.qtip=function(g,h,i){var j=(""+g).toLowerCase(),k=d,l=a.makeArray(arguments).slice(1),m=l[l.length-1],n=this[0]?a.data(this[0],"qtip"):d;return!arguments.length&&n||"api"===j?n:"string"==typeof g?(this.each(function(){var d=a.data(this,"qtip");if(!d)return b;if(m&&m.timeStamp&&(d.cache.event=m),"option"!==j&&"options"!==j||!h)d[j]&&d[j].apply(d[j],l);else{if(!a.isPlainObject(h)&&i===e)return k=d.get(h),c;d.set(h,i)}}),k!==d?k:this):"object"!=typeof g&&arguments.length?void 0:(n=w(a.extend(b,{},g)),f.bind.call(this,n,m))},f.bind=function(d,j){return this.each(function(k){function r(b){function d(){p.render("object"==typeof b||l.show.ready),m.show.add(m.hide).unbind(o)}return p.cache.disabled?c:(p.cache.event=a.extend({},b),p.cache.target=b?a(b.target):[e],l.show.delay>0?(clearTimeout(p.timers.show),p.timers.show=setTimeout(d,l.show.delay),n.show!==n.hide&&m.hide.bind(n.hide,function(){clearTimeout(p.timers.show)})):d(),void 0)}var l,m,n,o,p,q;return q=a.isArray(d.id)?d.id[k]:d.id,q=!q||q===c||1>q.length||i[q]?f.nextid++:i[q]=q,o=".qtip-"+q+"-create",p=y.call(this,q,d),p===c?b:(l=p.options,a.each(g,function(){"initialize"===this.initialize&&this(p)
}),m={show:l.show.target,hide:l.hide.target},n={show:a.trim(""+l.show.event).replace(/ /g,o+" ")+o,hide:a.trim(""+l.hide.event).replace(/ /g,o+" ")+o},/mouse(over|enter)/i.test(n.show)&&!/mouse(out|leave)/i.test(n.hide)&&(n.hide+=" mouseleave"+o),m.show.bind("mousemove"+o,function(a){h={pageX:a.pageX,pageY:a.pageY,type:"mousemove"},p.cache.onTarget=b}),m.show.bind(n.show,r),(l.show.ready||l.prerender)&&r(j),void 0)})},g=f.plugins={Corner:function(a){a=(""+a).replace(/([A-Z])/," $1").replace(/middle/gi,"center").toLowerCase(),this.x=(a.match(/left|right/i)||a.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(a.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var b=a.charAt(0);this.precedance="t"===b||"b"===b?"y":"x",this.string=function(){return"y"===this.precedance?this.y+this.x:this.x+this.y},this.abbrev=function(){var a=this.x.substr(0,1),b=this.y.substr(0,1);return a===b?a:"c"===a||"c"!==a&&"c"!==b?b+a:a+b},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone}}},offset:function(b,c){function j(a,b){d.left+=b*a.scrollLeft(),d.top+=b*a.scrollTop()}var g,h,i,d=b.offset(),e=b.closest("body")[0],f=c;if(f){do"static"!==f.css("position")&&(h=f.position(),d.left-=h.left+(parseInt(f.css("borderLeftWidth"),10)||0)+(parseInt(f.css("marginLeft"),10)||0),d.top-=h.top+(parseInt(f.css("borderTopWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0),!g&&"hidden"!==(i=f.css("overflow"))&&"visible"!==i&&(g=f));while((f=a(f[0].offsetParent)).length);g&&g[0]!==e&&j(g,1)}return d},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,3})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_","."))||c,fn:{attr:function(b,c){if(this.length){var d=this[0],e="title",f=a.data(d,"qtip");if(b===e&&f&&"object"==typeof f&&f.options.suppress)return 2>arguments.length?a.attr(d,t):(f&&f.options.content.attr===e&&f.cache.attr&&f.set("content.text",c),this.attr(t,c))}return a.fn["attr"+s].apply(this,arguments)},clone:function(b){var e=(a([]),a.fn["clone"+s].apply(this,arguments));return b||e.filter("["+t+"]").attr("title",function(){return a.attr(this,t)}).removeAttr(t),e}}},a.each(g.fn,function(c,d){if(!d||a.fn[c+s])return b;var e=a.fn[c+s]=a.fn[c];a.fn[c]=function(){return d.apply(this,arguments)||e.apply(this,arguments)}}),a.ui||(a["cleanData"+s]=a.cleanData,a.cleanData=function(b){for(var d,c=0;(d=b[c])!==e;c++)try{a(d).triggerHandler("removeqtip")}catch(f){}a["cleanData"+s](b)}),f.version="nightly",f.nextid=0,f.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),f.zindex=15e3,f.defaults={prerender:c,id:c,overwrite:b,suppress:b,content:{text:b,attr:"title",title:{text:c,button:c}},position:{my:"top left",at:"bottom right",target:c,container:c,viewport:c,adjust:{x:0,y:0,mouse:b,resize:b,method:"flip flip"},effect:function(b,d){a(this).animate(d,{duration:200,queue:c})}},show:{target:c,event:"mouseenter",effect:b,delay:90,solo:c,ready:c,autofocus:c},hide:{target:c,event:"mouseleave",effect:b,delay:0,fixed:c,inactive:c,leave:"window",distance:c},style:{classes:"",widget:c,width:c,height:c,def:b},events:{render:d,move:d,show:d,hide:d,toggle:d,visible:d,hidden:d,focus:d,blur:d}},g.ajax=function(a){var b=a.plugins.ajax;return"object"==typeof b?b:a.plugins.ajax=new z(a)},g.ajax.initialize="render",g.ajax.sanitize=function(a){var c,b=a.content;b&&"ajax"in b&&(c=b.ajax,"object"!=typeof c&&(c=a.content.ajax={url:c}),"boolean"!=typeof c.once&&c.once&&(c.once=!!c.once))},a.extend(b,f.defaults,{content:{ajax:{loading:b,once:b}}}),g.imagemap=function(b,c,d){function n(a,b,c){for(var d=0,e=1,f=1,g=0,h=0,i=a.width,j=a.height;i>0&&j>0&&e>0&&f>0;)for(i=Math.floor(i/2),j=Math.floor(j/2),"left"===c.x?e=i:"right"===c.x?e=a.width-i:e+=Math.floor(i/2),"top"===c.y?f=j:"bottom"===c.y?f=a.height-j:f+=Math.floor(j/2),d=b.length;d--&&!(2>b.length);)g=b[d][0]-a.offset.left,h=b[d][1]-a.offset.top,("left"===c.x&&g>=e||"right"===c.x&&e>=g||"center"===c.x&&(e>g||g>a.width-e)||"top"===c.y&&h>=f||"bottom"===c.y&&f>=h||"center"===c.y&&(f>h||h>a.height-f))&&b.splice(d,1);return{left:b[0][0],top:b[0][1]}}b.jquery||(b=a(b));var e=(b[0].shape||b.attr("shape")).toLowerCase(),f=(b[0].coords||b.attr("coords")).split(","),g=[],h=a('img[usemap="#'+b.parent("map").attr("name")+'"]'),i=h.offset(),j={width:0,height:0,offset:{top:1e10,right:0,bottom:0,left:1e10}},k=0,l=0;if(i.left+=Math.ceil((h.outerWidth()-h.width())/2),i.top+=Math.ceil((h.outerHeight()-h.height())/2),"poly"===e)for(k=f.length;k--;)l=[parseInt(f[--k],10),parseInt(f[k+1],10)],l[0]>j.offset.right&&(j.offset.right=l[0]),l[0]<j.offset.left&&(j.offset.left=l[0]),l[1]>j.offset.bottom&&(j.offset.bottom=l[1]),l[1]<j.offset.top&&(j.offset.top=l[1]),g.push(l);else g=a.map(f,function(a){return parseInt(a,10)});switch(e){case"rect":j={width:Math.abs(g[2]-g[0]),height:Math.abs(g[3]-g[1]),offset:{left:Math.min(g[0],g[2]),top:Math.min(g[1],g[3])}};break;case"circle":j={width:g[2]+2,height:g[2]+2,offset:{left:g[0],top:g[1]}};break;case"poly":a.extend(j,{width:Math.abs(j.offset.right-j.offset.left),height:Math.abs(j.offset.bottom-j.offset.top)}),"centercenter"===c.string()?j.offset={left:j.offset.left+j.width/2,top:j.offset.top+j.height/2}:(j.offset=n(j,g.slice(),c),d&&("flip"===d[0]||"flip"===d[1])&&(j.flipoffset=n(j,g.slice(),{x:"left"===c.x?"right":"right"===c.x?"left":"center",y:"top"===c.y?"bottom":"bottom"===c.y?"top":"center"}),j.flipoffset.left-=j.offset.left,j.flipoffset.top-=j.offset.top)),j.width=j.height=0}return j.offset.left+=i.left,j.offset.top+=i.top,j},g.tip=function(a){var b=a.plugins.tip;return"object"==typeof b?b:a.plugins.tip=new B(a)},g.tip.initialize="render",g.tip.sanitize=function(a){var d,c=a.style;c&&"tip"in c&&(d=a.style.tip,"object"!=typeof d&&(a.style.tip={corner:d}),/string|boolean/i.test(typeof d.corner)||(d.corner=b),"number"!=typeof d.width&&delete d.width,"number"!=typeof d.height&&delete d.height,"number"!=typeof d.border&&d.border!==b&&delete d.border,"number"!=typeof d.offset&&delete d.offset)},a.extend(b,f.defaults,{style:{tip:{corner:b,mimic:c,width:6,height:6,border:b,offset:0}}}),g.svg=function(b){var g,h,i,j,k,d=a(document),e=b[0],f={width:0,height:0,offset:{top:1e10,left:1e10}};if(e.getBBox&&e.parentNode){if(g=e.getBBox(),h=e.getScreenCTM(),i=e.farthestViewportElement||e,!i.createSVGPoint)return f;j=i.createSVGPoint(),j.x=g.x,j.y=g.y,k=j.matrixTransform(h),f.offset.left=k.x,f.offset.top=k.y,j.x+=g.width,j.y+=g.height,k=j.matrixTransform(h),f.width=k.x-f.offset.left,f.height=k.y-f.offset.top,f.offset.left+=d.scrollLeft(),f.offset.top+=d.scrollTop()}return f},g.modal=function(a){var b=a.plugins.modal;return"object"==typeof b?b:a.plugins.modal=new C(a)},g.modal.initialize="render",g.modal.sanitize=function(a){a.show&&("object"!=typeof a.show.modal?a.show.modal={on:!!a.show.modal}:a.show.modal.on===void 0&&(a.show.modal.on=b))},g.modal.zindex=f.zindex+1e3,a.extend(b,f.defaults,{show:{modal:{on:c,effect:b,blur:b,escape:b}}}),g.bgiframe=function(b){var d=a.browser,e=b.plugins.bgiframe;return 1>a("select, object").length||!d.msie||"6"!==(""+d.version).charAt(0)?c:"object"==typeof e?e:b.plugins.bgiframe=new D(b)},g.bgiframe.initialize="render"});(function($){function refresh(){var data=prepareData(this);return isNaN(data.datetime)||$(this).text(inWords(data.datetime)),this}function prepareData(element){if(element=$(element),!element.data("timeago")){element.data("timeago",{datetime:$t.datetime(element)});var text=$.trim(element.text());text.length>0&&element.attr("title",text)}return element.data("timeago")}function inWords(date){return $t.inWords(distance(date))}function distance(date){return(new Date).getTime()-date.getTime()}$.timeago=function(timestamp){return timestamp instanceof Date?inWords(timestamp):"string"==typeof timestamp?inWords($.timeago.parse(timestamp)):inWords($.timeago.datetime(timestamp))};var $t=$.timeago;$.extend($.timeago,{settings:{refreshMillis:6e4,allowFuture:!1,strings:{prefixAgo:null,prefixFromNow:null,suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years",numbers:[]}},inWords:function(distanceMillis){function substitute(stringOrFunction,number){var string=$.isFunction(stringOrFunction)?stringOrFunction(number,distanceMillis):stringOrFunction,value=$l.numbers&&$l.numbers[number]||number;return string.replace(/%d/i,value)}var $l=this.settings.strings,prefix=$l.prefixAgo,suffix=$l.suffixAgo;this.settings.allowFuture&&0>distanceMillis&&(prefix=$l.prefixFromNow,suffix=$l.suffixFromNow);var seconds=Math.abs(distanceMillis)/1e3,minutes=seconds/60,hours=minutes/60,days=hours/24,years=days/365,words=45>seconds&&substitute($l.seconds,Math.round(seconds))||90>seconds&&substitute($l.minute,1)||45>minutes&&substitute($l.minutes,Math.round(minutes))||90>minutes&&substitute($l.hour,1)||24>hours&&substitute($l.hours,Math.round(hours))||48>hours&&substitute($l.day,1)||30>days&&substitute($l.days,Math.floor(days))||60>days&&substitute($l.month,1)||365>days&&substitute($l.months,Math.floor(days/30))||2>years&&substitute($l.year,1)||substitute($l.years,Math.floor(years));return $.trim([prefix,words,suffix].join(" "))},parse:function(iso8601){var s=$.trim(iso8601);return s=s.replace(/\.\d\d\d+/,""),s=s.replace(/-/,"/").replace(/-/,"/"),s=s.replace(/T/," ").replace(/Z/," UTC"),s=s.replace(/([\+\-]\d\d)\:?(\d\d)/," $1$2"),new Date(s)},datetime:function(elem){var isTime="time"===$(elem).get(0).tagName.toLowerCase(),iso8601=isTime?$(elem).attr("datetime"):$(elem).attr("title");return $t.parse(iso8601)}}),$.fn.timeago=function(){var self=this;self.each(refresh);var $s=$t.settings;return $s.refreshMillis>0&&setInterval(function(){self.each(refresh)},$s.refreshMillis),self},document.createElement("abbr"),document.createElement("time")})(jQuery);(function(){function r(a,c,d){if(a===c)return 0!==a||1/a==1/c;if(null==a||null==c)return a===c;if(a._chain&&(a=a._wrapped),c._chain&&(c=c._wrapped),a.isEqual&&b.isFunction(a.isEqual))return a.isEqual(c);if(c.isEqual&&b.isFunction(c.isEqual))return c.isEqual(a);var e=l.call(a);if(e!=l.call(c))return!1;switch(e){case"[object String]":return a==c+"";case"[object Number]":return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case"[object Date]":case"[object Boolean]":return+a==+c;case"[object RegExp]":return a.source==c.source&&a.global==c.global&&a.multiline==c.multiline&&a.ignoreCase==c.ignoreCase}if("object"!=typeof a||"object"!=typeof c)return!1;for(var f=d.length;f--;)if(d[f]==a)return!0;d.push(a);var f=0,g=!0;if("[object Array]"==e){if(f=a.length,g=f==c.length)for(;f--&&(g=f in a==f in c&&r(a[f],c[f],d)););}else{if("constructor"in a!="constructor"in c||a.constructor!=c.constructor)return!1;for(var h in a)if(m.call(a,h)&&(f++,!(g=m.call(c,h)&&r(a[h],c[h],d))))break;if(g){for(h in c)if(m.call(c,h)&&!f--)break;g=!f}}return d.pop(),g}var s=this,F=s._,o={},k=Array.prototype,p=Object.prototype,i=k.slice,G=k.concat,H=k.unshift,l=p.toString,m=p.hasOwnProperty,v=k.forEach,w=k.map,x=k.reduce,y=k.reduceRight,z=k.filter,A=k.every,B=k.some,q=k.indexOf,C=k.lastIndexOf,p=Array.isArray,I=Object.keys,t=Function.prototype.bind,b=function(a){return new n(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):"function"==typeof define&&define.amd?define("underscore",function(){return b}):s._=b,b.VERSION="1.2.3";var j=b.each=b.forEach=function(a,c,b){if(null!=a)if(v&&a.forEach===v)a.forEach(c,b);else if(a.length===+a.length)for(var e=0,f=a.length;f>e&&!(e in a&&c.call(b,a[e],e,a)===o);e++);else for(e in a)if(m.call(a,e)&&c.call(b,a[e],e,a)===o)break};b.map=function(a,c,b){var e=[];return null==a?e:w&&a.map===w?a.map(c,b):(j(a,function(a,g,h){e[e.length]=c.call(b,a,g,h)}),e)},b.reduce=b.foldl=b.inject=function(a,c,d,e){var f=arguments.length>2;if(null==a&&(a=[]),x&&a.reduce===x)return e&&(c=b.bind(c,e)),f?a.reduce(c,d):a.reduce(c);if(j(a,function(a,b,i){f?d=c.call(e,d,a,b,i):(d=a,f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return d},b.reduceRight=b.foldr=function(a,c,d,e){var f=arguments.length>2;if(null==a&&(a=[]),y&&a.reduceRight===y)return e&&(c=b.bind(c,e)),f?a.reduceRight(c,d):a.reduceRight(c);var g=b.toArray(a).reverse();return e&&!f&&(c=b.bind(c,e)),f?b.reduce(g,c,d,e):b.reduce(g,c)},b.find=b.detect=function(a,c,b){var e;return D(a,function(a,g,h){return c.call(b,a,g,h)?(e=a,!0):void 0}),e},b.filter=b.select=function(a,c,b){var e=[];return null==a?e:z&&a.filter===z?a.filter(c,b):(j(a,function(a,g,h){c.call(b,a,g,h)&&(e[e.length]=a)}),e)},b.reject=function(a,c,b){var e=[];return null==a?e:(j(a,function(a,g,h){c.call(b,a,g,h)||(e[e.length]=a)}),e)},b.every=b.all=function(a,c,b){var e=!0;return null==a?e:A&&a.every===A?a.every(c,b):(j(a,function(a,g,h){return(e=e&&c.call(b,a,g,h))?void 0:o}),e)};var D=b.some=b.any=function(a,c,d){c||(c=b.identity);var e=!1;return null==a?e:B&&a.some===B?a.some(c,d):(j(a,function(a,b,h){return e||(e=c.call(d,a,b,h))?o:void 0}),!!e)};b.include=b.contains=function(a,c){var b=!1;return null==a?b:q&&a.indexOf===q?-1!=a.indexOf(c):b=D(a,function(a){return a===c})},b.invoke=function(a,c){var d=i.call(arguments,2);return b.map(a,function(a){return(c.call?c||a:a[c]).apply(a,d)})},b.pluck=function(a,c){return b.map(a,function(a){return a[c]})},b.max=function(a,c,d){if(!c&&b.isArray(a))return Math.max.apply(Math,a);if(!c&&b.isEmpty(a))return-1/0;var e={computed:-1/0};return j(a,function(a,b,h){b=c?c.call(d,a,b,h):a,b>=e.computed&&(e={value:a,computed:b})}),e.value},b.min=function(a,c,d){if(!c&&b.isArray(a))return Math.min.apply(Math,a);if(!c&&b.isEmpty(a))return 1/0;var e={computed:1/0};return j(a,function(a,b,h){b=c?c.call(d,a,b,h):a,e.computed>b&&(e={value:a,computed:b})}),e.value},b.shuffle=function(a){var b,c=[];return j(a,function(a,f){0==f?c[0]=a:(b=Math.floor(Math.random()*(f+1)),c[f]=c[b],c[b]=a)}),c},b.sortBy=function(a,c,d){return b.pluck(b.map(a,function(a,b,g){return{value:a,criteria:c.call(d,a,b,g)}}).sort(function(a,c){var b=a.criteria,d=c.criteria;return d>b?-1:b>d?1:0}),"value")},b.groupBy=function(a,c){var d={},e=b.isFunction(c)?c:function(a){return a[c]};return j(a,function(a,b){var c=e(a,b);(d[c]||(d[c]=[])).push(a)}),d},b.sortedIndex=function(a,c,d){d||(d=b.identity);for(var e=0,f=a.length;f>e;){var g=e+f>>1;d(a[g])<d(c)?e=g+1:f=g}return e},b.toArray=function(a){return a?a.toArray?a.toArray():b.isArray(a)?i.call(a):b.isArguments(a)?i.call(a):b.values(a):[]},b.size=function(a){return b.toArray(a).length},b.first=b.head=function(a,b,d){return null==b||d?a[0]:i.call(a,0,b)},b.initial=function(a,b,d){return i.call(a,0,a.length-(null==b||d?1:b))},b.last=function(a,b,d){return null==b||d?a[a.length-1]:i.call(a,Math.max(a.length-b,0))},b.rest=b.tail=function(a,b,d){return i.call(a,null==b||d?1:b)},b.compact=function(a){return b.filter(a,function(a){return!!a})},b.flatten=function(a,c){return b.reduce(a,function(a,e){return b.isArray(e)?a.concat(c?e:b.flatten(e)):(a[a.length]=e,a)},[])},b.without=function(a){return b.difference(a,i.call(arguments,1))},b.uniq=b.unique=function(a,c,d){var d=d?b.map(a,d):a,e=[];return b.reduce(d,function(d,g,h){return 0!=h&&(c===!0?b.last(d)==g:b.include(d,g))||(d[d.length]=g,e[e.length]=a[h]),d},[]),e},b.union=function(){return b.uniq(b.flatten(arguments,!0))},b.intersection=b.intersect=function(a){var c=i.call(arguments,1);return b.filter(b.uniq(a),function(a){return b.every(c,function(c){return b.indexOf(c,a)>=0})})},b.difference=function(a){var c=b.flatten(i.call(arguments,1));return b.filter(a,function(a){return!b.include(c,a)})},b.zip=function(){for(var a=i.call(arguments),c=b.max(b.pluck(a,"length")),d=Array(c),e=0;c>e;e++)d[e]=b.pluck(a,""+e);return d},b.indexOf=function(a,c,d){if(null==a)return-1;var e;if(d)return d=b.sortedIndex(a,c),a[d]===c?d:-1;if(q&&a.indexOf===q)return a.indexOf(c);for(d=0,e=a.length;e>d;d++)if(d in a&&a[d]===c)return d;return-1},b.lastIndexOf=function(a,b){if(null==a)return-1;if(C&&a.lastIndexOf===C)return a.lastIndexOf(b);for(var d=a.length;d--;)if(d in a&&a[d]===b)return d;return-1},b.range=function(a,b,d){1>=arguments.length&&(b=a||0,a=0);for(var d=arguments[2]||1,e=Math.max(Math.ceil((b-a)/d),0),f=0,g=Array(e);e>f;)g[f++]=a,a+=d;return g};var E=function(){};b.bind=function(a,c){var d,e;if(a.bind===t&&t)return t.apply(a,i.call(arguments,1));if(!b.isFunction(a))throw new TypeError;return e=i.call(arguments,2),d=function(){if(!(this instanceof d))return a.apply(c,e.concat(i.call(arguments)));E.prototype=a.prototype;var b=new E,g=a.apply(b,e.concat(i.call(arguments)));return Object(g)===g?g:b}},b.bindAll=function(a){var c=i.call(arguments,1);return 0==c.length&&(c=b.functions(a)),j(c,function(c){a[c]=b.bind(a[c],a)}),a},b.memoize=function(a,c){var d={};return c||(c=b.identity),function(){var b=c.apply(this,arguments);return m.call(d,b)?d[b]:d[b]=a.apply(this,arguments)}},b.delay=function(a,b){var d=i.call(arguments,2);return setTimeout(function(){return a.apply(a,d)},b)},b.defer=function(a){return b.delay.apply(b,[a,1].concat(i.call(arguments,1)))},b.throttle=function(a,c){var d,e,f,g,h,i=b.debounce(function(){h=g=!1},c);return function(){d=this,e=arguments,f||(f=setTimeout(function(){f=null,h&&a.apply(d,e),i()},c)),g?h=!0:a.apply(d,e),i(),g=!0}},b.debounce=function(a,b){var d;return function(){var e=this,f=arguments;clearTimeout(d),d=setTimeout(function(){d=null,a.apply(e,f)},b)}},b.once=function(a){var d,b=!1;return function(){return b?d:(b=!0,d=a.apply(this,arguments))}},b.wrap=function(a,b){return function(){var d=G.apply([a],arguments);return b.apply(this,d)}},b.compose=function(){var a=arguments;return function(){for(var b=arguments,d=a.length-1;d>=0;d--)b=[a[d].apply(this,b)];return b[0]}},b.after=function(a,b){return 0>=a?b():function(){return 1>--a?b.apply(this,arguments):void 0}},b.keys=I||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var d,b=[];for(d in a)m.call(a,d)&&(b[b.length]=d);return b},b.values=function(a){return b.map(a,b.identity)},b.functions=b.methods=function(a){var d,c=[];for(d in a)b.isFunction(a[d])&&c.push(d);return c.sort()},b.extend=function(a){return j(i.call(arguments,1),function(b){for(var d in b)void 0!==b[d]&&(a[d]=b[d])}),a},b.defaults=function(a){return j(i.call(arguments,1),function(b){for(var d in b)null==a[d]&&(a[d]=b[d])}),a},b.clone=function(a){return b.isObject(a)?b.isArray(a)?a.slice():b.extend({},a):a},b.tap=function(a,b){return b(a),a},b.isEqual=function(a,b){return r(a,b,[])},b.isEmpty=function(a){if(b.isArray(a)||b.isString(a))return 0===a.length;for(var c in a)if(m.call(a,c))return!1;return!0},b.isElement=function(a){return!(!a||1!=a.nodeType)},b.isArray=p||function(a){return"[object Array]"==l.call(a)},b.isObject=function(a){return a===Object(a)},b.isArguments=function(a){return"[object Arguments]"==l.call(a)},b.isArguments(arguments)||(b.isArguments=function(a){return!(!a||!m.call(a,"callee"))}),b.isFunction=function(a){return"[object Function]"==l.call(a)},b.isString=function(a){return"[object String]"==l.call(a)},b.isNumber=function(a){return"[object Number]"==l.call(a)},b.isNaN=function(a){return a!==a},b.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},b.isDate=function(a){return"[object Date]"==l.call(a)},b.isRegExp=function(a){return"[object RegExp]"==l.call(a)},b.isNull=function(a){return null===a},b.isUndefined=function(a){return void 0===a},b.noConflict=function(){return s._=F,this},b.identity=function(a){return a},b.times=function(a,b,d){for(var e=0;a>e;e++)b.call(d,e)},b.escape=function(a){return(""+a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},b.mixin=function(a){j(b.functions(a),function(c){J(c,b[c]=a[c])})};var K=0;b.uniqueId=function(a){var b=K++;return a?a+b:b},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},b.template=function(a,c){var d=b.templateSettings,d="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(d.escape,function(a,b){return"',_.escape("+b.replace(/\\'/g,"'")+"),'"}).replace(d.interpolate,function(a,b){return"',"+b.replace(/\\'/g,"'")+",'"}).replace(d.evaluate||null,function(a,b){return"');"+b.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",e=Function("obj","_",d);return c?e(c,b):function(a){return e.call(this,a,b)}};var n=function(a){this._wrapped=a};b.prototype=n.prototype;var u=function(a,c){return c?b(a).chain():a},J=function(a,c){n.prototype[a]=function(){var a=i.call(arguments);return H.call(a,this._wrapped),u(c.apply(b,a),this._chain)}};b.mixin(b),j("pop,push,reverse,shift,sort,splice,unshift".split(","),function(a){var b=k[a];n.prototype[a]=function(){return b.apply(this._wrapped,arguments),u(this._wrapped,this._chain)}}),j(["concat","join","slice"],function(a){var b=k[a];n.prototype[a]=function(){return u(b.apply(this._wrapped,arguments),this._chain)}}),n.prototype.chain=function(){return this._chain=!0,this},n.prototype.value=function(){return this._wrapped}}).call(this);(function(){var Backbone;Backbone="undefined"!=typeof exports?exports:this.Backbone={},Backbone.VERSION="0.3.3";var _=this._;_||"undefined"==typeof require||(_=require("underscore")._);var $=this.jQuery||this.Zepto;Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1,Backbone.Events={bind:function(ev,callback){this._callbacks||(this._callbacks={});var list=this._callbacks[ev]||(this._callbacks[ev]=[]);return list.push(callback),this},unbind:function(ev,callback){var calls;if(ev){if(calls=this._callbacks)if(callback){var list=calls[ev];if(!list)return this;for(var i=0,l=list.length;l>i;i++)if(callback===list[i]){list.splice(i,1);break}}else calls[ev]=[]}else this._callbacks={};return this},trigger:function(ev){var list,calls,i,l;if(!(calls=this._callbacks))return this;if(calls[ev])for(list=calls[ev].slice(0),i=0,l=list.length;l>i;i++)list[i].apply(this,Array.prototype.slice.call(arguments,1));if(calls.all)for(list=calls.all.slice(0),i=0,l=list.length;l>i;i++)list[i].apply(this,arguments);return this}},Backbone.Model=function(attributes,options){var defaults;attributes||(attributes={}),(defaults=this.defaults)&&(_.isFunction(defaults)&&(defaults=defaults()),attributes=_.extend({},defaults,attributes)),this.attributes={},this._escapedAttributes={},this.cid=_.uniqueId("c"),this.set(attributes,{silent:!0}),this._changed=!1,this._previousAttributes=_.clone(this.attributes),options&&options.collection&&(this.collection=options.collection),this.initialize(attributes,options)},_.extend(Backbone.Model.prototype,Backbone.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return _.clone(this.attributes)},get:function(attr){return this.attributes[attr]},escape:function(attr){var html;if(html=this._escapedAttributes[attr])return html;var val=this.attributes[attr];return this._escapedAttributes[attr]=escapeHTML(null==val?"":""+val)},has:function(attr){return null!=this.attributes[attr]},set:function(attrs,options){if(options||(options={}),!attrs)return this;attrs.attributes&&(attrs=attrs.attributes);var now=this.attributes,escaped=this._escapedAttributes;if(!options.silent&&this.validate&&!this._performValidation(attrs,options))return!1;this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]);for(var attr in attrs){var val=attrs[attr];_.isEqual(now[attr],val)||(now[attr]=val,delete escaped[attr],this._changed=!0,options.silent||this.trigger("change:"+attr,this,val,options))}return!options.silent&&this._changed&&this.change(options),this},unset:function(attr,options){if(!(attr in this.attributes))return this;options||(options={}),this.attributes[attr];var validObj={};return validObj[attr]=void 0,options.silent||!this.validate||this._performValidation(validObj,options)?(delete this.attributes[attr],delete this._escapedAttributes[attr],attr==this.idAttribute&&delete this.id,this._changed=!0,options.silent||(this.trigger("change:"+attr,this,void 0,options),this.change(options)),this):!1},clear:function(options){options||(options={});var old=this.attributes,validObj={};for(attr in old)validObj[attr]=void 0;if(!options.silent&&this.validate&&!this._performValidation(validObj,options))return!1;if(this.attributes={},this._escapedAttributes={},this._changed=!0,!options.silent){for(attr in old)this.trigger("change:"+attr,this,void 0,options);this.change(options)}return this},fetch:function(options){options||(options={});var model=this,success=options.success;return options.success=function(resp){return model.set(model.parse(resp),options)?(success&&success(model,resp),void 0):!1},options.error=wrapError(options.error,model,options),(this.sync||Backbone.sync).call(this,"read",this,options),this},save:function(attrs,options){if(options||(options={}),attrs&&!this.set(attrs,options))return!1;var model=this,success=options.success;options.success=function(resp){return model.set(model.parse(resp),options)?(success&&success(model,resp),void 0):!1},options.error=wrapError(options.error,model,options);var method=this.isNew()?"create":"update";return(this.sync||Backbone.sync).call(this,method,this,options),this},destroy:function(options){options||(options={});var model=this,success=options.success;return options.success=function(resp){model.trigger("destroy",model,model.collection,options),success&&success(model,resp)},options.error=wrapError(options.error,model,options),(this.sync||Backbone.sync).call(this,"delete",this,options),this},url:function(){var base=getUrl(this.collection)||this.urlRoot||urlError();return this.isNew()?base:base+("/"==base.charAt(base.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(resp){return resp},clone:function(){return new this.constructor(this)},isNew:function(){return!this.id},change:function(options){this.trigger("change",this,options),this._previousAttributes=_.clone(this.attributes),this._changed=!1},hasChanged:function(attr){return attr?this._previousAttributes[attr]!=this.attributes[attr]:this._changed},changedAttributes:function(now){now||(now=this.attributes);var old=this._previousAttributes,changed=!1;for(var attr in now)_.isEqual(old[attr],now[attr])||(changed=changed||{},changed[attr]=now[attr]);return changed},previous:function(attr){return attr&&this._previousAttributes?this._previousAttributes[attr]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},_performValidation:function(attrs,options){var error=this.validate(attrs);return error?(options.error?options.error(this,error):this.trigger("error",this,error,options),!1):!0}}),Backbone.Collection=function(models,options){options||(options={}),options.comparator&&(this.comparator=options.comparator,delete options.comparator),_.bindAll(this,"_onModelEvent","_removeReference"),this._reset(),models&&this.refresh(models,{silent:!0}),this.initialize(models,options)},_.extend(Backbone.Collection.prototype,Backbone.Events,{model:Backbone.Model,initialize:function(){},toJSON:function(){return this.map(function(model){return model.toJSON()})},add:function(models,options){if(_.isArray(models))for(var i=0,l=models.length;l>i;i++)this._add(models[i],options);else this._add(models,options);return this},remove:function(models,options){if(_.isArray(models))for(var i=0,l=models.length;l>i;i++)this._remove(models[i],options);else this._remove(models,options);return this},get:function(id){return null==id?null:this._byId[null!=id.id?id.id:id]},getByCid:function(cid){return cid&&this._byCid[cid.cid||cid]},at:function(index){return this.models[index]},sort:function(options){if(options||(options={}),!this.comparator)throw Error("Cannot sort a set without a comparator");return this.models=this.sortBy(this.comparator),options.silent||this.trigger("refresh",this,options),this},pluck:function(attr){return _.map(this.models,function(model){return model.get(attr)})},refresh:function(models,options){return models||(models=[]),options||(options={}),this.each(this._removeReference),this._reset(),this.add(models,{silent:!0}),options.silent||this.trigger("refresh",this,options),this},fetch:function(options){options||(options={});var collection=this,success=options.success;return options.success=function(resp){collection[options.add?"add":"refresh"](collection.parse(resp),options),success&&success(collection,resp)},options.error=wrapError(options.error,collection,options),(this.sync||Backbone.sync).call(this,"read",this,options),this},create:function(model,options){var coll=this;if(options||(options={}),model instanceof Backbone.Model)model.collection=coll;else{var attrs=model;if(model=new this.model(null,{collection:coll}),!model.set(attrs))return!1}var success=options.success;return options.success=function(nextModel,resp){coll.add(nextModel),success&&success(nextModel,resp)},model.save(null,options)},parse:function(resp){return resp},chain:function(){return _(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_add:function(model,options){options||(options={}),model instanceof Backbone.Model||(model=new this.model(model,{collection:this}));var already=this.getByCid(model);if(already)throw Error(["Can't add the same model to a set twice",already.id]);this._byId[model.id]=model,this._byCid[model.cid]=model,model.collection||(model.collection=this);var index=this.comparator?this.sortedIndex(model,this.comparator):this.length;return this.models.splice(index,0,model),model.bind("all",this._onModelEvent),this.length++,options.silent||model.trigger("add",model,this,options),model},_remove:function(model,options){return options||(options={}),(model=this.getByCid(model)||this.get(model))?(delete this._byId[model.id],delete this._byCid[model.cid],this.models.splice(this.indexOf(model),1),this.length--,options.silent||model.trigger("remove",model,this,options),this._removeReference(model),model):null},_removeReference:function(model){this==model.collection&&delete model.collection,model.unbind("all",this._onModelEvent)},_onModelEvent:function(ev,model,collection,options){("add"!=ev&&"remove"!=ev||collection==this)&&("destroy"==ev&&this._remove(model,options),model&&ev==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],this._byId[model.id]=model),this.trigger.apply(this,arguments))}});var methods=["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty"];_.each(methods,function(method){Backbone.Collection.prototype[method]=function(){return _[method].apply(_,[this.models].concat(_.toArray(arguments)))}}),Backbone.Controller=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize(options)};var namedParam=/:([\w\d]+)/g,splatParam=/\*([\w\d]+)/g,escapeRegExp=/[-[\]{}()+?.,\\^$|#\s]/g;_.extend(Backbone.Controller.prototype,Backbone.Events,{initialize:function(){},route:function(route,name,callback){Backbone.history||(Backbone.history=new Backbone.History),_.isRegExp(route)||(route=this._routeToRegExp(route)),Backbone.history.route(route,_.bind(function(fragment){var args=this._extractParameters(route,fragment);callback.apply(this,args),this.trigger.apply(this,["route:"+name].concat(args))},this))},saveLocation:function(fragment){Backbone.history.saveLocation(fragment)},_bindRoutes:function(){if(this.routes){var routes=[];for(var route in this.routes)routes.unshift([route,this.routes[route]]);for(var i=0,l=routes.length;l>i;i++)this.route(routes[i][0],routes[i][1],this[routes[i][1]])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(namedParam,"([^/]*)").replace(splatParam,"(.*?)"),RegExp("^"+route+"$")},_extractParameters:function(route,fragment){return route.exec(fragment).slice(1)}}),Backbone.History=function(){this.handlers=[],this.fragment=this.getFragment(),_.bindAll(this,"checkUrl")};var hashStrip=/^#*/,historyStarted=!1;_.extend(Backbone.History.prototype,{interval:50,getFragment:function(loc){return matches=(loc||window.location).href.match(/^[^#]*#?(.*)$/),matches.length>1?matches[1]:""},start:function(){if(historyStarted)throw Error("Backbone.history has already been started");var docMode=document.documentMode,oldIE=$.browser.msie&&(!docMode||7>=docMode);return oldIE&&(this.iframe=$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow),"onhashchange"in window&&!oldIE?$(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval),historyStarted=!0,this.loadUrl()},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(){var current=this.getFragment();return current==this.fragment||current==decodeURIComponent(this.fragment)?!1:(this.iframe&&(window.location.hash=this.iframe.location.hash=current),this.loadUrl(),void 0)},loadUrl:function(){var fragment=this.fragment=this.getFragment(),matched=_.any(this.handlers,function(handler){return handler.route.test(fragment)?(handler.callback(fragment),!0):void 0});return matched},saveLocation:function(fragment){fragment=(fragment||"").replace(hashStrip,""),window.location.hash=this.fragment=fragment,this.iframe&&fragment!=this.getFragment(this.iframe.location)&&(this.iframe.document.open().close(),this.iframe.location.hash=fragment)}}),Backbone.View=function(options){this.cid=_.uniqueId("view"),this._configure(options||{}),this._ensureElement(),this.delegateEvents(),this.initialize(options)};var selectorDelegate=function(selector){return $(selector,this.el)},eventSplitter=/^(\w+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName"];_.extend(Backbone.View.prototype,Backbone.Events,{tagName:"div",$:selectorDelegate,initialize:function(){},render:function(){return this},remove:function(){return $(this.el).remove(),this},make:function(tagName,attributes,content){var el=document.createElement(tagName);return attributes&&$(el).attr(attributes),content&&$(el).html(content),el},delegateEvents:function(events){if(events||(events=this.events)){$(this.el).unbind(".delegateEvents"+this.cid);for(var key in events){var methodName=events[key],match=key.match(eventSplitter),eventName=match[1],selector=match[2],method=_.bind(this[methodName],this);eventName+=".delegateEvents"+this.cid,""===selector?$(this.el).bind(eventName,method):$(this.el).delegate(selector,eventName,method)}}},_configure:function(options){this.options&&(options=_.extend({},this.options,options));for(var i=0,l=viewOptions.length;l>i;i++){var attr=viewOptions[i];options[attr]&&(this[attr]=options[attr])}this.options=options},_ensureElement:function(){if(this.el)_.isString(this.el)&&(this.el=$(this.el).get(0));else{var attrs=this.attributes||{};this.id&&(attrs.id=this.id),this.className&&(attrs["class"]=this.className),this.el=this.make(this.tagName,attrs)}}});var extend=function(protoProps,classProps){var child=inherits(this,protoProps,classProps);return child.extend=extend,child};Backbone.Model.extend=Backbone.Collection.extend=Backbone.Controller.extend=Backbone.View.extend=extend;var methodMap={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};Backbone.sync=function(method,model,options){var type=methodMap[method],params=_.extend({type:type,contentType:"application/json",dataType:"json",processData:!1},options);params.url||(params.url=getUrl(model)||urlError()),params.data||!model||"create"!=method&&"update"!=method||(params.data=JSON.stringify(model.toJSON())),Backbone.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.processData=!0,params.data=params.data?{model:params.data}:{}),Backbone.emulateHTTP&&("PUT"===type||"DELETE"===type)&&(Backbone.emulateJSON&&(params.data._method=type),params.type="POST",params.beforeSend=function(xhr){xhr.setRequestHeader("X-HTTP-Method-Override",type)}),$.ajax(params)};var ctor=function(){},inherits=function(parent,protoProps,staticProps){var child;return child=protoProps&&protoProps.hasOwnProperty("constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},_.extend(child,parent),ctor.prototype=parent.prototype,child.prototype=new ctor,protoProps&&_.extend(child.prototype,protoProps),staticProps&&_.extend(child,staticProps),child.prototype.constructor=child,child.__super__=parent.prototype,child},getUrl=function(object){return object&&object.url?_.isFunction(object.url)?object.url():object.url:null},urlError=function(){throw Error("A 'url' property or function must be specified")},wrapError=function(onError,model,options){return function(resp){onError?onError(model,resp,options):model.trigger("error",model,resp,options)}},escapeHTML=function(string){return string.replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}}).call(this);(function(i){var n=function(){var f=function(){};return f.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,b,c,d){return d||(this.context=b,this.buffer=[]),this.includes("",a)?(a=this.render_pragmas(a),a=this.render_section(a,b,c),d?this.render_tags(a,b,c,d):(this.render_tags(a,b,c,d),void 0)):d?a:(this.send(a),void 0)},send:function(a){""!=a&&this.buffer.push(a)},render_pragmas:function(a){if(!this.includes("%",a))return a;var b=this;return a.replace(RegExp(this.otag+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+this.ctag),function(c,d,e){if(!b.pragmas_implemented[d])throw{message:"This implementation of mustache doesn't understand the '"+d+"' pragma"};return b.pragmas[d]={},e&&(c=e.split("="),b.pragmas[d][c[0]]=c[1]),""})},render_partial:function(a,b,c){if(a=this.trim(a),!c||void 0===c[a])throw{message:"unknown_partial '"+a+"'"};return"object"!=typeof b[a]?this.render(c[a],b,c,!0):this.render(c[a],b[a],c,!0)},render_section:function(a,b,c){if(!this.includes("#",a)&&!this.includes("^",a))return a;var d=this;return a.replace(RegExp(this.otag+"(\\^|\\#)\\s*(.+)\\s*"+this.ctag+"\n*([\\s\\S]+?)"+this.otag+"\\/\\s*\\2\\s*"+this.ctag+"\\s*","mg"),function(e,j,k,h){return e=d.find(k,b),"^"==j?!e||d.is_array(e)&&0===e.length?d.render(h,b,c,!0):"":"#"==j?d.is_array(e)?d.map(e,function(g){return d.render(h,d.create_context(g),c,!0)}).join(""):d.is_object(e)?d.render(h,d.create_context(e),c,!0):"function"==typeof e?e.call(b,h,function(g){return d.render(g,b,c,!0)}):e?d.render(h,b,c,!0):"":void 0})},render_tags:function(a,b,c,d){var e=this,j=function(){return RegExp(e.otag+"(=|!|>|\\{|%)?([^\\/#\\^]+?)\\1?"+e.ctag+"+","g")},k=j(),h=function(o,m,l){switch(m){case"!":return"";case"=":return e.set_delimiters(l),k=j(),"";case">":return e.render_partial(l,b,c);case"{":return e.find(l,b);default:return e.escape(e.find(l,b))}};a=a.split("\n");for(var g=0;a.length>g;g++)a[g]=a[g].replace(k,h,this),d||this.send(a[g]);return d?a.join("\n"):void 0},set_delimiters:function(a){a=a.split(" "),this.otag=this.escape_regex(a[0]),this.ctag=this.escape_regex(a[1])},escape_regex:function(a){return arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","g")),a.replace(arguments.callee.sRE,"\\$1")},find:function(a,b){a=this.trim(a);var c;return b[a]===!1||0===b[a]||b[a]?c=b[a]:(this.context[a]===!1||0===this.context[a]||this.context[a])&&(c=this.context[a]),"function"==typeof c?c.apply(b):void 0!==c?c:""},includes:function(a,b){return-1!=b.indexOf(this.otag+a)},escape:function(a){return a=(null===a?"":a)+"",a.replace(/&(?!\w+;)|["<>\\]/g,function(b){switch(b){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return b}})},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var c={};return c[b]=a,c},is_object:function(a){return a&&"object"==typeof a},is_array:function(a){return"[object Array]"===Object.prototype.toString.call(a)},trim:function(a){return a.replace(/^\s*|\s*$/g,"")},map:function(a,b){if("function"==typeof a.map)return a.map(b);for(var c=[],d=a.length,e=0;d>e;e++)c.push(b(a[e]));return c}},{name:"mustache.js",version:"0.3.0",to_html:function(a,b,c,d){var e=new f;return d&&(e.send=d),e.render(a,b,c),d?void 0:e.buffer.join("\n")}}}();window.ich=new function(){var f=this;f.VERSION="0.9",f.templates={},f.partials={},f.addTemplate=function(a,b){if(f[a])throw"Invalid name: "+a+".";if(f.templates[a])throw'Template " + name + " exists';f.templates[a]=b,f[a]=function(c,d){c=c||{};var e=n.to_html(f.templates[a],c,f.partials);return d?e:i(e)}},f.addPartial=function(a,b){if(f.partials[a])throw'Partial " + name + " exists';f.partials[a]=b},f.grabTemplates=function(){i('script[type="text/html"]').each(function(a,b){var c=i("number"==typeof a?b:a),d="".trim?c.html().trim():i.trim(c.html());f[c.hasClass("partial")?"addPartial":"addTemplate"](c.attr("id"),d),c.remove()})},f.clearAll=function(){for(var a in f.templates)delete f[a];f.templates={},f.partials={}},f.refresh=function(){f.clearAll(),f.grabTemplates()}},i(function(){ich.grabTemplates()})})(window.jQuery||window.Zepto);var JSON;JSON||(JSON={}),function(){"use strict";function f(n){return 10>n?"0"+n:n}function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?value+"":"null";case"boolean":case"null":return value+"";case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;length>i;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;length>i;i+=1)"string"==typeof rep[i]&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;space>i;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.prototype.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();function str_replace(search,replace,subject,count){var i=0,j=0,temp="",repl="",sl=0,fl=0,f=[].concat(search),r=[].concat(replace),s=subject,ra="[object Array]"===Object.prototype.toString.call(r),sa="[object Array]"===Object.prototype.toString.call(s);for(s=[].concat(s),count&&(this.window[count]=0),i=0,sl=s.length;sl>i;i++)if(""!==s[i])for(j=0,fl=f.length;fl>j;j++)temp=s[i]+"",repl=ra?void 0!==r[j]?r[j]:"":r[0],s[i]=temp.split(f[j]).join(repl),count&&s[i]!==temp&&(this.window[count]+=(temp.length-s[i].length)/f[j].length);return sa?s:s[0]}var UNIFIED_TO_SOFTBANK={"":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"(/_)","":"()","":"|()|","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"[]","":"","":"","":"","":"","":"[]","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"[BOX]","":"[BOX]","":"","":"","":"[ABCD]","":"[abcd]","":"[1234]","":"[]","":"[ABC]","":"[]","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"[]","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"","":"[]","":"","":"","":"[]","":"","":"[]","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"[]","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"[]","":"","":"","":"","":"","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","#":"","1":"","2":"","3":"","4":"","5":"","6":"","7":"","8":"","9":"","0":"","":"[10]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"[CL]","":"","":"[FREE]","":"","":"","":"[NG]","":"","":"[SOS]","":"","":"","":"","":"","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"","":"[]","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[100]","":"","":"","":"","":"","":"[]","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"[]","":"[]","":"[]","":"[]","":"","":"[end]","":"[ON]","":"[SOON]","":"","":"","":"","":"","":"[]","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""},UTF16_EMOJIS=["1f4b8","1f4ec","1f4c9","1f688","1f521","1f55c","1f4cf","1f409","1f3c7","1f4d3","1f43c","1f524","1f4d7","1f6c3","1f465","1f36d","1f4b7","1f4ed","1f510","1f3a3","1f515","1f62f","1f423","1f68a","1f6b8","1f368","1f539","1f63d","1f410","1f456","1f330","1f62c","1f3c9","1f193","1f404","1f60b","1f683","1f36a","1f33f","1f4b3","1f6c5","1f36e","1f41e","1f350","1f4c4","1f30b","1f6a0","1f4f9","1f348","1f698","1f332","1f331","1f43e","1f51c","1f63f","1f495","1f600","1f196","1f4ae","1f4c7","1f638","1f611","1f53d","1f3ae","1f627","1f607","1f4d4","1f640","1f626","1f333","1f60e","1f6b1","1f4c1","1f31a","1f4b6","1f53a","1f682","1f4d2","1f529","1f636","1f3e1","1f400","1f4b4","1f301","1f191","1f46c","1f6b7","1f30c","1f68d","1f6c4","1f532","1f608","1f6b5","1f563","1f4e4","1f533","1f509","1f6a6","1f506","1f38a","1f6c1","1f63e","1f45b","1f36f","1f432","1f4db","1f46d","1f453","1f64a","1f500","1f4cb","1f43d","1f51b","1f317","1f4af","1f33c","1f520","1f356","1f3b3","1f55f","1f4d0","1f464","1f351","1f4e7","1f38b","1f4c3","1f4da","1f3e4","1f4ad","1f69d","1f4f5","1f40b","1f4c6","1f6a8","1f61f","1f4cd","1f413","1f624","1f501","1f34f","1f55d","1f41c","1f3bc","1f4e5","1f3c2","1f53c","1f45d","1f617","1f0cf","1f53b","1f562","1f48c","1f369","1f4c2","1f416","1f52a","1f52d","1f42a","1f694","1f62e","1f496","1f68e","1f564","1f4c8","1f6aa","1f639","1f50e","1f681","1f50b","1f4d1","1f425","1f4ea","1f634","1f31e","1f649","1f507","1f316","1f55e","1f309","1f63a","1f69b","1f4d5","1f522","1f62b","1f61b","1f314","1f45e","1f470","1f648","1f523","1f3bd","1f629","1f502","1f310","1f357","1f526","1f4ac","1f4ca","1f536","1f605","1f360","1f364","1f50c","1f69f","1f3a0","1f4e8","1f6c2","1f5ff","1f36c","1f52e","1f479","1f4a5","1f234","1f408","1f198","1f46a","1f34d","1f352","1f3aa","1f4d8","1f344","1f69e","1f560","1f4ab","1f312","1f6a1","1f64d","1f64e","1f567","1f315","1f4b5","1f517","1f406","1f696","1f311","1f4a7","1f401","","1f37c","1f415","1f318","1f6a9","1f635","1f4ce","1f6bf","1f6b4","1f30d","1f34b","1f377","1f535","1f30e","1f4de","1f40f","1f503","1f504","1f6af","1f232","1f251","1f538","1f34c","1f45a","1f606","1f5fe","1f347","1f407","1f429","1f4cc","1f6b0","1f619","1f4d9","1f40c","1f6b3","1f527","1f4be","1f686","1f31c","1f313","1f64b","1f537","1f63c","1f50f","1f31d","1f4f0","1f445","1f4a0","1f422","1f3b9","1f561","1f49e","1f31b","1f4b2","1f690","1f565","1f36b","1f4ef","1f3b2","1f3ee","1f6a3","1f421","1f41d","1f505","1f40a","1f3ad","1f379","1f615","1f566","1f52c","1f51a","1f516","1f33d","1f4c5","1f3bb","1f47a","1f610","1f4dc","1f69c","1f405","1f4df","1f365","1f403","1f402","1f51f","1f30f","1f355","1f63b","1f518","1f3b4","1f6ab","1f6ae"],EMOJIS=["e312","e40f","2709","e221","e118","e43e","3030","e00c","e534","e31d","e014","e42d","e02d","e405","e210","e339","e32e","e403","e51a","e44c","e001","e151","e501","e427","e321","e113","e148","e20e","e334","e208","e111","e022","e432","e21a","e30a","e203","e306","e527","e112","e309","e24f","e33e","e44a","e147","e13b","21a9","e002","e441","e310","e327","e515","e318","e053","e00a","e003","e518","e43f","e345","e42c","e40b","e230","e308","e32c","e507","e328","e043","e332","e137","e03b","e425","e40a","e505","e13c","e216","e238","e103","e004","e158","e232","e10d","e024","e32a","e410","e50a","e01a","e50d","e150","e01e","e00d","e252","e344","e301","e031","e52a","e431","e020","e116","e139","e059","e418","e31e","e23b","e330","2139","e523","e119","e52d","e20f","23f0","2716","e406","e251","e508","e411","e034","e516","e01c","2693","23f3","e224","e326","e127","e32d","e445","e42e","e442","e015","e033","e012","e52e","e22d","e449","e04b","e13e","e324","e24e","e222","231b","e12c","e236","e018","e23d","27b0","e042","e01b","e106","e142","e22a","e159","e115","26d4","e31f","e438","e218","e314","e109","e404","e239","e417","e41f","e21d","e13f","e211","e02f","e12e","e120","e40c","e32f","e152","e054","2195","e155","e51d","e329","e23c","e52c","e246","26aa","e509","e336","e021","e01f","e241","e117","e420","e125","e34b","e214","2744","e536","e20c","e242","e156","e503","e228","e029","e04d","e341","e10e","e240","e122","e032","e104","e057","e247","e34c","e21c","2611","e14e","e415","e41a","e205","e43a","e130","24c2","e248","e506","2757","e409","e03a","23eb","e03f","e207","e333","2796","e30b","e037","e016","e41b","e340","e04f","e00f","e530","e04c","e533","e34d","e206","e436","2712","e22c","e304","2714","e529","e349","e303","e229","e044","e212","e50e","e038","e33c","e531","e030","e32b","e22e","e348","e20d","23ec","e110","e43b","e20b","2935","e253","e40e","e129","e444","e045","e244","e313","e12f","e225","e223","e219","e136","e433","e058","e007","e40d","e408","e24c","e023","e517","e430","e108","e33a","e51e","e234","e323","e013","e027","e52b","e048","e15a","e50c","e153","e510","e21f","e11c","e051","e107","e504","26c5","e525","e443","e335","e31a","2795","e14b","e11e","e331","26ab","e046","e43d","e028","e11b","e131","e307","e343","e21e","e12d","e12a","e347","e105","e13d","e145","e524","e22b","e51f","e50b","e413","e537","e512","e311","2705","e101","e14f","e126","e535","e416","e052","e412","e13a","e011","e123","e23a","e00e","e502","2797","e30d","e132","e02a","e03c","2194","e24a","e10f","e20a","e143","e055","267b","e407","e215","e437","e220","e24d","e133","e424","e049","e231","e42f","e128","e140","e008","e337","e233","e532","e342","270f","e41e","e146","e12b","2049","e250","e144","e30c","e10b","e440","e10a","2934","e402","e52f","e305","e102","e14c","e14d","e528","e019","e204","e235","e050","e439","e435","e036","e006","e401","e426","e338","e02c","e447","231a","e421","e02b","e521","e33b","e522","e217","e237","e04a","e138","e040","e03d","e302","e209","e42b","e249","e121","e11d","e009","e30e","e047","e514","e114","e317","e22f","e213","e320","e00b","e322","e30f","e51c","e34a","e319","e01d","e005","e11a","e429","e325","e316","e315","e44b","e02e","e414","e526","e50f","e149","e33d","e157","e010","e041","e226","e026","e21b","e124","e03e","e33f","e025","e513","e141","e10c","e519","e24b","e446","e41c","e243","e31c","e31b","e423","e227","e434","e134","e422","e201","e42a","e056","e154","e202","21aa","e43c","e346","e520","e51b","e448","e039","e11f","e511","e14a","274e","e017","e23f","e41d","e428","e04e","e245","203c","e035","e419","e23e","e135","e05a"];$.fn.emoji=function(){return this.each(function(){$(this).html($(this).html().replace(/(\ud83c[\udccf-\udfff]|\ud83d[\udc00-\ude98]|[\u21a9-\u3030])/g,$.fn.emoji.replacer2)),$(this).html(str_replace(_.keys(UNIFIED_TO_SOFTBANK),_.values(UNIFIED_TO_SOFTBANK),$(this).html())),$(this).html($(this).html().replace(/([\ue001-\ue537])/g,$.fn.emoji.replacer))})},$.fn.emoji.replacer=function(str,p1){return p1.charCodeAt(0).toString(16).toUpperCase().replace(/^([\da-f]+)$/i,'<img src="/images/emojis/emoji-$1.png" alt="emoji" width="16" />')},$.fn.emoji.replacer2=function(str,p1){var hi=p1.charCodeAt(0);if(p1.charCodeAt(1)){var lo=p1.charCodeAt(1),decimalUTF16=65536+((1023&hi)<<10|1023&lo),stringHex=decimalUTF16.toString(16);return-1!=_.indexOf(UTF16_EMOJIS,stringHex)?stringHex.replace(/^([\da-f]+)$/i,'<img src="/images/emojis/unicode/$1.png" alt="emoji" width="16" />'):p1}return stringHex=p1.charCodeAt(0).toString(16),-1!=_.indexOf(EMOJIS,stringHex)?stringHex.replace(/^([\da-f]+)$/i,'<img src="/images/emojis/unicode/$1.png" alt="emoji" width="16" />'):p1};(function(b){function d(a){this.input=a,"password"==a.attr("type")&&this.handlePassword(),b(a[0].form).submit(function(){a.hasClass("placeholder")&&a[0].value==a.attr("placeholder")&&(a[0].value="")})}d.prototype={show:function(a){if(""===this.input[0].value||a&&this.valueIsPlaceholder()){if(this.isPassword)try{this.input[0].setAttribute("type","text")}catch(b){this.input.before(this.fakePassword.show()).hide()}this.input.addClass("placeholder"),this.input[0].value=this.input.attr("placeholder")}},hide:function(){if(this.valueIsPlaceholder()&&this.input.hasClass("placeholder")&&(this.input.removeClass("placeholder"),this.input[0].value="",this.isPassword)){try{this.input[0].setAttribute("type","password")}catch(a){}this.input.show(),this.input[0].focus()}},valueIsPlaceholder:function(){return this.input[0].value==this.input.attr("placeholder")},handlePassword:function(){var a=this.input;if(a.attr("realType","password"),this.isPassword=!0,b.browser.msie&&a[0].outerHTML){var c=b(a[0].outerHTML.replace(/type=(['"])?password\1/gi,"type=$1text$1"));this.fakePassword=c.val(a.attr("placeholder")).addClass("placeholder").focus(function(){a.trigger("focus"),b(this).hide()}),b(a[0].form).submit(function(){c.remove(),a.show()})}}};var e=!!("placeholder"in document.createElement("input"));b.fn.placeholder=function(){return e?this:this.each(function(){var a=b(this),c=new d(a);c.show(!0),a.focus(function(){c.hide()}),a.blur(function(){c.show(!1)}),b.browser.msie&&(b(window).load(function(){a.val()&&a.removeClass("placeholder"),c.show(!0)}),a.focus(function(){if(""==this.value){var a=this.createTextRange();a.collapse(!0),a.moveStart("character",0),a.select()}}))})}})(jQuery);(function($){var tmp,loading,overlay,wrap,outer,content,close,title,nav_left,nav_right,loadingTimer,start_pos,final_pos,selectedIndex=0,selectedOpts={},selectedArray=[],currentIndex=0,currentOpts={},currentArray=[],ajaxLoader=null,imgPreloader=new Image,imgRegExp=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,swfRegExp=/[^\.]\.(swf)\s*$/i,loadingFrame=1,titleHeight=0,titleStr="",busy=!1,fx=$.extend($("<div/>")[0],{prop:0}),isIE6=$.browser.msie&&7>$.browser.version&&!window.XMLHttpRequest,_abort=function(){loading.hide(),imgPreloader.onerror=imgPreloader.onload=null,ajaxLoader&&ajaxLoader.abort(),tmp.empty()},_error=function(){return!1===selectedOpts.onError(selectedArray,selectedIndex,selectedOpts)?(loading.hide(),busy=!1,void 0):(selectedOpts.titleShow=!1,selectedOpts.width="auto",selectedOpts.height="auto",tmp.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),_process_inline(),void 0)},_start=function(){var href,type,title,str,emb,ret,obj=selectedArray[selectedIndex];if(_abort(),selectedOpts=$.extend({},$.fn.fancybox.defaults,$(obj).data("fancybox")===void 0?selectedOpts:$(obj).data("fancybox")),ret=selectedOpts.onStart(selectedArray,selectedIndex,selectedOpts),ret===!1)return busy=!1,void 0;if("object"==typeof ret&&(selectedOpts=$.extend(selectedOpts,ret)),title=selectedOpts.title||(obj.nodeName?$(obj).attr("title"):obj.title)||"",obj.nodeName&&!selectedOpts.orig&&(selectedOpts.orig=$(obj).children("img:first").length?$(obj).children("img:first"):$(obj)),""===title&&selectedOpts.orig&&selectedOpts.titleFromAlt&&(title=selectedOpts.orig.attr("alt")),href=selectedOpts.href||(obj.nodeName?$(obj).attr("href"):obj.href)||null,(/^(?:javascript)/i.test(href)||"#"==href)&&(href=null),selectedOpts.type?(type=selectedOpts.type,href||(href=selectedOpts.content)):selectedOpts.content?type="html":href&&(type=href.match(imgRegExp)?"image":href.match(swfRegExp)?"swf":$(obj).hasClass("iframe")?"iframe":0===href.indexOf("#")?"inline":"ajax"),!type)return _error(),void 0;switch("inline"==type&&(obj=href.substr(href.indexOf("#")),type=$(obj).length>0?"inline":"ajax"),selectedOpts.type=type,selectedOpts.href=href,selectedOpts.title=title,selectedOpts.autoDimensions&&("html"==selectedOpts.type||"inline"==selectedOpts.type||"ajax"==selectedOpts.type?(selectedOpts.width="auto",selectedOpts.height="auto"):selectedOpts.autoDimensions=!1),selectedOpts.modal&&(selectedOpts.overlayShow=!0,selectedOpts.hideOnOverlayClick=!1,selectedOpts.hideOnContentClick=!1,selectedOpts.enableEscapeButton=!1,selectedOpts.showCloseButton=!1),selectedOpts.padding=parseInt(selectedOpts.padding,10),selectedOpts.margin=parseInt(selectedOpts.margin,10),tmp.css("padding",selectedOpts.padding+selectedOpts.margin),$(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){$(this).replaceWith(content.children())}),type){case"html":tmp.html(selectedOpts.content),_process_inline();break;case"inline":if($(obj).parent().is("#fancybox-content")===!0)return busy=!1,void 0;$('<div class="fancybox-inline-tmp" />').hide().insertBefore($(obj)).bind("fancybox-cleanup",function(){$(this).replaceWith(content.children())}).bind("fancybox-cancel",function(){$(this).replaceWith(tmp.children())}),$(obj).appendTo(tmp),_process_inline();break;case"image":busy=!1,$.fancybox.showActivity(),imgPreloader=new Image,imgPreloader.onerror=function(){_error()},imgPreloader.onload=function(){busy=!0,imgPreloader.onerror=imgPreloader.onload=null,_process_image()},imgPreloader.src=href;break;case"swf":selectedOpts.scrolling="no",str='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+selectedOpts.width+'" height="'+selectedOpts.height+'"><param name="movie" value="'+href+'"></param>',emb="",$.each(selectedOpts.swf,function(name,val){str+='<param name="'+name+'" value="'+val+'"></param>',emb+=" "+name+'="'+val+'"'}),str+='<embed src="'+href+'" type="application/x-shockwave-flash" width="'+selectedOpts.width+'" height="'+selectedOpts.height+'"'+emb+"></embed></object>",tmp.html(str),_process_inline();break;case"ajax":busy=!1,$.fancybox.showActivity(),selectedOpts.ajax.win=selectedOpts.ajax.success,ajaxLoader=$.ajax($.extend({},selectedOpts.ajax,{url:href,data:selectedOpts.ajax.data||{},error:function(XMLHttpRequest){XMLHttpRequest.status>0&&_error()},success:function(data,textStatus,XMLHttpRequest){var o="object"==typeof XMLHttpRequest?XMLHttpRequest:ajaxLoader;if(200==o.status){if("function"==typeof selectedOpts.ajax.win){if(ret=selectedOpts.ajax.win(href,data,textStatus,XMLHttpRequest),ret===!1)return loading.hide(),void 0;("string"==typeof ret||"object"==typeof ret)&&(data=ret)}tmp.html(data),_process_inline()}}}));break;case"iframe":_show()}},_process_inline=function(){var w=selectedOpts.width,h=selectedOpts.height;w=(""+w).indexOf("%")>-1?parseInt(($(window).width()-2*selectedOpts.margin)*parseFloat(w)/100,10)+"px":"auto"==w?"auto":w+"px",h=(""+h).indexOf("%")>-1?parseInt(($(window).height()-2*selectedOpts.margin)*parseFloat(h)/100,10)+"px":"auto"==h?"auto":h+"px",tmp.wrapInner('<div style="width:'+w+";height:"+h+";overflow: "+("auto"==selectedOpts.scrolling?"auto":"yes"==selectedOpts.scrolling?"scroll":"hidden")+';position:relative;"></div>'),selectedOpts.width=tmp.width(),selectedOpts.height=tmp.height(),_show()},_process_image=function(){selectedOpts.width=imgPreloader.width,selectedOpts.height=imgPreloader.height,$("<img />").attr({id:"fancybox-img",src:imgPreloader.src,alt:selectedOpts.title}).appendTo(tmp),_show()},_show=function(){var pos,equal;return loading.hide(),wrap.is(":visible")&&!1===currentOpts.onCleanup(currentArray,currentIndex,currentOpts)?($.event.trigger("fancybox-cancel"),busy=!1,void 0):(busy=!0,$(content.add(overlay)).unbind(),$(window).unbind("resize.fb scroll.fb"),$(document).unbind("keydown.fb"),wrap.is(":visible")&&"outside"!==currentOpts.titlePosition&&wrap.css("height",wrap.height()),currentArray=selectedArray,currentIndex=selectedIndex,currentOpts=selectedOpts,currentOpts.overlayShow?(overlay.css({"background-color":currentOpts.overlayColor,opacity:currentOpts.overlayOpacity,cursor:currentOpts.hideOnOverlayClick?"pointer":"auto",height:$(document).height()}),overlay.is(":visible")||(isIE6&&$("select:not(#fancybox-tmp select)").filter(function(){return"hidden"!==this.style.visibility}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),overlay.show())):overlay.hide(),final_pos=_get_zoom_to(),_process_title(),wrap.is(":visible")?($(close.add(nav_left).add(nav_right)).hide(),pos=wrap.position(),start_pos={top:pos.top,left:pos.left,width:wrap.width(),height:wrap.height()},equal=start_pos.width==final_pos.width&&start_pos.height==final_pos.height,content.fadeTo(currentOpts.changeFade,.3,function(){var finish_resizing=function(){content.html(tmp.contents()).fadeTo(currentOpts.changeFade,1,_finish)};$.event.trigger("fancybox-change"),content.empty().removeAttr("filter").css({"border-width":currentOpts.padding,width:final_pos.width-2*currentOpts.padding,height:selectedOpts.autoDimensions?"auto":final_pos.height-titleHeight-2*currentOpts.padding}),equal?finish_resizing():(fx.prop=0,$(fx).animate({prop:1},{duration:currentOpts.changeSpeed,easing:currentOpts.easingChange,step:_draw,complete:finish_resizing}))}),void 0):(wrap.removeAttr("style"),content.css("border-width",currentOpts.padding),"elastic"==currentOpts.transitionIn?(start_pos=_get_zoom_from(),content.html(tmp.contents()),wrap.show(),currentOpts.opacity&&(final_pos.opacity=0),fx.prop=0,$(fx).animate({prop:1},{duration:currentOpts.speedIn,easing:currentOpts.easingIn,step:_draw,complete:_finish}),void 0):("inside"==currentOpts.titlePosition&&titleHeight>0&&title.show(),content.css({width:final_pos.width-2*currentOpts.padding,height:selectedOpts.autoDimensions?"auto":final_pos.height-titleHeight-2*currentOpts.padding}).html(tmp.contents()),wrap.css(final_pos).fadeIn("none"==currentOpts.transitionIn?0:currentOpts.speedIn,_finish),void 0)))},_format_title=function(title){return title&&title.length?"float"==currentOpts.titlePosition?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+title+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+currentOpts.titlePosition+'">'+title+"</div>":!1},_process_title=function(){if(titleStr=currentOpts.title||"",titleHeight=0,title.empty().removeAttr("style").removeClass(),currentOpts.titleShow===!1)return title.hide(),void 0;if(titleStr=$.isFunction(currentOpts.titleFormat)?currentOpts.titleFormat(titleStr,currentArray,currentIndex,currentOpts):_format_title(titleStr),!titleStr||""===titleStr)return title.hide(),void 0;switch(title.addClass("fancybox-title-"+currentOpts.titlePosition).html(titleStr).appendTo("body").show(),currentOpts.titlePosition){case"inside":title.css({width:final_pos.width-2*currentOpts.padding,marginLeft:currentOpts.padding,marginRight:currentOpts.padding}),titleHeight=title.outerHeight(!0),title.appendTo(outer),final_pos.height+=titleHeight;break;case"over":title.css({marginLeft:currentOpts.padding,width:final_pos.width-2*currentOpts.padding,bottom:currentOpts.padding}).appendTo(outer);break;case"float":title.css("left",-1*parseInt((title.width()-final_pos.width-40)/2,10)).appendTo(wrap);break;default:title.css({width:final_pos.width-2*currentOpts.padding,paddingLeft:currentOpts.padding,paddingRight:currentOpts.padding}).appendTo(wrap)}title.hide()},_set_navigation=function(){return(currentOpts.enableEscapeButton||currentOpts.enableKeyboardNav)&&$(document).bind("keydown.fb",function(e){27==e.keyCode&&currentOpts.enableEscapeButton?(e.preventDefault(),$.fancybox.close()):37!=e.keyCode&&39!=e.keyCode||!currentOpts.enableKeyboardNav||"INPUT"===e.target.tagName||"TEXTAREA"===e.target.tagName||"SELECT"===e.target.tagName||(e.preventDefault(),$.fancybox[37==e.keyCode?"prev":"next"]())}),currentOpts.showNavArrows?((currentOpts.cyclic&&currentArray.length>1||0!==currentIndex)&&nav_left.show(),(currentOpts.cyclic&&currentArray.length>1||currentIndex!=currentArray.length-1)&&nav_right.show(),void 0):(nav_left.hide(),nav_right.hide(),void 0)},_finish=function(){$.support.opacity||(content.get(0).style.removeAttribute("filter"),wrap.get(0).style.removeAttribute("filter")),selectedOpts.autoDimensions&&content.css("height","auto"),wrap.css("height","auto"),titleStr&&titleStr.length&&title.show(),currentOpts.showCloseButton&&close.show(),_set_navigation(),currentOpts.hideOnContentClick&&content.bind("click",$.fancybox.close),currentOpts.hideOnOverlayClick&&overlay.bind("click",$.fancybox.close),$(window).bind("resize.fb",$.fancybox.resize),currentOpts.centerOnScroll&&$(window).bind("scroll.fb",$.fancybox.center),"iframe"==currentOpts.type&&$('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+($.browser.msie?'allowtransparency="true""':"")+' scrolling="'+selectedOpts.scrolling+'" src="'+currentOpts.href+'"></iframe>').appendTo(content),wrap.show(),busy=!1,$.fancybox.center(),currentOpts.onComplete(currentArray,currentIndex,currentOpts),_preload_images()},_preload_images=function(){var href,objNext;currentArray.length-1>currentIndex&&(href=currentArray[currentIndex+1].href,href!==void 0&&href.match(imgRegExp)&&(objNext=new Image,objNext.src=href)),currentIndex>0&&(href=currentArray[currentIndex-1].href,href!==void 0&&href.match(imgRegExp)&&(objNext=new Image,objNext.src=href))},_draw=function(pos){var dim={width:parseInt(start_pos.width+(final_pos.width-start_pos.width)*pos,10),height:parseInt(start_pos.height+(final_pos.height-start_pos.height)*pos,10),top:parseInt(start_pos.top+(final_pos.top-start_pos.top)*pos,10),left:parseInt(start_pos.left+(final_pos.left-start_pos.left)*pos,10)};final_pos.opacity!==void 0&&(dim.opacity=.5>pos?.5:pos),wrap.css(dim),content.css({width:dim.width-2*currentOpts.padding,height:dim.height-titleHeight*pos-2*currentOpts.padding})},_get_viewport=function(){return[$(window).width()-2*currentOpts.margin,$(window).height()-2*currentOpts.margin,$(document).scrollLeft()+currentOpts.margin,$(document).scrollTop()+currentOpts.margin]},_get_zoom_to=function(){var ratio,view=_get_viewport(),to={},resize=currentOpts.autoScale,double_padding=2*currentOpts.padding;return to.width=(""+currentOpts.width).indexOf("%")>-1?parseInt(view[0]*parseFloat(currentOpts.width)/100,10):currentOpts.width+double_padding,to.height=(""+currentOpts.height).indexOf("%")>-1?parseInt(view[1]*parseFloat(currentOpts.height)/100,10):currentOpts.height+double_padding,resize&&(to.width>view[0]||to.height>view[1])&&("image"==selectedOpts.type||"swf"==selectedOpts.type?(ratio=currentOpts.width/currentOpts.height,to.width>view[0]&&(to.width=view[0],to.height=parseInt((to.width-double_padding)/ratio+double_padding,10)),to.height>view[1]&&(to.height=view[1],to.width=parseInt((to.height-double_padding)*ratio+double_padding,10))):(to.width=Math.min(to.width,view[0]),to.height=Math.min(to.height,view[1]))),to.top=parseInt(Math.max(view[3]-20,view[3]+.5*(view[1]-to.height-40)),10),to.left=parseInt(Math.max(view[2]-20,view[2]+.5*(view[0]-to.width-40)),10),to},_get_obj_pos=function(obj){var pos=obj.offset();return pos.top+=parseInt(obj.css("paddingTop"),10)||0,pos.left+=parseInt(obj.css("paddingLeft"),10)||0,pos.top+=parseInt(obj.css("border-top-width"),10)||0,pos.left+=parseInt(obj.css("border-left-width"),10)||0,pos.width=obj.width(),pos.height=obj.height(),pos},_get_zoom_from=function(){var pos,view,orig=selectedOpts.orig?$(selectedOpts.orig):!1,from={};return orig&&orig.length?(pos=_get_obj_pos(orig),from={width:pos.width+2*currentOpts.padding,height:pos.height+2*currentOpts.padding,top:pos.top-currentOpts.padding-20,left:pos.left-currentOpts.padding-20}):(view=_get_viewport(),from={width:2*currentOpts.padding,height:2*currentOpts.padding,top:parseInt(view[3]+.5*view[1],10),left:parseInt(view[2]+.5*view[0],10)}),from},_animate_loading=function(){return loading.is(":visible")?($("div",loading).css("top",-40*loadingFrame+"px"),loadingFrame=(loadingFrame+1)%12,void 0):(clearInterval(loadingTimer),void 0)};$.fn.fancybox=function(options){return $(this).length?($(this).data("fancybox",$.extend({},options,$.metadata?$(this).metadata():{})).unbind("click.fb").bind("click.fb",function(e){if(e.preventDefault(),!busy){busy=!0,$(this).blur(),selectedArray=[],selectedIndex=0;var rel=$(this).attr("rel")||"";rel&&""!=rel&&"nofollow"!==rel?(selectedArray=$("a[rel="+rel+"], area[rel="+rel+"]"),selectedIndex=selectedArray.index(this)):selectedArray.push(this),_start()}}),this):this},$.fancybox=function(obj){var opts;if(!busy){if(busy=!0,opts=arguments[1]!==void 0?arguments[1]:{},selectedArray=[],selectedIndex=parseInt(opts.index,10)||0,$.isArray(obj)){for(var i=0,j=obj.length;j>i;i++)"object"==typeof obj[i]?$(obj[i]).data("fancybox",$.extend({},opts,obj[i])):obj[i]=$({}).data("fancybox",$.extend({content:obj[i]},opts));selectedArray=jQuery.merge(selectedArray,obj)}else"object"==typeof obj?$(obj).data("fancybox",$.extend({},opts,obj)):obj=$({}).data("fancybox",$.extend({content:obj},opts)),selectedArray.push(obj);(selectedIndex>selectedArray.length||0>selectedIndex)&&(selectedIndex=0),_start()}},$.fancybox.showActivity=function(){clearInterval(loadingTimer),loading.show(),loadingTimer=setInterval(_animate_loading,66)},$.fancybox.hideActivity=function(){loading.hide()},$.fancybox.next=function(){return $.fancybox.pos(currentIndex+1)},$.fancybox.prev=function(){return $.fancybox.pos(currentIndex-1)},$.fancybox.pos=function(pos){busy||(pos=parseInt(pos),selectedArray=currentArray,pos>-1&&currentArray.length>pos?(selectedIndex=pos,_start()):currentOpts.cyclic&&currentArray.length>1&&(selectedIndex=pos>=currentArray.length?0:currentArray.length-1,_start()))},$.fancybox.cancel=function(){busy||(busy=!0,$.event.trigger("fancybox-cancel"),_abort(),selectedOpts.onCancel(selectedArray,selectedIndex,selectedOpts),busy=!1)},$.fancybox.close=function(){function _cleanup(){overlay.fadeOut("fast"),title.empty().hide(),wrap.hide(),$.event.trigger("fancybox-cleanup"),content.empty(),currentOpts.onClosed(currentArray,currentIndex,currentOpts),currentArray=selectedOpts=[],currentIndex=selectedIndex=0,currentOpts=selectedOpts={},busy=!1}if(!busy&&!wrap.is(":hidden")){if(busy=!0,currentOpts&&!1===currentOpts.onCleanup(currentArray,currentIndex,currentOpts))return busy=!1,void 0;if(_abort(),$(close.add(nav_left).add(nav_right)).hide(),$(content.add(overlay)).unbind(),$(window).unbind("resize.fb scroll.fb"),$(document).unbind("keydown.fb"),content.find("iframe").attr("src",isIE6&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),"inside"!==currentOpts.titlePosition&&title.empty(),wrap.stop(),"elastic"==currentOpts.transitionOut){start_pos=_get_zoom_from();var pos=wrap.position();final_pos={top:pos.top,left:pos.left,width:wrap.width(),height:wrap.height()},currentOpts.opacity&&(final_pos.opacity=1),title.empty().hide(),fx.prop=1,$(fx).animate({prop:0},{duration:currentOpts.speedOut,easing:currentOpts.easingOut,step:_draw,complete:_cleanup})}else wrap.fadeOut("none"==currentOpts.transitionOut?0:currentOpts.speedOut,_cleanup)}},$.fancybox.resize=function(){overlay.is(":visible")&&overlay.css("height",$(document).height()),$.fancybox.center(!0)},$.fancybox.center=function(){var view,align;navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||busy||(align=arguments[0]===!0?1:0,view=_get_viewport(),(align||!(wrap.width()>view[0]||wrap.height()>view[1]))&&wrap.stop().animate({top:parseInt(Math.max(view[3]-20,view[3]+.5*(view[1]-content.height()-40)-currentOpts.padding)),left:parseInt(Math.max(view[2]-20,view[2]+.5*(view[0]-content.width()-40)-currentOpts.padding))},"number"==typeof arguments[0]?arguments[0]:200))},$.fancybox.init=function(){$("#fancybox-wrap").length||($("body").append(tmp=$('<div id="fancybox-tmp"></div>'),loading=$('<div id="fancybox-loading"><div></div></div>'),overlay=$('<div id="fancybox-overlay"></div>'),wrap=$('<div id="fancybox-wrap"></div>')),outer=$('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(wrap),outer.append(content=$('<div id="fancybox-content"></div>'),close=$('<a id="fancybox-close"></a>'),title=$('<div id="fancybox-title"></div>'),nav_left=$('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),nav_right=$('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),close.click($.fancybox.close),loading.click($.fancybox.cancel),nav_left.click(function(e){e.preventDefault(),$.fancybox.prev()}),nav_right.click(function(e){e.preventDefault(),$.fancybox.next()}),$.fn.mousewheel&&wrap.bind("mousewheel.fb",function(e,delta){busy?e.preventDefault():(0==$(e.target).get(0).clientHeight||$(e.target).get(0).scrollHeight===$(e.target).get(0).clientHeight)&&(e.preventDefault(),$.fancybox[delta>0?"prev":"next"]())}),$.support.opacity||wrap.addClass("fancybox-ie"),isIE6&&(loading.addClass("fancybox-ie6"),wrap.addClass("fancybox-ie6"),$('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(outer)))},$.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},$(document).ready(function(){$.fancybox.init()})})(jQuery);(function(a,b){$window=a(b),a.fn.lazyload=function(c){function f(){var b=0;d.each(function(){var c=a(this);if(!(e.skip_invisible&&!c.is(":visible")||a.abovethetop(this,e)||a.leftofbegin(this,e)))if(a.belowthefold(this,e)||a.rightoffold(this,e)){if(++b>e.failure_limit)return!1}else c.trigger("appear")})}var d=this,e={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null};return c&&(void 0!==c.failurelimit&&(c.failure_limit=c.failurelimit,delete c.failurelimit),void 0!==c.effectspeed&&(c.effect_speed=c.effectspeed,delete c.effectspeed),a.extend(e,c)),$container=void 0===e.container||e.container===b?$window:a(e.container),0===e.event.indexOf("scroll")&&$container.bind(e.event,function(){return f()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,c.one("appear",function(){if(!this.loaded){if(e.appear){var f=d.length;e.appear.call(b,f,e)}a("<img />").bind("load",function(){c.hide().attr("src",c.data(e.data_attribute))[e.effect](e.effect_speed),b.loaded=!0;var f=a.grep(d,function(a){return!a.loaded});if(d=a(f),e.load){var g=d.length;e.load.call(b,g,e)}}).attr("src",c.data(e.data_attribute))}}),0!==e.event.indexOf("scroll")&&c.bind(e.event,function(){b.loaded||c.trigger("appear")})}),$window.bind("resize",function(){f()}),f(),this},a.belowthefold=function(c,d){var e;return e=void 0===d.container||d.container===b?$window.height()+$window.scrollTop():$container.offset().top+$container.height(),a(c).offset().top-d.threshold>=e},a.rightoffold=function(c,d){var e;return e=void 0===d.container||d.container===b?$window.width()+$window.scrollLeft():$container.offset().left+$container.width(),a(c).offset().left-d.threshold>=e},a.abovethetop=function(c,d){var e;return e=void 0===d.container||d.container===b?$window.scrollTop():$container.offset().top,e>=a(c).offset().top+d.threshold+a(c).height()},a.leftofbegin=function(c,d){var e;return e=void 0===d.container||d.container===b?$window.scrollLeft():$container.offset().left,e>=a(c).offset().left+d.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightofscreen(b,c)||a.leftofscreen(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(c){return a.belowthefold(c,{threshold:0,container:b})},"above-the-top":function(c){return!a.belowthefold(c,{threshold:0,container:b})},"right-of-screen":function(c){return a.rightoffold(c,{threshold:0,container:b})},"left-of-screen":function(c){return!a.rightoffold(c,{threshold:0,container:b})},"in-viewport":function(c){return!a.inviewport(c,{threshold:0,container:b})},"above-the-fold":function(c){return!a.belowthefold(c,{threshold:0,container:b})},"right-of-fold":function(c){return a.rightoffold(c,{threshold:0,container:b})},"left-of-fold":function(c){return!a.rightoffold(c,{threshold:0,container:b})}})})(jQuery,window);function displayLoaderSearch(conteneur){var color="#f2f2f2";$("#loaderCusto").length&&(color=$("#loaderCusto").val());var optsLoader={lines:17,length:12,width:2,radius:28,corners:1,rotate:0,color:color,speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},targetLoader=document.getElementById(conteneur);new Spinner(optsLoader).spin(targetLoader)}function displayLoader(){$("#conteneurLoaderEnCours").show()}function hideLoader(){$("#conteneurLoaderEnCours").hide()}function checkNavigation(){pagePrecedente2Grid=pagePrecedenteGrid,pagePrecedenteGrid=pageGrid,pageGrid=!1,chargeJusquaPhotoId=!1}function initialiseAffichage(){checkNavigation(),displayLoader($("#conteneurLoaderEnCours")),$("#conteneurProfilLarge").html(""),$("#conteneurLoad").html(""),fragmentActuel=window.location.hash.substring(1),""==fragmentActuel&&(fragmentActuel="/feed/"),fragmentRetour="",imageRetour="",$("#conteneurDetail").hide(),$("#conteneurDetail").html(""),$("#conteneurLoad").show(),window.location.hash}function sauveStat(view,mode,blacklist){var chemin="page="+view;mode&&(chemin=chemin+"&mode="+mode);try{if(_gaq.push(["_trackPageview","/viewer.php?"+chemin]),showPubLeaderboard)if(nbRefreshLeaderboard>0){var lead=$("#leaderboardContent").val();blacklist&&(lead=lead.replace("data[blacklist]=0","data[blacklist]=1")),768>window.innerWidth&&(lead=lead.replace('height="90"','height="60"')),$("#leaderboard").html(""),$("#leaderboard").html(lead),$("#adclose-block").css("visibility","visible")}else if(blacklist){var lead=$("#leaderboardContent").val();lead=lead.replace("data[blacklist]=0","data[blacklist]=1"),$("#leaderboard").html(""),$("#leaderboard").html(lead)}nbRefreshLeaderboard++}catch(err){}}function parseRenduAffichage(){$("#getSearch").placeholder(),$(".search-autocomplete").hide(),$("#emojiBoite").hide(),popChecked=Object()}function getLikes(likes){var contActif=conteneurActif();$("#"+detailPhoto,contActif).find(".liste-likes").html(""),_.each(likes.data,function(like){var modelLike=new Detaillikes(like);detaillikes.add(modelLike);var likesView=new detaillikesView({model:modelLike});$("#"+detailPhoto,contActif).find(".liste-likes").append($(likesView.render().el))}),afficheBoutonsPartage()}function controleRetour(data){return data?200==data.meta.code?!0:!1:(document.location.href="index.php",void 0)}function paginationScroll(){$("#conteneur-more").length>=1&&$(window).scroll(function(){$(window).scrollTop()+150>=$(document).height()-$(window).height()&&$("#conteneur-more a").length>=1&&$("#conteneur-more a").click()})}function resizePhotosSlideshow(){var hauteurFenetre=$(window).height(),largeurFenetre=$(window).width(),tailleMaxPhoto=hauteurFenetre-90;tailleMaxPhoto>largeurFenetre-100&&(tailleMaxPhoto=largeurFenetre-100);var tailleMaxContentPhoto=tailleMaxPhoto+48;612>tailleMaxPhoto&&($("#content-photo").css("maxHeight",tailleMaxContentPhoto),$("#content-photo").css("maxWidth",tailleMaxContentPhoto))}function supprimeCaracteresAccentues(str){return str=str.replace(/[]/g,"s"),str=str.replace(/[]/g,"d"),str=str.replace(/[]/g,"z"),str=str.replace(/[]/g,"c"),str=str.replace(/[]/g,"a"),str=str.replace(/[]/g,"e"),str=str.replace(/[]/g,"i"),str=str.replace(/[]/g,"n"),str=str.replace(/[]/g,"o"),str=str.replace(/[]/g,"u"),str=str.replace(/[]/g,"y"),str=str.replace(/[]/g,"b"),str=str.replace(/[]/g,"r")}function in_array(array,p_val){for(var l=array.length,i=0;l>i;i++)if(array[i]==p_val)return rowid=i,!0;return!1}function afficheLiensRepost(){$(".lien-repost, .lien-repost-responsive").each(function(){var userId=$(this).parents(".detailPhotoList").find(".photo-id-del").val(),posUser=$.inArray(userId,usersProtect);-1!=posUser&&($(this).parents(".conteneurPhotoListGauche").find("#partage").empty(),$(this).parents(".conteneurPhotoListGauche").find(".share-url").empty(),$(this).remove())}),$(".lien-repost, .lien-repost-responsive").show(),$(".lien-repost, .lien-repost-responsive").fancybox({overlayOpacity:.5,overlayColor:"#000",titleShow:!1}),$(".lien-repost.desktop").qtip({style:{classes:"ui-tooltip-rounded ui-tooltip-tipsy"},position:{at:"top right",my:"bottom left"}})}function parsingCaption(){$(".bloc-caption").each(function(){var caption=" "+$(this).html()+" ",arrayHashtags=[];if(arrayHashtags=caption.match(/\B(#[\w\'\-\u00C0-\u017F]+)/gim))for(arrayHashtags=unique(arrayHashtags),i=0;arrayHashtags.length>i;i++)if(arrayHashtags[i]){var re=RegExp("\\B("+arrayHashtags[i]+")+(\\s|\\.|\\,|\\!|\\?)","gim"),tag=arrayHashtags[i];tag=tag.substring(1),caption=caption.replace(re,'<a href="/tag/'+tag+'/" class="htCaption">'+arrayHashtags[i]+"</a>$2 ")}var arrayusernames=[];if(arrayusernames=caption.match(/@+([-_a-zA-Z0-9]*)/gim))for(arrayusernames=unique(arrayusernames),i=0;arrayusernames.length>i;i++)if(arrayusernames[i]){var reUsername=RegExp(arrayusernames[i],"gim"),username=arrayusernames[i];username=username.substring(1),caption=caption.replace(reUsername,'<a href="/controller_ajax.php?action=redirectUser&u='+username+'" class="usernameCaption">'+arrayusernames[i]+"</a>")}$(this).html(caption)})}function parsingHashtags(){$(".unCommentContenuTexte").each(function(){var contenuOfNiouze=$(this).html()+" ",contenuOfNiouzeSanslien=contenuOfNiouze.replace(/<a\b[^>]*>(.*?)<\/a>/gim,""),contenuOfNiouzeSanslien=contenuOfNiouzeSanslien.replace(/<span\b[^>]*>(.*?)<\/span>/gim,""),arrayHashtags=[];if(arrayHashtags=contenuOfNiouzeSanslien.match(/\B(#[\w\'\-\u00C0-\u017F]+)/gim))for(arrayHashtags=unique(arrayHashtags),i=0;arrayHashtags.length>i;i++)if(arrayHashtags[i]){var re=RegExp("\\B"+arrayHashtags[i]+"([^\\w\\'\\-\\u00C0-\\u017F])","gim"),tag=arrayHashtags[i];tag=tag.substring(1),contenuOfNiouze=contenuOfNiouze.replace(re,'<a href="#/tag/'+tag+'/">'+arrayHashtags[i]+"</a>$1")}var arrayusernamesComment=[];if(arrayusernamesComment=contenuOfNiouze.match(/@+([-_a-zA-Z0-9]*)/gim))for(arrayusernamesComment=unique(arrayusernamesComment),i=0;arrayusernamesComment.length>i;i++)if(arrayusernamesComment[i]){var reUsername=RegExp(arrayusernamesComment[i],"gim"),username=arrayusernamesComment[i];username=username.substring(1),contenuOfNiouze=contenuOfNiouze.replace(reUsername,'<a href="/controller_ajax.php?action=redirectUser&u='+username+'" class="usernameCaption">'+arrayusernamesComment[i]+"</a>")}$(this).html(contenuOfNiouze)})}function placeMap(){var w=$(".gmap").parents(".wrapper-photo-list").width();w||(w=464);var map=new GMap2(document.getElementById(idCanvas),{size:new GSize(w,150)}),point=new GLatLng(latitude,longitude);map.addOverlay(new GMarker(point)),map.setCenter(point,13),map.addControl(new GSmallZoomControl3D),conteneur.find(".gmap").fadeIn(),gmapLibrairie=!0}function enregistreDmDirect(){var error=!1;$("#direct-message-envoi").hide(),$(".direct-message-loading").fadeIn();var message=$.trim($("#message").val());return""!=message&&message!=$("#message").attr("placeholder")?$.ajax({type:"POST",url:"controller_ajax.php",data:{action:"save-dm-direct",user:app_controller.user_consulte_id,message:message},success:function(data){0!=data?($("#confirm-dm").fadeIn(),$(".direct-message-loading").hide(),$("#direct-message-envoi").fadeIn()):error=!0},error:function(){error=!0}}):error=!0,error&&($("#erreur-dm").fadeIn(),$(".direct-message-loading").hide(),$("#direct-message-envoi").fadeIn()),!1}function controleRetourSearch(){return 1==startSearchTag.end&&1==startSearchUser.end&&($("#searchSeparation").height($("#resultatSearch").height()),clearInterval(testRetour),$("#user_id").length?1==startSearchTag.data.length&&0==startSearchUser.data.length?document.location.href="viewer.php#/tag/"+startSearchTag.data[0].name+"/":0==startSearchTag.data.length&&1==startSearchUser.data.length&&(document.location.href="viewer.php#/user/"+startSearchUser.data[0].id+"/"):1==startSearchTag.data.length&&0==startSearchUser.data.length?document.location.href="/tag/"+startSearchTag.data[0].name+"/":0==startSearchTag.data.length&&1==startSearchUser.data.length&&(document.location.href="/"+startSearchUser.data[0].username),startSearchUser=!1,startSearchTag=!1),!1}function conteneurActif(){return $("#conteneurDetail").html()?"#conteneurDetail":"#conteneurLoad"}function getComments(comments){var contActif=conteneurActif();if($("#"+detailPhoto,contActif).find(".allComments").hide(),$("#"+detailPhoto,contActif).find(".liste-comments").html(""),$("#"+detailPhoto,contActif).find(".photo-id-del").length)var user_photo=$("#"+detailPhoto,contActif).find(".photo-id-del").val();else var user_photo=null;userAutocomplete="",userAllreadyComment=Array(),_.each(comments.data,function(comment){user_can_delete_comment=!1,(user_id==comment.from.id||user_id==user_photo)&&(user_can_delete_comment=!0);var timestamp=parseInt(comment.created_time),dt=new Date;dt.setTime(1e3*timestamp),comment.quand=$.timeago(dt);var newcomment={id:comment.id,from:[{id:comment.from.id,username:comment.from.username,profile_picture:comment.from.profile_picture}],text:comment.text,quand:$.timeago(dt),user_can_delete_comment:user_can_delete_comment},modelDetailcommentaire=new Detailcommentaire(newcomment);detailcommentaires.add(modelDetailcommentaire);var detailcommentView=new detailcommentaireView({model:modelDetailcommentaire});$("#"+detailPhoto,contActif).find(".liste-comments").append($(detailcommentView.render().el).emoji()),userAllreadyComment[comment.from.id]||(userAutocomplete+='<div class="user-reply"><div class="username-reply">'+comment.from.username+"</div>"+'<div class="username-profil-picture">'+comment.from.profile_picture+"</div>"+"</div>",userAllreadyComment[comment.from.id]=!0)}),$("#"+detailPhoto,contActif).find(".comment-liste-autocomplete").html(userAutocomplete),parsingHashtags(),afficheBoutonsPartage()}function afficheBoutonsPartage(){try{gapi.plusone.go()}catch(exception){}}function adaptePicPourListDb(pic){if("Normal"==pic.filter&&(pic.filter=""),pic.created_time){var timestamp=parseInt(pic.created_time),dt=new Date;dt.setTime(1e3*timestamp);var dt_jour=dt.getDate(),dt_mois=dt.getMonth()+1,dt_annee=dt.getFullYear(),dt_heure=dt.getHours(),dt_minute=dt.getMinutes(),dt_am_pm="am";dt_heure>=12&&(dt_heure-=12,dt_am_pm="pm"),10>dt_minute&&(dt_minute="0"+dt_minute),pic.created_time=dt_heure+"."+dt_minute+" "+dt_am_pm+" "+dt_mois+"/"+dt_jour+"/"+dt_annee}if(pic.tags&&pic.tags.length&&(pic.showTags=1),pic.partage&&(pic.partage=1),pic.tumblr_image=encodeURIComponent(pic.media_url),null!=pic.caption&&(pic.tumblr_caption=encodeURIComponent(pic.caption.text)),null!=pic.likes){if($("#user_id").length){var user_has_liked=!1;$.each(pic.likes,function(key){pic.likes[key].id==$("#user_id").val()&&(user_has_liked=!0)})}var likes=pic.likes;pic.likes=Object(),likes.length>10?(pic.likes.moreLikes=1,pic.likes.likesMasques=likes.slice(0,likes.length-10),pic.likes.likesAffiches=likes.slice(likes.length-10,likes.length)):pic.likes.likesAffiches=likes,pic.likes.user_has_liked=user_has_liked}var replyComment=Array(),replyUser=Array(),position=0;if(null!=pic.comments){for(pic.commentsData=Array(),i=0;pic.comments.length>i;i++){var timestamp=parseInt(pic.comments[i].created_time),dt=new Date;dt.setTime(1e3*timestamp),pic.comments[i].quand=$.timeago(dt),pic.commentsData[i]=pic.comments[i],replyUser[pic.commentsData[i].from.id]==pic.commentsData[i].from.id||(replyComment[position]={username:pic.commentsData[i].from.username,profile_picture:pic.commentsData[i].from.profile_picture},replyUser[pic.commentsData[i].from.id]=pic.commentsData[i].from.id),position++}pic.replyComment=replyComment;var comments=pic.commentsData;pic.comments=Object(),comments.length>3?(pic.moreComments=1,pic.comments.commentsMasques=comments,pic.comments.commentsAffiches=comments.slice(comments.length-3,comments.length)):pic.comments.commentsAffiches=comments}return null==pic.utilisateur_id?(pic.nonIgUser=!0,pic.facebookUser=!0):(pic.nonIgUser=!1,pic.facebookUser=!1),pic}function adaptePicPourListApi(pic){if("Normal"==pic.filter&&(pic.filter=""),"video"==pic.type&&(pic.popinVideo=1),pic.created_time){var timestamp=parseInt(pic.created_time),dt=new Date;dt.setTime(1e3*timestamp);var dt_jour=dt.getDate(),dt_mois=dt.getMonth()+1,dt_annee=dt.getFullYear(),dt_heure=dt.getHours(),dt_minute=dt.getMinutes(),dt_am_pm="am";dt_heure>=12&&(dt_heure-=12,dt_am_pm="pm"),10>dt_minute&&(dt_minute="0"+dt_minute),pic.created_time=dt_heure+"."+dt_minute+" "+dt_am_pm+" "+dt_mois+"/"+dt_jour+"/"+dt_annee}pic.tags.length&&(pic.showTags=1),pic.partage&&(pic.partage=1),void 0===pic.images.low_resolution.url&&(pic.images={low_resolution:{url:pic.images.low_resolution},thumbnail:{url:pic.images.thumbnail},standard_resolution:{url:pic.images.standard_resolution}}),pic.tumblr_image=encodeURIComponent(pic.images.standard_resolution.url),null!=pic.caption&&(pic.tumblr_caption=encodeURIComponent(pic.caption.text)),pic.likes.data.length<pic.likes.count&&(pic.likes.moreLikes=1),pic.comments.count>3&&(pic.comments.moreComments=1);var nbCommentsShow=pic.comments.data.length,nbSuppression=nbCommentsShow-3,tabComments=Array(),replyComment=Array(),replyUser=Array(),position=0;for(i=0;nbCommentsShow>i;i++)if(nbSuppression>0)nbSuppression--;else{tabComments[position]=pic.comments.data[i];var timestamp=parseInt(tabComments[position].created_time),dt=new Date;dt.setTime(1e3*timestamp),tabComments[position].quand=$.timeago(dt),deleteComment=!1,(user_id==pic.comments.data[i].from.id||user_id==pic.user.id)&&(deleteComment=!0),tabComments[position].user_can_delete_comment=deleteComment,replyUser[pic.comments.data[i].from.id]==pic.comments.data[i].from.id||(replyComment[position]={username:pic.comments.data[i].from.username,profile_picture:pic.comments.data[i].from.profile_picture},replyUser[pic.comments.data[i].from.id]=pic.comments.data[i].from.id),position++}return replyUser[pic.user.id]==pic.user.id||(replyComment[position]={username:pic.user.username,profile_picture:pic.user.profile_picture}),pic.replyComment=replyComment,pic.comments.data=tabComments,pic.users_in_photo.length&&(pic.showPhotoOfYou=!0,pic.users_in_photo.length>2?(pic.photoOfYou=pic.users_in_photo.slice(0,2),pic.photoOfYouMore=pic.users_in_photo.length-2):(pic.photoOfYou=pic.users_in_photo,pic.photoOfYouMore=!1)),pic}function selectUserAutocompleteRollover(){$(".autocomplete-proposition").removeClass("autocompletCommentSelectionne"),$(this).addClass("autocompletCommentSelectionne"),nouvellePosition=$(this).attr("id").split("autocomplete-pos-"),position=nouvellePosition[1]}function selectUserAutocomplete(){var laSelection=$(this).text()+" ",input=$(this).parents(".nouveau-commentaire").find(".textareaCommentaire"),temp=input.val().substr(0,commentAutocompletePositionStart+1)+laSelection+input.val().substr(commentAutocompletePositionEnd);input.val(temp),setSelectionRange(input,temp.length,temp.length),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding",""),commentAutocompleteUserEnd(),$("#emojiBoite").fadeIn()}function insertReplyDansTextarea(element){if(element.find("div.autocompletCommentSelectionne").length){var laSelection=element.find("div.autocompletCommentSelectionne").text()+" ",input=element.parents(".nouveau-commentaire").find(".textareaCommentaire"),temp=input.val().substr(0,commentAutocompletePositionStart+1)+laSelection+input.val().substr(commentAutocompletePositionEnd);input.val(temp)}else{var input=element.parents(".nouveau-commentaire").find(".textareaCommentaire"),temp=input.val()+"\n";input.val(temp)}commentAutocompleteUserEnd(),$("#emojiBoite").fadeIn()}function commentKeyUp(ev){if(""==$(this).val()&&(commentAutocompleteUserEnd(),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding",""),$("#emojiBoite").fadeIn()),!commentAutocomplete)return!0;if(40!=ev.keyCode&&38!=ev.keyCode&&13!=ev.keyCode&&9!=ev.keyCode){var input=$(this).context;if($.browser.msie){if(document.selection){var range=document.selection.createRange(),stored_range=range.duplicate();stored_range.moveToElementText(input),stored_range.setEndPoint("EndToEnd",range);var pos=stored_range.text.length-range.text.length}}else var pos=input.selectionStart;commentAutocompletePositionEnd=pos;var strComp=input.value;strComp=strComp.substring(commentAutocompletePositionStart+1,commentAutocompletePositionEnd),tailleStrComp=strComp.length;var positionUser=0;return position=0,$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").html(""),$(this).parents(".nouveau-commentaire").find("div.comment-liste-autocomplete").find(".user-reply").each(function(){userComparaison=$(this).find(".username-reply").text().toLowerCase(),strComp=strComp.toLowerCase();var regUserPrenom=RegExp("(^"+strComp+")","ig"),resultComparaisonPrenom=userComparaison.match(regUserPrenom);resultComparaisonPrenom&&($("#emojiBoite").hide(),classeSelectionne=0==positionUser?"autocompletCommentSelectionne":"",userTrouve=$(this).find(".username-reply").text(),userTrouveAvatar=$(this).find(".username-profil-picture").text(),pointeurDebut=userComparaison.indexOf(strComp),portionTrouve=userTrouve.substr(pointeurDebut,tailleStrComp),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").append('<div id="autocomplete-pos-'+positionUser+'" class="'+classeSelectionne+' autocomplete-proposition">'+'<span class="avatar"><img src="'+userTrouveAvatar+'" /></span>'+'<span class="username">'+userTrouve+"</span>"+"</div>"),positionUser++)}),""==$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").html()?($(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").hide(),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding","")):($(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").fadeIn(),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding","2px")),!0}}function commentKeyDown(ev){if(""==$(this).val()&&(commentAutocompleteUserEnd(),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding",""),$("#emojiBoite").fadeIn()),!commentAutocomplete)return!0;if(40==ev.keyCode||38==ev.keyCode||13==ev.keyCode||9==ev.keyCode){var modification=!1;return nbResultat=$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").find("div").length,(9==ev.keyCode||40==ev.keyCode)&&nbResultat-1>position&&(position++,modification=!0),38==ev.keyCode&&position>0&&(position--,modification=!0),modification&&$(this).parents(".nouveau-commentaire").find("#autocomplete-pos-"+position).length&&($(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").find("div").removeClass("autocompletCommentSelectionne"),$(this).parents(".nouveau-commentaire").find("#autocomplete-pos-"+position).addClass("autocompletCommentSelectionne")),13==ev.keyCode&&(insertReplyDansTextarea($(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche")),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding","")),!1}}function commentKeyPress(ev){var code1=ev.keyCode,code2=ev.charCode;if(!commentAutocomplete&&(64==code1||64==code2)){if($.browser.msie){var element=$(this).context;if(document.selection){var range=document.selection.createRange(),stored_range=range.duplicate();stored_range.moveToElementText(element),stored_range.setEndPoint("EndToEnd",range),positionSaisie=stored_range.text.length-range.text.length}}else{var element=$(this).context;positionSaisie=element.selectionStart}caracterePrecedent=$(this).val().substring(positionSaisie-1,positionSaisie);var regCaracterePrecedent=RegExp("[a-z0-9]","ig"),resultCaracteresPrecedent=caracterePrecedent.match(regCaracterePrecedent);0!=positionSaisie&&resultCaracteresPrecedent||commentAutocompleteUserStart(element)}if(commentAutocomplete&&(32==code1||32==code2)){var element=$(this).context;0==$(element).find(".comment-liste-autocomplete-affiche").find("div").length&&(commentAutocompleteUserEnd(),$("#emojiBoite").fadeIn())}}function commentAutocompleteUserStart(element){$(element).parent(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").fadeIn("slow"),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding","2px");var input=element;if($.browser.msie){if(document.selection){var range=document.selection.createRange(),stored_range=range.duplicate();stored_range.moveToElementText(input),stored_range.setEndPoint("EndToEnd",range);var pos=stored_range.text.length-range.text.length}}else var pos=input.selectionStart;commentAutocompletePositionStart=pos,commentAutocompletePositionEnd=0,position=0,commentAutocomplete=!0}function commentAutocompleteUserEnd(){1==commentAutocomplete&&($(".comment-liste-autocomplete-affiche").html(""),$(".comment-liste-autocomplete-affiche").hide(),$(this).parents(".nouveau-commentaire").find(".comment-liste-autocomplete-affiche").css("padding",""),commentAutocomplete=!1,position=0,commentAutocompletePositionStart=0,commentAutocompletePositionEnd=0,$(".comment-liste-autocomplete-affiche").is(":visible")&&$(this).parents(".nouveau-commentaire").find(".textareaCommentaire").click())}function lazyload(){var color="#f2f2f2";$("#loaderCusto").length&&(color=$("#loaderCusto").val());var optsLoadImg={lines:11,length:5,width:2,radius:7,corners:1,rotate:0,color:color,speed:1,trail:60,shadow:!1,hwaccel:!0,className:"spinner",zIndex:2e9,top:"220",left:"auto"};jQuery().lazyload&&$(".bloc-photo img.photo-flux:not(.loaded)").lazyload({effect:"fadeIn",threshold:1500,appear:function(){var targetLoadImg=document.getElementById($(this).parent().parent().attr("id")),spinner=new Spinner(optsLoadImg).spin(targetLoadImg);spinners[$(this).parent().parent().attr("id")]=spinner},load:function(){$(this).addClass("loaded");var id=$(this).parent().parent().attr("id"),spinner=spinners[id];if(spinner.stop(),setTimeout(function(){$(this).parent().parent().find(".spinner").hide()},1500),640>=$("body").width()&&$(this).parents(".bloc-photo").find(".photo-of-you-mobile-display").length){var picto=$(this).parents(".bloc-photo").find(".photo-of-you-mobile-display");picto.fadeIn(),setTimeout(function(){picto.fadeOut()},5e3)}}})}function logErrorApi(callbackMethod){var method=""+callbackMethod;method=method.substr("function ".length),method=method.substr(0,method.indexOf("(")),$.ajax({type:"GET",dataType:"jsonp",url:"http://173.203.83.166/statilog/index.php",data:{stat:method}})}function showBlocErrorLoadData(){hideLoader($("#conteneurLoaderEnCours")),$("#conteneurErrorLoadData").css("width","auto"),$("#conteneurErrorLoadData").show()}function positionTooltipPhotoOfYou(){if($(".photo-mode-liste").length){var size=$(".photo-mode-liste").width();$(".photo-of-you-tooltip").each(function(){$(this).css("left",size*$(this).data("x")-50+"px"),$(this).css("top",size*$(this).data("y")-50+"px")})}}function parsingPhotoOfYou(){positionTooltipPhotoOfYou(),$(".photo-of-you-tooltip").qtip({content:{text:function(){return $(this).attr("qtip-content")}},style:{classes:"ui-tooltip-rounded ui-tooltip-tipsy ui-tooltip-photoOfYou"},position:{at:"bottom center",my:"top center",adjust:{y:-50}}})}function screenResized(){$(".photo-of-you-tooltip").qtip("hide"),positionTooltipPhotoOfYou()}function showAllPhotoOfYouTooltip(domElement){domElement.parents(".detailPhotoList").find(".photo-of-you-tooltip").qtip({content:{text:function(){return $(this).attr("qtip-content")}},show:{ready:!0},style:{classes:"ui-tooltip-rounded ui-tooltip-tipsy ui-tooltip-photoOfYou"},position:{at:"bottom center",my:"top center",adjust:{y:-50}}})}function hideAllPhotoOfYouTooltip(domElement){domElement.parents(".detailPhotoList").find(".photo-of-you-tooltip").qtip("hide")}function tapPhotoOfYou(domElement){return domElement.parents(".bloc-photo").find(".photo-of-you-mobile-display").length&&(toolTipPhotoOfYou===!1||toolTipPhotoOfYou!==domElement.parents(".bloc-photo").attr("id")?(domElement.parents(".bloc-photo").find(".photo-of-you-mobile-display").fadeIn(),showAllPhotoOfYouTooltip(domElement),toolTipPhotoOfYou=domElement.parents(".bloc-photo").attr("id")):(domElement.parents(".bloc-photo").find(".photo-of-you-mobile-display").fadeOut(),domElement.parents(".detailPhotoList").find(".photo-of-you-tooltip").qtip("hide"),toolTipPhotoOfYou=!1)),!1}function clickLike(photo_id,action,event){if("like"==action){if("click"==event)var removeClasses="like_picto_unselected likeAction",addClasses="like_picto_selected noAction",incr=1;if("ok"==event)var removeClasses="noAction",addClasses="like_picto_selected unlikeAction",incr=0;if("bad"==event)var removeClasses="like_picto_selected noAction",addClasses="like_picto_unselected likeAction",incr=-1}if("unlike"==action){if("click"==event)var removeClasses="like_picto_selected unlikeAction",addClasses="like_picto_unselected noAction",incr=-1;if("ok"==event)var removeClasses="like_picto_unselected noAction",addClasses="like_picto_unselected likeAction",incr=0;if("bad"==event)var removeClasses="noAction",addClasses="like_picto_selected unlikeAction",incr=1}if($("#like-"+photo_id,"#conteneurDetail").removeClass(removeClasses),$("#like-"+photo_id,"#conteneurLoad").removeClass(removeClasses),$("#like-"+photo_id,"#conteneurDetail").addClass(addClasses),$("#like-"+photo_id,"#conteneurLoad").addClass(addClasses),incr){var new_nb_like=parseInt($("#detailPhoto-"+photo_id,conteneurActif()).find(".nb_like_score").html())+incr;$("#detailPhoto-"+photo_id,"#conteneurDetail").find(".nb_like_score").html(new_nb_like),$("#detailPhoto-"+photo_id,"#conteneurLoad").find(".nb_like_score").html(new_nb_like)}if(document.getElementById("detailPhotoss-"+photo_id)&&($("#likess-"+photo_id).removeClass(removeClasses),$("#likess-"+photo_id).addClass(addClasses),incr)){var new_nb_like=parseInt($("#detailPhotoss-"+photo_id).find(".nb_like_score").html())+incr;$("#detailPhotoss-"+photo_id).find(".nb_like_score").html(new_nb_like)}}var gmapLibrairie=!1,spinners={},access_token=null,user_id=null,user_consulte_id=null,user_username=null,commentAutocomplete=!1,commentAutocompletePositionStart=0,commentAutocompletePositionEnd=0,position=0,nbPhotosAfficheLikeUser=0,nbPhotosAfficheLikeUserMax=10,nbPhotosAfficheByFilter=0,nbPhotosAfficheByFilterMax=10,nbPhotosAfficheByTag=0,nbPhotosAfficheByTagMax=10,nbPhotosAfficheByDay=0,nbPhotosAfficheByDayMax=1,jourConsultation,moisConsultation,anneeConsultation,startSearchUser=!1,startSearchTag=!1,testRetour=!1,commentActif,emojitimeout,goFancyBox=!1,ajaxRequest,twttr,nbPhotosAfficheByCercle=0,nbPhotosAfficheByCercleMax=20,nbPhotosAfficheByAlbum=0,nbPhotosAfficheByAlbumMax=20,nbRefreshFeed=0,tabCercles=Object(),tabUsersDansCercle=Array(),tabAlbums=Object(),tabPhotosDansAlbum=Array(),type_photos="ig",listMediaViewed=Array(),ipServerStats,pageGrid=!1,pagePrecedenteGrid=!1,pagePrecedente2Grid=!1,retourFromPhoto=!1,chargeJusquaPhotoId=!1,feedGridPosPhoto=0,ajaxAc,nbRefreshLeaderboard=0,popChecked=Object(),map=void 0,markers=Object(),bigPhotos=Object(),captions=Object(),slideShow=!1,slideCurrent=null,slideCurrentPhoto=null,picObject={},mapMode="normal",mustachePhotos=[],oldGMapSize={},index=0,photosToUpdate=Object(),photosToUpdateLength=0,photosToUpdateLengthMax=20,photosToUpdateTotalDone=0,photosToUpdateTotalDoneMax=100,resizeTimer,toolTipPhotoOfYou=!1;$(document).ready(function(){$(".popinvideo").live("click",function(){var width=$("body").width(),height=$("body").height();width>612?width=height="612":height=width;var urlVideo=$(this).attr("href");return $.fancybox({overlayOpacity:.5,overlayColor:"#000",autoDimensions:!1,scrolling:"no",centerOnScroll:!1,autoScale:!1,width:width,height:height,padding:"0",margin:"0",href:"/player.php?video="+urlVideo,onStart:function(){$("#fancybox-content").addClass("popinVideo"),$("#fancybox-close").css({right:"-27px"})},onClosed:function(){$("#fancybox-content").removeClass("popinVideo")}}),!1}),$(".mediavideo, .mediavideoslide").live("click",function(){var videoPlay=!1,urlVideo=$(this).attr("data-href");if($(this).hasClass("mediavideoslide"))var blocPhoto=$(this).parents(".contentSlideShow");else var blocPhoto=$(this).parents(".bloc-photo");var width=blocPhoto.css("width"),height=blocPhoto.css("height");return blocPhoto.jPlayer({ready:function(){$(this).jPlayer("setMedia",{m4v:urlVideo}).jPlayer("play"),videoPlay=!0,blocPhoto.append('<a href="javascript:void(0);" class="toggle-video"><span class="ss-icon ss-stati ss-stati-pause picto-play picto-play-list"></span></a>'),blocPhoto.bind("click",function(){videoPlay===!0?(blocPhoto.jPlayer("pause"),videoPlay=!1,$(this).find(".toggle-video").find("span").removeClass("ss-stati-pause"),$(this).find(".toggle-video").find("span").addClass("ss-stati-play")):(blocPhoto.jPlayer("play"),videoPlay=!0,$(this).find(".toggle-video").find("span").removeClass("ss-stati-play"),$(this).find(".toggle-video").find("span").addClass("ss-stati-pause"))})},ended:function(){videoPlay=!1,blocPhoto.find(".toggle-video span").removeClass("ss-stati-pause"),blocPhoto.find(".toggle-video span").addClass("ss-stati-play"),blocPhoto.jPlayer("pause",0)},swfPath:"/js",supplied:"m4v",size:{width:width,height:height}}),!1}),$(window).resize(function(){clearTimeout(resizeTimer),resizeTimer=setTimeout(screenResized,100)}),$(".photo-mode-liste").live("click",function(){640>=$("body").width()?tapPhotoOfYou($(this)):$(this).parents(".detailPhotoList").find(".photo-of-you-tooltip").qtip("hide")}),$(".photo-of-you-mobile-display").live("click",function(){tapPhotoOfYou($(this))}),$(".more-photo-of-you").live("click",function(){return $(this).parents(".detail-photoofyou").find(".photo-of-you-condensed").hide(),$(this).parents(".detail-photoofyou").find(".photo-of-you-extend").show(),!1}),$(".user-photo-of-you").live({mouseenter:function(){var userId=$(this).data("photoofyou");$(this).parents(".detailPhotoList").find("#photo-of-you-tooltip-"+userId).qtip({content:{text:function(){return $(this).parents(".detailPhotoList").find("#photo-of-you-tooltip-"+userId).attr("qtip-content")}},show:{ready:!0},style:{classes:"ui-tooltip-rounded ui-tooltip-tipsy ui-tooltip-photoOfYou"},position:{at:"bottom center",my:"top center",adjust:{y:-50}}})},mouseleave:function(){var el=$(this),userId=el.data("photoofyou");setTimeout(function(){el.parents(".detailPhotoList").find("#photo-of-you-tooltip-"+userId).qtip("hide")},250)}}),$(".detail-photoofyou-gauche").live({mouseenter:function(){showAllPhotoOfYouTooltip($(this))},mouseout:function(){var el=$(this);setTimeout(function(){hideAllPhotoOfYouTooltip(el)},250)}});for(var x in EMOJIGROUPS)for(var y in EMOJIGROUPS[x])EMOJIICONS[y]=EMOJIGROUPS[x][y];if(createEmojiForm(),$("#listeLiensPhotos").hide(),$(".textareaCommentaire").live("keypress",commentKeyPress),$(".textareaCommentaire").live("keydown",commentKeyDown),$(".textareaCommentaire").live("keyup",commentKeyUp),$(".autocomplete-proposition").live("click",selectUserAutocomplete),$(".autocomplete-proposition").live("mouseover",selectUserAutocompleteRollover),$("body").live("click",commentAutocompleteUserEnd),$(".detailPhotoList .textareaCommentaire").live("focus",function(){emojitimeout&&clearTimeout(emojitimeout),commentActif=$(this);var p=commentActif.position();$("#emojiBoite").css("top",p.top+$(this).height()+30),$("#emojiBoite").css("left",p.left),$("#emojiBoite").fadeIn(),$(this).attr("placeholder")==$(this).val()&&$(this).val(""),$(this).attr("placeholder",""),$(this).removeClass("placeholder")}),$(".detailPhotoGrid .textareaCommentaire, .photos-wrapper .textareaCommentaire").live("focus",function(){$(".detailPhotoGrid:nth-child(5n+4)").addClass("detailCommentAlignRight"),$(".detailPhotoGrid:nth-child(5n)").addClass("detailCommentAlignRight"),emojitimeout&&clearTimeout(emojitimeout),photoActive=$(this).parents(".detailPhotoGrid, .photos-wrapper"),commentActif=$(this);var p=photoActive.position(),addHeight=290;
photoActive.find("p.name").length&&(addHeight+=18);var emojiLeft=0;$(this).parents(".detailPhotoGrid, .photos-wrapper").is(":offscreen")&&(emojiLeft=-235),$("#emojiBoite").css("top",p.top+$(this).height()+addHeight),$("#emojiBoite").css("left",p.left+emojiLeft),$("#emojiBoite").fadeIn(),$(this).attr("placeholder")==$(this).val()&&$(this).val(""),$(this).attr("placeholder",""),$(this).removeClass("placeholder")}),$(".detailPhotoList .textareaCommentaire").live("blur",function(){emojitimeout=setTimeout(function(){commentActif=null,$("#emojiBoite").hide()},300)}),$(".detailPhotoGrid .textareaCommentaire, .photos-wrapper .textareaCommentaire").live("blur",function(){var blocCommentaire=$(this).parents(".nouveau-commentaire");emojitimeout=setTimeout(function(){commentActif=null,$("#emojiBoite").hide(),blocCommentaire.hide()},300)}),$(".lien-slideshow").live("click",function(){$("body").css("overflow",""),$("#overlay").remove()}),$(".lien-exit").live("click",function(){return $("body").css("overflow",""),$("#overlay").remove(),!1}),jQuery.expr.filters.offscreen=function(el){var jq=$(el),rect=el.getBoundingClientRect();return rect.left+jq.find(".nouveau-commentaire").width()>window.innerWidth},$(".photos-wrapper .comment_picto").live("click",function(){return 640>=$("body").width()?!1:($("#gallerie-concours").hasClass("nonLogue")||("block"==$(this).parents(".photos-wrapper").find(".nouveau-commentaire").css("display")?$(this).parents(".photos-wrapper").find(".nouveau-commentaire").fadeOut():($(".nouveau-commentaire").hide(),$(this).parent().parent().is(":offscreen")&&$(this).parents(".photos-wrapper").find(".nouveau-commentaire").css("left","-235px"),$(this).parents(".photos-wrapper").find(".nouveau-commentaire").show(),$(this).parents(".photos-wrapper").find(".nouveau-commentaire textarea").focus())),!1)}),$("#close-bandeau-social").live("click",function(){return lien=$(this),$.post("controller_ajax.php",{action:"close-bandeau-social"},function(data){data&&(lien.hide(),lien.parents("#bandeau-social").removeClass("open").addClass("close"))}),!1}),$(window).resize(function(){$("#content-photo").length&&resizePhotosSlideshow()}),$("a.pic-location").live("click",function(){if(conteneur=$(this).parents(".detailPhotoList"),conteneur.find(".gmap").is(":visible"))conteneur.find(".gmap").fadeOut();else if(idCanvas=conteneur.find(".gmap").attr("id"),latitude=conteneur.find(".latitude").val(),longitude=conteneur.find(".longitude").val(),0==gmapLibrairie){var gmap_key=$("#gmap_key").val();$.getScript("http://maps.google.com/maps?file=api&v=2&async=2&callback=placeMap&key="+gmap_key)}else placeMap();return!1}),$("#conteneurLoaderEnCours").length){var color="#f2f2f2";$("#loaderCusto").length&&(color=$("#loaderCusto").val());var optsLoader={lines:17,length:12,width:2,radius:28,corners:1,rotate:0,color:color,speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"},targetLoader=document.getElementById("conteneurLoaderEnCours");new Spinner(optsLoader).spin(targetLoader),$("#conteneurLoaderEnCours").css({display:"none"})}});function submitSearchFormNl(){var stringSearch=$(this).find(".getSearch").val();return"#"===stringSearch.charAt(0)&&(stringSearch=stringSearch.substr(1)),document.location.href="/search/"+stringSearch,!1}var hashstr=window.location.hash;-1!==hashstr.indexOf("#access_token")&&(window.location.hash="#"),$(document).ready(function(){$("#socialNlBloc").length&&$("#socialNlBloc").show(),$("select#home-language").length&&$("select#home-language").change(function(){window.location.pathname+window.location.search+window.location.hash}),$("input[placeholder]").placeholder(),$("#searchFormNl").length&&($("#resultatSearch").length||$("#searchFormNl").live("submit",submitSearchFormNl)),$("#searchFormNlTop").length&&$("#searchFormNlTop").live("submit",submitSearchFormNl),$("#searchFormNl2").length&&$("#searchFormNl2").live("submit",submitSearchFormNl),$("#choix-langue").live("click",function(){return $(this).hasClass("selected")?($(this).removeClass("selected"),$("#liste-langues").hide()):($(this).addClass("selected"),$("#liste-langues").show()),!1}),$("#liste-langues").live("mouseleave",function(){$("#choix-langue").removeClass("selected"),$("#liste-langues").hide()}),$("#tagonline_close").live("click",function(){$("#tagonline").hide()})});function testTrackingInscription(){if($(".email-tracking-show").length&&$("#user_id").length){var userId=$("#user_id").val();$.get("/controller_ajax.php",{action:"trackingInscription",type:"affviewer",userId:userId}),$("#setting-timezone").change(function(){$.get("/controller_ajax.php",{action:"trackingInscription",type:"modifgmt",userId:userId})})}}function widgetSize(){var f=$("#content-iframe iframe")[0],widgetContentHeight=f.contentWindow.document.body.offsetHeight,widgetContentWidth=f.contentWindow.document.body.offsetWidth;$("#height").val(widgetContentHeight),$("#content-iframe iframe").height(widgetContentHeight),widgetContentHeight>$(".blocPromoteWidget-right").height()?$(".blocPromoteWidget-right").css("overflow-y","scroll"):$(".blocPromoteWidget-right").css("overflow-y","hidden"),widgetContentWidth>$(".blocPromoteWidget-right").width()?$(".blocPromoteWidget-right").css("overflow-x","scroll"):$(".blocPromoteWidget-right").css("overflow-x","hidden")}function generate_html_iframe(){var choose_content=$("#choose-content"),parameters=Object();if("myfeed"===choose_content.val()){parameters.choice="myfeed",parameters.username=$("#username").val(),parameters.show_infos=$("#infos").is(":checked"),parameters.linking=$("#linking").val(),parameters.width=$("#width").val(),parameters.height=$("#height").val();var choose_mode=$("#choose-mode");"grid"===choose_mode.val()&&(parameters.mode="grid",parameters.layout_x=$("#layoutX").val(),parameters.layout_y=$("#layoutY").val(),parameters.padding=$("#padding").val(),parameters.photo_border=$("#photo-border").is(":checked"),parameters.background=$("#background").val(),parameters.text=$("#text").val(),parameters.widget_border=$("#widget-border").is(":checked"),parameters.radius=$("#radius").val(),parameters["border-color"]=$("#border-color").val()),"slideshow"===choose_mode.val()&&(parameters.mode="slideshow",parameters.photo_border=$("#photo-border").is(":checked"),parameters.pace=$("#pace").val(),parameters.background=$("#background").val(),parameters.text=$("#text").val(),parameters.widget_border=$("#widget-border").is(":checked"),parameters.radius=$("#radius").val(),parameters["border-color"]=$("#border-color").val())}if("hashtag"===choose_content.val()){parameters.choice="hashtag",parameters.hashtag=$("#hashtag").val(),parameters.show_infos=!1,parameters.linking=$("#linking").val(),parameters.width=$("#width").val(),parameters.height=$("#height").val();var choose_mode=$("#choose-mode");"grid"===choose_mode.val()&&(parameters.mode="grid",parameters.layout_x=$("#layoutX").val(),parameters.layout_y=$("#layoutY").val(),parameters.padding=$("#padding").val(),parameters.photo_border=$("#photo-border").is(":checked"),parameters.background=$("#background").val(),parameters.text=$("#text").val(),parameters.widget_border=$("#widget-border").is(":checked"),parameters.radius=$("#radius").val(),parameters["border-color"]=$("#border-color").val()),"slideshow"===choose_mode.val()&&(parameters.mode="slideshow",parameters.photo_border=$("#photo-border").is(":checked"),parameters.pace=$("#pace").val(),parameters.background=$("#background").val(),parameters.text=$("#text").val(),parameters.widget_border=$("#widget-border").is(":checked"),parameters.radius=$("#radius").val(),parameters["border-color"]=$("#border-color").val())}parameters.user_id=$("#user-id").val(),parameters.time=(new Date).getTime()+"";var domain=$("#domain").val(),url=buildUrl(domain+"widget.php",parameters),iframe_content="<iframe width='"+parameters.width+"' height='"+parameters.height+"' src='"+url+"' allowTransparency='true' frameborder='0' scrolling='no' style='border:none; overflow:hidden; width:"+parameters.width+"px; height:"+parameters.height+"px;'></iframe>";return iframe_content}function buildUrl(url,parameters){var qs="";for(var key in parameters){var value=parameters[key];("string"==typeof value||"boolean"==typeof value)&&(qs+=encodeURIComponent(key)+"="+encodeURIComponent(value)+"&")}return qs.length>0&&(qs=qs.substring(0,qs.length-1),url=url+"?"+qs),url}function initQtip(){$(".qTip").qtip({content:{text:function(){return $(this).attr("qtip-content")}},style:{classes:"ui-tooltip-blanc ui-tooltip-rounded ui-tooltip-shadow",tip:{corner:!0,height:24,width:12}},position:{my:"left center",at:"right center",adjust:{x:10}}}),$(".qTipSmall").qtip({content:{text:function(){return $(this).attr("qtip-content")}},style:{classes:"ui-tooltip-blanc ui-tooltip-rounded ui-tooltip-shadow",tip:{corner:!0,height:15,width:10}},position:{my:"left center",at:"right center"}})}function selectText(elementId){var doc=document,text=doc.getElementById(elementId);if(doc.body.createTextRange){var range=document.body.createTextRange();range.moveToElementText(text),range.select()}else if(window.getSelection){var selection=window.getSelection();if(selection.setBaseAndExtent)selection.setBaseAndExtent(text,0,text,1);else{var range=document.createRange();range.selectNodeContents(text),selection.removeAllRanges(),selection.addRange(range)}}}function imagePreview(){xOffset=150,yOffset=30,$("#block-stats-photos-likes .media-date").hover(function(e){var imgprev=$(this).find("img").attr("src");this.t=this.title,this.title="";var c=""!=this.t?"<br/>"+this.t:"";$("body").append("<p id='preview'><img src='"+imgprev+"' width=150 height=150 alt='Image preview' />"+c+"</p>"),$("#preview").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px").fadeIn("fast")},function(){this.title=this.t,$("#preview").remove()}),$("#block-stats-photos-likes .media-date").mousemove(function(e){$("#preview").css("top",e.pageY-xOffset+"px").css("left",e.pageX+yOffset+"px")})}function clicDonate(){var formulaire=$(this),custom=formulaire.find("input[name=custom]").val(),donateOk=formulaire.find(".donate-ok");return"1"==donateOk.val()?!0:(donateOk.val("1"),$.get("/controller_ajax.php",{action:"clicDonate",custom:custom},function(){formulaire.submit()}),!1)}function checkContestsNonLus(){var menu=$("#menu-principal-concours");menu.length&&$.get("/controller_ajax.php",{action:"contestsNonLus"},function(retour){var nbNonLus=parseInt(retour);if(nbNonLus>0){var content='<div id="nbContestsNonLus">'+nbNonLus+"</div>";menu.append(content),$(".c-contests").html('<div class="bubulle-main-elm">'+nbNonLus+"</div>")}else $("#nbContestsNonLus").remove()})}function checkDmNonLus(){$("#messages-contacts").length?$.getJSON("/controller_ajax.php",{action:"dmNonLusListe"},function(retour){var nbNonLus=0,messages=$.parseJSON(retour[0]);$.each(messages,function(key,val){$("#newMessage_"+key+" img").show(),nbNonLus+=val}),compteurDmNonLus=nbNonLus,compteurCommentsNonLus=parseInt(retour[1]),affichageCheckDmNonLus();var checkIfNeedUpdateComments=retour[2],userId=retour[3],token=retour[4];checkDmNonLusCallback(checkIfNeedUpdateComments,userId,token)}):$("#menu-principal-dm").length&&$.getJSON("/controller_ajax.php",{action:"dmNonLus"},function(retour){compteurDmNonLus=parseInt(retour[0]),compteurCommentsNonLus=parseInt(retour[1]),affichageCheckDmNonLus();var checkIfNeedUpdateComments=retour[2],userId=retour[3],token=retour[4];checkDmNonLusCallback(checkIfNeedUpdateComments,userId,token)})}function checkDmNonLusCallback(checkIfNeedUpdateComments,userId,token){checkIfNeedUpdateComments&&setTimeout(function(){lanceRefreshComments(userId,token)},5e3)}function affichageCheckDmNonLus(){var totalNonLus=compteurDmNonLus+compteurCommentsNonLus;if($("#nbMessagesNonLus").remove(),totalNonLus>0){var content='<div id="nbMessagesNonLus">'+totalNonLus+"</div>";$("#menu-principal-dm").append(content),$(".c-management").html("<div class='bubulle-main-elm'>"+totalNonLus+"</div>"),$(".c-messages").html("("+compteurDmNonLus+")"),$(".c-comments").html("("+compteurCommentsNonLus+")")}if($("#compteursNouveauxDm").length){var strCompteur="";compteurDmNonLus&&(strCompteur="+ "+compteurDmNonLus),$("#compteursNouveauxDm").html(strCompteur)}if($("#compteursNouveauxComments").length){var strCompteur="";compteurCommentsNonLus&&(strCompteur="+ "+compteurCommentsNonLus),$("#compteursNouveauxComments").html(strCompteur)}}function lanceRefreshComments(userId,accessToken){$.ajax({type:"GET",dataType:"jsonp",url:"https://api.instagram.com/v1/users/"+userId+"/media/recent/",data:{access_token:accessToken,count:5},success:function(retour){if("200"==retour.meta.code){var medias=retour.data,nbMedias=medias.length;checkTimerComments=nbMedias;var i=0;asyncLoop(nbMedias,function(loop){var media=medias[i];$.ajax({type:"GET",dataType:"jsonp",url:"https://api.instagram.com/v1/media/"+media.id+"/comments",data:{access_token:accessToken},async:!1,success:function(retourComment){var retourMedia={media_id:media.id,media_url:media.images.thumbnail.url,created_time:media.created_time,utilisateur_id:media.user.id,nb_comments:media.comments.count,c:retourComment.data},myJSONString=JSON_stringify(retourMedia,!1);$.post("/controller_ajax.php?t=sc1",{action:"refreshSuiviComments",medias:myJSONString},function(){checkTimerComments--})}}),i++,loop.next()},function(){})}}}),checkRefreshCommentsTermine()}function checkRefreshCommentsTermine(){0==checkTimerComments?($.getJSON("/controller_ajax.php",{action:"sauveSuiviComments"},function(retour){compteurCommentsNonLus=parseInt(retour),affichageCheckDmNonLus()}),checkTimerComments=1e3):setTimeout(checkRefreshCommentsTermine,500)}function JSON_stringify(s,emit_unicode){var json=JSON.stringify(s);return emit_unicode?json:json.replace(/[\u007f-\uffff]/g,function(c){return"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})}function asyncLoop(iterations,func,callback){var index=0,done=!1,loop={next:function(){done||(iterations>index?(index++,func(loop)):(done=!0,callback()))},iteration:function(){return index-1},stop:function(){done=!0,callback()}};return loop.next(),loop}function controleEmail(email){email=$.trim(email);var verif=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return null!=verif.exec(email)?!0:!1}function controleURL(url){var verif=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi;return null!=verif.exec(url)?!0:!1}function controleDate(date){date=$.trim(date);var verif=/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[012])\/(19|20)\d\d$/;return null!=verif.exec(date)?!0:!1}function setChoice(action,choix){$.ajax({type:"POST",url:"/controller_ajax.php",data:{action:action,choix:choix},cache:!1,success:function(){},error:function(){}})}function changeLanguageUser(language){$.ajax({type:"GET",url:"/controller_ajax.php",data:{action:"updateSettingLanguage",choix:language},cache:!1,success:function(data){document.location=data+"settings.php"},error:function(){}})}function createEmojiForm(){if(document.getElementById("emojiBoite")){for(var x in EMOJIGROUPS){var div=$('<div class="'+x+'"></div>'),result="";for(var str in EMOJIGROUPS[x])result+='<span class="'+str+'"></span>';div.html(result),$("#emojiBoite").find("div.icons").append(div)}$("#emojiBoite").find("div.icons div:first").addClass("active"),$("#emojiBoite").find("ul>li>span").live("click",function(event){emojitimeout&&(clearTimeout(emojitimeout),commentActif[0].focus());var tabitem=$(this).parent();if(null!=tabitem)for(var str in EMOJIGROUPS)tabitem.hasClass(str)&&changeTab(str);event.stopPropagation()}),$("#emojiBoite").find("ul>li").live("click",function(event){emojitimeout&&(clearTimeout(emojitimeout),commentActif[0].focus());var tabitem=$(this);if(null!=tabitem)for(var str in EMOJIGROUPS)tabitem.hasClass(str)&&changeTab(str);event.stopPropagation()}),$("#emojiBoite").find("div.icons div>span").live("click",function(event){emojitimeout&&(clearTimeout(emojitimeout),commentActif[0].focus());var ch=EMOJIICONS[$(this).attr("class")];if(ch&&commentActif){var position=getCaret(commentActif[0]),text=commentActif.val(),left=text.substring(0,position),right=text.substring(position,text.length);commentActif.val(left+" "+String.fromCharCode(ch)+" "+right)}return event.stopPropagation(),!1})}}function getCaret(el){if(el.selectionStart)return el.selectionStart;if(document.selection){el.focus();var r=document.selection.createRange();if(null==r)return 0;var re=el.createTextRange(),rc=re.duplicate();return re.moveToBookmark(r.getBookmark()),rc.setEndPoint("EndToStart",re),rc.text.length}return 0}function unique(a){var r=Array();o:for(var i=0,n=a.length;n>i;i++){for(var x=0,y=r.length;y>x;x++)if(r[x]==a[i])continue o;r[r.length]=a[i]}return r}function changeTab(str){var tabActif=$("#emojiBoite").find(".icons").find("div.active");tabActif.removeClass("active"),$("#emojiBoite").find(".icons div").each(function(){$(this).hasClass(str)&&$(this).addClass("active")})}function setSelectionRange(input,selectionStart,selectionEnd){if(input[0].setSelectionRange)input[0].focus(),input[0].setSelectionRange(selectionStart,selectionEnd);else if(input[0].createTextRange){var range=input[0].createTextRange();range.collapse(!0),range.moveEnd("character",selectionEnd),range.moveStart("character",selectionStart),range.select()}}function getThumbnailFromBigPicture(string){var reg=RegExp("(_7)","g");return string.replace(reg,"_5")}function getBigImageFromThumbnailPicture(string){var reg=RegExp("(_5)","g");return string.replace(reg,"_7")}function resizeImage($image){var widthMargin=0,heightMargin=2*$("h2.mp-label").height(),windowH=$(window).height()-heightMargin,windowW=$(window).width()-widthMargin,theImage=new Image;theImage.src=$image.attr("src");var imgwidth=theImage.width,imgheight=theImage.height;if(imgwidth>windowW||imgheight>windowH)if(imgwidth>imgheight){var newwidth=windowW,ratio=imgwidth/windowW,newheight=imgheight/ratio;if(theImage.height=newheight,theImage.width=newwidth,newheight>windowH){var newnewheight=windowH,newratio=newheight/windowH,newnewwidth=newwidth/newratio;theImage.width=newnewwidth,theImage.height=newnewheight}}else{var newheight=windowH,ratio=imgheight/windowH,newwidth=imgwidth/ratio;if(theImage.height=newheight,theImage.width=newwidth,newwidth>windowW){var newnewwidth=windowW,newratio=newwidth/windowW,newnewheight=newheight/newratio;theImage.height=newnewheight,theImage.width=newnewwidth}}$image.css({width:theImage.width+"px",height:theImage.height+"px","margin-left":-theImage.width/2+"px","margin-top":-theImage.height/2+$("h2.mp-label").height()/2+"px"})}function isUrl(s){var regexp=/^(?:https?:\/\/)?(?:[\w]+\.)(?:\.?[\w]{2,}[\w#!:.?+=&%@!\-\/]?)+$/;return regexp.test(s)}function isFacebookUrl(s){var regexp=/facebook.com\/[\w#!:.?+=&%@!\-\/]/;return regexp.test(s)}function isPseudo(s){var result=!0,regexSpace=/[ ]/;regexSpace.test(s)&&(result=!1);var regexValidSlash=/[\/]/;regexValidSlash.test(s)&&(result=!1);var regexValidChar=/[A-Za-z0-9_]+/;return 0==regexValidChar.test(s)&&(result=!1),result}function checkAvatars(){var at=null;$(".unUser-avatar img, .wrapper-mini-avatars img, .wrapper-user-avatar img, .wrapper-top5 img").each(function(){var img=$(this);if(!isImageOk(img[0])){at||(at=$("#access_token").val()),img[0].src="/images/default-avatar.jpg";var uid=img.data("id");$.ajax({type:"GET",dataType:"jsonp",cache:!1,url:"https://api.instagram.com/v1/users/"+uid+"?access_token="+at,success:function(retour){retour.data&&($("<img />").load(function(){img.hide(),img[0].src=retour.data.profile_picture,img.fadeIn("slow")})[0].src=retour.data.profile_picture)}})}})}function isImageOk(img){return img.complete?img.naturalWidth!==void 0&&0==img.naturalWidth?!1:!0:!1}var timerDmNonLus,showPubLeaderboard=!1,EMOJIICONS={},EMOJIGROUPS={smile:{E415:58389,E056:57430,E057:57431,E414:58388,E405:58373,E106:57606,E418:58392,E417:58391,E40D:58381,E40A:58378,E404:58372,E105:57605,E409:58377,E40E:58382,E402:58370,E108:57608,E403:58371,E058:57432,E407:58375,E401:58369,E40F:58383,E40B:58379,E406:58374,E413:58387,E411:58385,E412:58386,E410:58384,E107:57607,E059:57433,E416:58390,E408:58376,E40C:58380,E11A:57626,E10C:57612,E32C:58156,E32A:58154,E32D:58157,E328:58152,E32B:58155,E022:57378,E023:57379,E327:58151,E329:58153,E32E:58158,E32F:58159,E334:58164,E337:58167,E336:58166,E13C:57660,E330:58160,E331:58161,E326:58150,E03E:57406,E11D:57629,E05A:57434,E00E:57358,E421:58401,E420:58400,E00D:57357,E010:57360,E011:57361,E41E:58398,E012:57362,E422:58402,E22E:57902,E22F:57903,E231:57905,E230:57904,E012:57362,E012:57362,E00F:57359,E14C:57676,E41F:58399,E201:57857,E115:57621,E428:58408,E51F:58655,E429:58409,E424:58404,E423:58403,E253:57939,E426:58406,E111:57617,E425:58405,E31E:58142,E31F:58143,E31D:58141,E001:57345,E002:57346,E005:57349,E004:57348,E51A:58650,E519:58649,E518:58648,E515:58645,E516:58646,E517:58647,E51B:58651,E152:57682,E04E:57422,E51C:58652,E51E:58654,E11C:57628,E536:58678,E003:57347,E41C:58396,E41B:58395,E419:58393,E41A:58394},stuff:{E036:57398,E157:57687,E038:57400,E153:57683,E155:57685,E14D:57677,E156:57686,E501:58625,E158:57688,E43D:58429,E037:57399,E504:58628,E44A:58442,E146:57670,E50A:58634,E505:58629,E506:58630,E122:57634,E508:58632,E509:58633,E03B:57403,E04D:57421,E449:58441,E44B:58443,E51D:58653,E44C:58444,E124:57636,E121:57633,E433:58419,E202:57858,E135:57653,E01C:57372,E01D:57373,E10D:57613,E136:57654,E42E:58414,E01B:57371,E15A:57690,E159:57689,E432:58418,E430:58416,E431:58417,E42F:58415,E01E:57374,E039:57401,E435:58421,E01F:57375,E125:57637,E03A:57402,E14E:57678,E252:57938,E137:57655,E209:57865,E154:57684,E133:57651,E150:57680,E320:58144,E123:57635,E132:57650,E143:57667,E50B:58635,E514:58644,E513:58643,E50C:58636,E50D:58637,E511:58641,E50F:58639,E512:58642,E510:58640,E50E:58638},nature:{E04A:57418,E04B:57419,E049:57417,E048:57416,E04C:57420,E13D:57661,E443:58435,E43E:58430,E04F:57423,E052:57426,E053:57427,E524:58660,E52C:58668,E52A:58666,E531:58673,E050:57424,E527:58663,E051:57425,E10B:57611,E52B:58667,E52F:58671,E109:57609,E528:58664,E01A:57370,E134:57652,E530:58672,E529:58665,E526:58662,E52D:58669,E521:58657,E523:58659,E52E:58670,E055:57429,E525:58661,E10A:57610,E522:58658,E019:57369,E054:57428,E520:58656,E306:58118,E030:57392,E304:58116,E110:57616,E032:57394,E305:58117,E303:58115,E118:57624,E447:58439,E119:57625,E307:58119,E308:58120,E444:58436,E441:58433},items:{E436:58422,E437:58423,E438:58424,E43A:58426,E439:58425,E43F:58431,E117:57623,E440:58432,E442:58434,E446:58438,E445:58437,E11B:57627,E448:58440,E033:57395,E112:57618,E325:58149,E312:58130,E310:58128,E126:57638,E127:57639,E008:57352,E03D:57405,E00C:57356,E12A:57642,E00A:57354,E00B:57355,E009:57353,E316:58134,E129:57641,E141:57665,E142:57666,E317:58135,E128:57640,E14B:57675,E211:57873,E114:57620,E145:57669,E144:57668,E03F:57407,E313:58131,E116:57622,E10F:57615,E104:57604,E103:57603,E101:57601,E102:57602,E13F:57663,E140:57664,E11F:57631,E12F:57647,E031:57393,E30E:58126,E311:58129,E113:57619,E30F:58127,E13B:57659,E42B:58411,E42A:58410,E018:57368,E016:57366,E015:57365,E014:57364,E42C:58412,E42D:58413,E017:57367,E013:57363,E20E:57870,E20C:57868,E20F:57871,E20D:57869,E131:57649,E12B:57643,E130:57648,E12D:57645,E324:58148,E301:58113,E148:57672,E502:58626,E03C:57404,E30A:58122,E042:57410,E040:57408,E041:57409,E12C:57644,E007:57351,E31A:58138,E13E:57662,E31B:58139,E006:57350,E302:58114,E319:58137,E321:58145,E322:58146,E314:58132,E503:58627,E10E:57614,E318:58136,E43C:58428,E11E:57630,E323:58147,E31C:58140,E034:57396,E035:57397,E045:57413,E338:58168,E047:57415,E30C:58124,E044:57412,E30B:58123,E043:57411,E120:57632,E33B:58171,E33F:58175,E341:58177,E34C:58188,E344:58180,E342:58178,E33D:58173,E33E:58174,E340:58176,E34D:58189,E339:58169,E147:57671,E343:58179,E33C:58172,E33A:58170,E43F:58431,E34B:58187,E046:57414,E345:58181,E346:58182,E348:58184,E347:58183,E34A:58186,E349:58185},emblems:{E21C:57884,E21D:57885,E21E:57886,E21F:57887,E220:57888,E221:57889,E222:57890,E223:57891,E224:57892,E225:57893,E210:57872,E232:57906,E233:57907,E235:57909,E234:57908,E236:57910,E237:57911,E238:57912,E239:57913,E23B:57915,E23A:57914,E23D:57917,E23C:57916,E24D:57933,E212:57874,E24C:57932,E213:57875,E214:57876,E507:58631,E203:57859,E20B:57867,E22A:57898,E22B:57899,E226:57894,E228:57896,E22C:57900,E22D:57901,E215:57877,E216:57878,E217:57879,E218:57880,E228:57896,E151:57681,E138:57656,E139:57657,E13A:57658,E208:57864,E14F:57679,E20A:57866,E434:58420,E309:58121,E315:58133,E30D:58125,E207:57863,E229:57897,E206:57862,E205:57861,E204:57860,E12E:57646,E250:57936,E251:57937,E14A:57674,E149:57673,E23F:57919,E240:57920,E241:57921,E242:57922,E243:57923,E244:57924,E245:57925,E246:57926,E247:57927,E248:57928,E249:57929,E24A:57930,E24B:57931,E23E:57918,E532:58674,E533:58675,E534:58676,E535:58677,E21A:57882,E219:57881,E21B:57883,E02F:57391,E024:57380,E025:57381,E026:57382,E027:57383,E208:57864,E029:57385,E02A:57386,E02B:57387,E02C:57388,E02D:57389,E02E:57390,E332:58162,E333:58163,E24E:57934,E24F:57935,E537:58679}},usersProtect=["261148463","5172150"],usersMasques=["290316318","283781216"],compteurDmNonLus=!1,compteurCommentsNonLus=!1,checkTimerComments=1e3;$(document).ready(function(){if(setTimeout(checkAvatars,1e3),$(".social-click").live("click",function(){return $(this).hasClass("ss-twitter")?!1:(window.open($(this).attr("href"),"","width=640, height=430"),!1)}),$(".wrapper-dropdown, #menu-viewer-concours-smaller, .wrapper-share").live("click",function(){$(this).hasClass("open")?$(this).removeClass("open"):$(this).addClass("open")}),$(".menu-mobile-icon").live("click",function(){return $(this).hasClass("active")?($(this).removeClass("active"),$(".links-mobile-wrapper").css("max-height","0"),void 0):($(".menu-mobile-search").removeClass("active"),$(this).addClass("active"),$(".search-mobile-wrapper").hide().css("max-height","0"),$(".links-mobile-wrapper").show(),setTimeout(function(){$(".links-mobile-wrapper").css("max-height","2000px")},100),void 0)}),$(".mobile-links .ss-menu li a").live("click",function(){return $(".menu-mobile-icon").hasClass("active")?($(".menu-mobile-icon").removeClass("active"),$(".links-mobile-wrapper").css("max-height","0"),void 0):void 0}),$(".menu-mobile-search").live("click",function(){return $(this).hasClass("active")?($(this).removeClass("active"),$(".search-mobile-wrapper").css("max-height","0"),void 0):($(".menu-mobile-icon").removeClass("active"),$(this).addClass("active"),$(".links-mobile-wrapper").hide().css("max-height","0"),$(".search-mobile-wrapper").show(),setTimeout(function(){$(".search-mobile-wrapper").css("max-height","2000px")},100),void 0)}),$(".parent-menu").live("click",function(){var li=$(this).parents("li");li.hasClass("closed")?(li.find(".ss-menu").css("max-height","2000px"),li.removeClass("closed"),li.addClass("open")):(li.find(".ss-menu").css("max-height","0"),li.addClass("closed"),li.removeClass("open"))}),$(".search-word").live("click",function(){var word=$(this).html();$("#getSearch").val(word),$("#searchForm").submit(),$(".search-autocomplete").hide()}),$("#searchForm").live("submit",function(){return $(".search-autocomplete").hide(),ajaxAc.abort(),!0}),$("#erase-history").live("click",function(){ajaxAc=$.get("/controller_ajax.php",{action:"eraseHistory"})}),$("#getSearch").live("keyup",function(){if(void 0===user_id)var user_id=$("#user_id").val();ajaxAc=$.get("/controller_ajax.php",{action:"searchKeyword",input:$(this).val(),user_id:user_id},function(data){data&&"null"!=data?($(".search-autocomplete").show(),$(".search-autocomplete").html(""),_.each(data,function(mot){$('<div class="search-word">'+mot+"</div>").appendTo(".search-autocomplete")}),$('<div id="erase-history"> Clear history</div>').appendTo(".search-autocomplete")):($(".search-autocomplete").hide(),$(".search-autocomplete").html(""))},"json")}),$("#getSearch").live("blur",function(){setTimeout(function(){$(".search-autocomplete").hide(),$(".search-autocomplete").html("")},200)}),document.getElementById("blocFollowButton")&&($("#button-square").on("click",function(){$(".follow-button").hide(),$(".follow-button-square").show()}),$("#button-followus").on("click",function(){$(".follow-button").hide(),$(".follow-button-followus").show()}),$("#button-followme").on("click",function(){$(".follow-button").hide(),$(".follow-button-followme").show()}),$("#button-follow").on("click",function(){$(".follow-button").hide(),$(".follow-button-follow").show()})),document.getElementById("remove-bloc")&&($(".click-remove-show, .button-close").on("click",function(){$(".click-remove-show").toggle(),$("#list-remove-div").toggle()}),$(".button-accept").on("click",function(){var contentHtmlRemove=ich.RemoveTemplate();$.fancybox({overlayOpacity:.5,overlayColor:"#000",autoDimensions:!1,modal:!1,content:contentHtmlRemove,width:400,height:300,scrolling:"no",showCloseButton:!0,centerOnScroll:!1,autoScale:!1}),$("#fancybox-content").addClass("fancyBoxRemove"),$(".go-back").on("click",function(){$.fancybox.close()})})),$(".qTip, .qTipSmall").length>0&&initQtip(),document.getElementById("tooltip-comments-tracker")&&$("#tooltip-comments-tracker").qtip({style:{classes:"ui-tooltip-rounded ui-tooltip-tipsy tooltip-tracker"}}),$("#tableScore").length){var nbColonnes=$("#tableScore th").length-1;$("table#tableScore").tablesorter({sortList:[[nbColonnes,1]]})}if(jQuery.extend(jQuery.browser,{SafariMobile:navigator.userAgent.toLowerCase().match(/iP(hone|ad|od)/i)}),document.getElementById("add-cover")&&$("#add-cover").fancybox({overlayOpacity:.5,overlayColor:"#000",width:851,height:315,type:"iframe"}),setTimeout(function(){$("#leaderboard #adclose-block").css("visibility","visible"),showPubLeaderboard=!0},100),$("#adclose").live("click",function(){$("#leaderboard").slideUp(1e3,"easeOutExpo",function(){$(this).remove()}),showPubLeaderboard=!1,$.get("/controller_ajax.php",{action:"pubBannerClose"})}),checkDmNonLus(),checkContestsNonLus(),timerDmNonLus=setInterval("checkDmNonLus()",9e5),timeContestsNonLus=setInterval("checkContestsNonLus()",9e5),setInterval(function(){var compteurContest=parseInt($(".c-contests .bubulle-main-elm").html());compteurContest||(compteurContest=0);var compteurManagement=parseInt($(".c-management .bubulle-main-elm").html());compteurManagement||(compteurManagement=0);var somme=compteurContest+compteurManagement;somme&&$(".c-global").html('<div class="bubulle-master">'+somme+"</div>")},1e3),$("#ariane").length&&$(".ariane").html($("#ariane").val()),$(".form-donate").submit(clicDonate),(document.getElementById("activeUrlPublic")||document.getElementById("desactiveUrlPublic"))&&($("#activeUrlPublic").live("click",function(){$.post("/controller_ajax.php",{action:"urlPublicEtat",etat:1}),$(this).addClass("selected"),$("#desactiveUrlPublic").removeClass("selected"),$("#infoUrlPublic").hide(),$("#btSharePubliqueUrl").fadeIn(),$("#lienInactif").hide(),$("#lienActif").show()}),$("#desactiveUrlPublic").live("click",function(){$.post("/controller_ajax.php",{action:"urlPublicEtat",etat:0}),$(this).addClass("selected"),$("#activeUrlPublic").removeClass("selected"),$("#btSharePubliqueUrl").hide(),$("#infoUrlPublic").fadeIn(),$("#lienActif").hide(),$("#lienInactif").show()})),document.getElementById("block-stats-photos-likes")&&imagePreview(),$("#popinSettings").length&&$.ajax({type:"POST",cache:!1,url:"/popin_settings.php",data:$(this).html(),success:function(data){var hauteurPopin=380,typePopin=$(data).find("#type-popin").val();if($.browser.SafariMobile)switch(typePopin){case"1":hauteurPopin=340;break;case"2":hauteurPopin=440;break;case"3":default:hauteurPopin=430}else switch(typePopin){case"1":hauteurPopin=300;break;case"2":hauteurPopin=380;break;case"3":default:hauteurPopin=380}$.fancybox({overlayOpacity:.5,overlayColor:"#000",autoDimensions:!1,modal:!0,content:data,width:463,height:hauteurPopin,scrolling:"no",showCloseButton:!1,centerOnScroll:!1,autoScale:!1}),$("#fancybox-content").addClass("fancyBoxSettings"),$("input[placeholder]").placeholder(),_gaq.push(["_trackEvent","Popin","Popin-settings","Popin ouverte"]),testTrackingInscription()}}),$("#timezone-notcorrect").live("click",function(){$("#timezone-preset").hide(),$("#timezone-full").show(),$("#timezone-preset-value").val("")}),$("#form-settings").live("submit",function(){var userId=$("#user_id").val();if($.ajax({url:"/controller_ajax.php?action=trackingInscription&type=clicvalid&userId="+userId,async:!1}),error=!1,$("#setting-email").length&&0==controleEmail($("#setting-email").val())&&($("#error-email").fadeIn(),error=!0,$.get("/controller_ajax.php",{action:"trackingInscription",type:"erremail",userId:userId})),""==$("#setting-timezone").val()){var timezoneOk=!1;$("#timezone-preset-value").length&&$("#timezone-preset-value").val()&&(timezoneOk=!0),timezoneOk||($("#error-timezone").fadeIn(),error=!0,$.get("/controller_ajax.php",{action:"trackingInscription",type:"errtime",userId:userId}))}return 0==error?(_gaq.push(["_trackEvent","Popin","Popin-settings","Popin OK"]),!0):!1}),$("#setting-email").live("focus",function(){$("#error-email").hide()}),$("#setting-timezone").live("change",function(){$("#error-timezone").hide()}),testTrackingInscription(),$("#setting-email").live("focus",function(){$("#error-email").hide()}),$("#setting-notif-daily").live("change",function(){var choix=!1;$("#setting-notif-daily").is(":checked")&&(choix=!0),setChoice("updateSettingNotifDaily",choix)}),$("#setting-notification-email").live("change",function(){var choix=$(this).val();setChoice("updateSettingNotifDMEmail",choix)}),$("#setting-instagram").live("change",function(){var choix=$(this).val();setChoice("updateSettingNotifDMInstagram",choix)}),$("#setting-newsletter").live("change",function(){var choix=!1;$("#setting-newsletter").is(":checked")&&(choix=!0),setChoice("updateSettingNewsletter",choix)}),$("#setting-newsletter-contests").live("change",function(){var choix=!1;$("#setting-newsletter-contests").is(":checked")&&(choix=!0),setChoice("updateSettingNewsletterContests",choix)}),$("#setting-timezone","#form-settings-page").live("change",function(){var choix=$(this).val();setChoice("updateSettingTimezone",choix)}),$("#setting-language").live("change",function(){var choix=$(this).val();changeLanguageUser(choix)}),$("#form-settings-page").live("submit",function(){return error=!1,0==controleEmail($("#setting-email").val())&&($("#error-email").fadeIn(),error=!0),0==error?!0:!1}),$("#valorisation-instagram").live("click",function(){return $.post("/controller_ajax.php",{action:"valorisationFollow"},function(data){1==data&&($("#follow-instagram").hide(),$("#follow-instagram-ok").show())}),!1}),$(".lien-share-url").live("click",function(){$(this).parent(".share-url").find(".conteneur-share-url").fadeIn();var elementId=$(this).parent(".share-url").find(".conteneur-share-url").attr("id");return setTimeout(function(){selectText(elementId)},500),$(this).hide(),!1}),$(".social-share").live("click",function(){$(this).parents(".conteneurPhotoListGauche").find(".conteneur-share-url").fadeIn();var elementId=$(this).parents(".conteneurPhotoListGauche").find(".conteneur-share-url").attr("id");return setTimeout(function(){selectText(elementId)},500),$(this).hide(),!1}),$(".conteneur-share-url").live("click",function(){var elementId=$(this).attr("id");return selectText(elementId),!1}),document.getElementById("content-iframe")){var iframe_wrapper=$("#content-iframe");iframe_wrapper.html(generate_html_iframe),$("button").on("click",function(e){return e.preventDefault(),$.fancybox({onComplete:function(){$("#fancybox-content code").live("click",function(){selectText("codeWidget")})},overlayOpacity:.5,overlayColor:"#000",width:"400px",height:"200px",content:'<pre><code style="width:400px;height:200px;" id="codeWidget">'+$("<div/>").text(generate_html_iframe()).html()+"</code></pre>"}),!1}),$("#choose-content").change(function(){"myfeed"===$(this).val()&&($(".hash-group").hide(),$(".user-group").show()),"hashtag"===$(this).val()&&($(".user-group").hide(),$(".hash-group").show())}),$("#username").change(function(){""===$.trim($(this).val())&&$(this).val($("#user").val())}),$("#hashtag").change(function(){""===$.trim($(this).val())&&$(this).val("statigram")}),$("#choose-mode").change(function(){"slideshow"===$(this).val()&&($(".mode-grid").hide(),$(".mode-slideshow").show()),"grid"===$(this).val()&&($(".mode-slideshow").hide(),$(".mode-grid").show())
}),$(".blocPromoteWidget-left input, .blocPromoteWidget select").each(function(){$(this).change(function(){var showLoader=!1;iframe_wrapper.html(generate_html_iframe),("choose-content"==$(this).attr("id")||"hashtag"==$(this).attr("id")||"username"==$(this).attr("id"))&&(showLoader=!0),showLoader&&($(".blocPromoteWidget-right iframe").hide(),$("#content-iframe").append('<img src="../images/loading1.gif" id="loaderFlux" />')),$(".blocPromoteWidget-right iframe").load(function(){setTimeout("widgetSize()",50),showLoader&&($(".blocPromoteWidget-right iframe").show(),$("#loaderFlux").remove())})})})}});!function(t,e,i){function a(t,i){var r,o=e.createElement(t||"div");for(r in i)o[r]=i[r];return o}function s(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function l(t,e,i,o){var a=["opacity",e,~~(100*t),i,o].join("-"),s=.01+100*(i/o),l=Math.max(1-(1-t)/e*(100-s),t),p=n.substring(0,n.indexOf("Animation")).toLowerCase(),u=p&&"-"+p+"-"||"";return r[a]||(f.insertRule("@"+u+"keyframes "+a+"{"+"0%{opacity:"+l+"}"+s+"%{opacity:"+t+"}"+(s+.01)+"%{opacity:1}"+(s+e)%100+"%{opacity:"+t+"}"+"100%{opacity:"+l+"}"+"}",f.cssRules.length),r[a]=1),a}function p(t,e){var n,a,r=t.style;if(r[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),a=0;o.length>a;a++)if(n=o[a]+e,r[n]!==i)return n}function u(t,e){for(var i in e)t.style[p(t,i)||i]=e[i];return t}function c(t){for(var e=1;arguments.length>e;e++){var o=arguments[e];for(var r in o)t[r]===i&&(t[r]=o[r])}return t}function d(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function m(t){return this.spin?(this.opts=c(t||{},m.defaults,h),void 0):new m(t)}var n,o=["webkit","Moz","ms","O"],r={},f=function(){var t=a("style",{type:"text/css"});return s(e.getElementsByTagName("head")[0],t),t.sheet||t.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};m.defaults={},c(m.prototype,{spin:function(t){this.stop();var s,f,e=this,i=e.opts,o=e.el=u(a(0,{className:i.className}),{position:i.position,width:0,zIndex:i.zIndex}),r=i.radius+i.length+i.width;if(t&&(t.insertBefore(o,t.firstChild||null),f=d(t),s=d(o),u(o,{left:("auto"==i.left?f.x-s.x+(t.offsetWidth>>1):parseInt(i.left,10)+r)+"px",top:("auto"==i.top?f.y-s.y+(t.offsetHeight>>1):parseInt(i.top,10)+r)+"px"})),o.setAttribute("aria-role","progressbar"),e.lines(o,e.opts),!n){var l=0,p=i.fps,c=p/i.speed,h=(1-i.opacity)/(c*i.trail/100),m=c/i.lines;(function y(){l++;for(var t=i.lines;t;t--){var r=Math.max(1-(l+t*m)%c*h,i.opacity);e.opacity(o,i.lines-t,r,i)}e.timeout=e.el&&setTimeout(y,~~(1e3/p))})()}return e},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(t,e){function r(t,o){return u(a(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:o,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*i+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var o,i=0;e.lines>i;i++)o=u(a(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:n&&l(e.opacity,e.trail,i,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&s(o,u(r("#000","0 0 4px #000"),{top:"2px"})),s(t,s(o,r(e.color,"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){t.childNodes.length>e&&(t.childNodes[e].style.opacity=i)}}),function(){function t(t,e){return a("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}var e=u(a("group"),{behavior:"url(#default#VML)"});!p(e,"transform")&&e.adj?(f.addRule(".spin-vml","behavior:url(#default#VML)"),m.prototype.lines=function(e,i){function n(){return u(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}function p(e,r,a){s(f,s(u(n(),{rotation:360/i.lines*e+"deg",left:~~r}),s(u(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:i.color,opacity:i.opacity}),t("stroke",{opacity:0}))))}var l,o=i.length+i.width,r=2*o,a=2*-(i.width+i.length)+"px",f=u(n(),{position:"absolute",top:a,left:a});if(i.shadow)for(l=1;i.lines>=l;l++)p(l,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(l=1;i.lines>=l;l++)p(l);return s(e,f)},m.prototype.opacity=function(t,e,i,o){var r=t.firstChild;o=o.shadow&&o.lines||0,r&&r.childNodes.length>e+o&&(r=r.childNodes[e+o],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=i))}):n=p(e,"animation")}(),"function"==typeof define&&define.amd?define(function(){return m}):t.Spinner=m}(window,document);(function(b,f){"function"==typeof define&&define.amd?define(["jquery"],f):b.jQuery?f(b.jQuery):f(b.Zepto)})(this,function(b,f){b.fn.jPlayer=function(a){var c="string"==typeof a,d=Array.prototype.slice.call(arguments,1),e=this;return a=!c&&d.length?b.extend.apply(null,[!0,a].concat(d)):a,c&&"_"===a.charAt(0)?e:(c?this.each(function(){var c=b(this).data("jPlayer"),h=c&&b.isFunction(c[a])?c[a].apply(c,d):c;return h!==c&&h!==f?(e=h,!1):void 0}):this.each(function(){var c=b(this).data("jPlayer");c?c.option(a||{}):b(this).data("jPlayer",new b.jPlayer(a,this))}),e)},b.jPlayer=function(a,c){if(arguments.length){this.element=b(c),this.options=b.extend(!0,{},this.options,a);var d=this;this.element.bind("remove.jPlayer",function(){d.destroy()}),this._init()}},"function"!=typeof b.fn.stop&&(b.fn.stop=function(){}),b.jPlayer.emulateMethods="load play pause",b.jPlayer.emulateStatus="src readyState networkState currentTime duration paused ended playbackRate",b.jPlayer.emulateOptions="muted volume",b.jPlayer.reservedEvent="ready flashreset resize repeat error warning",b.jPlayer.event={},b.each("ready flashreset resize repeat click error warning loadstart progress suspend abort emptied stalled play pause loadedmetadata loadeddata waiting playing canplay canplaythrough seeking seeked timeupdate ended ratechange durationchange volumechange".split(" "),function(){b.jPlayer.event[this]="jPlayer_"+this}),b.jPlayer.htmlEvent="loadstart abort emptied stalled loadedmetadata loadeddata canplay canplaythrough ratechange".split(" "),b.jPlayer.pause=function(){b.each(b.jPlayer.prototype.instances,function(a,c){c.data("jPlayer").status.srcSet&&c.jPlayer("pause")})},b.jPlayer.timeFormat={showHour:!1,showMin:!0,showSec:!0,padHour:!1,padMin:!0,padSec:!0,sepHour:":",sepMin:":",sepSec:""};var l=function(){this.init()};l.prototype={init:function(){this.options={timeFormat:b.jPlayer.timeFormat}},time:function(a){var c=new Date(1e3*(a&&"number"==typeof a?a:0)),b=c.getUTCHours();return a=this.options.timeFormat.showHour?c.getUTCMinutes():c.getUTCMinutes()+60*b,c=this.options.timeFormat.showMin?c.getUTCSeconds():c.getUTCSeconds()+60*a,b=this.options.timeFormat.padHour&&10>b?"0"+b:b,a=this.options.timeFormat.padMin&&10>a?"0"+a:a,c=this.options.timeFormat.padSec&&10>c?"0"+c:c,b=""+(this.options.timeFormat.showHour?b+this.options.timeFormat.sepHour:""),b+=this.options.timeFormat.showMin?a+this.options.timeFormat.sepMin:"",b+=this.options.timeFormat.showSec?c+this.options.timeFormat.sepSec:""}};var m=new l;b.jPlayer.convertTime=function(a){return m.time(a)},b.jPlayer.uaBrowser=function(a){a=a.toLowerCase();var b=/(opera)(?:.*version)?[ \/]([\w.]+)/,d=/(msie) ([\w.]+)/,e=/(mozilla)(?:.*? rv:([\w.]+))?/;return a=/(webkit)[ \/]([\w.]+)/.exec(a)||b.exec(a)||d.exec(a)||0>a.indexOf("compatible")&&e.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}},b.jPlayer.uaPlatform=function(a){var b=a.toLowerCase(),d=/(android)/,e=/(mobile)/;return a=/(ipad|iphone|ipod|android|blackberry|playbook|windows ce|webos)/.exec(b)||[],b=/(ipad|playbook)/.exec(b)||!e.exec(b)&&d.exec(b)||[],a[1]&&(a[1]=a[1].replace(/\s/g,"_")),{platform:a[1]||"",tablet:b[1]||""}},b.jPlayer.browser={},b.jPlayer.platform={};var j=b.jPlayer.uaBrowser(navigator.userAgent);j.browser&&(b.jPlayer.browser[j.browser]=!0,b.jPlayer.browser.version=j.version),j=b.jPlayer.uaPlatform(navigator.userAgent),j.platform&&(b.jPlayer.platform[j.platform]=!0,b.jPlayer.platform.mobile=!j.tablet,b.jPlayer.platform.tablet=!!j.tablet),b.jPlayer.getDocMode=function(){var a;return b.jPlayer.browser.msie&&(document.documentMode?a=document.documentMode:(a=5,document.compatMode&&"CSS1Compat"===document.compatMode&&(a=7))),a},b.jPlayer.browser.documentMode=b.jPlayer.getDocMode(),b.jPlayer.nativeFeatures={init:function(){var g,h,a=document,b=a.createElement("video"),d={w3c:"fullscreenEnabled fullscreenElement requestFullscreen exitFullscreen fullscreenchange fullscreenerror".split(" "),moz:"mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),webkit:" webkitCurrentFullScreenElement webkitRequestFullScreen webkitCancelFullScreen webkitfullscreenchange ".split(" "),webkitVideo:"webkitSupportsFullscreen webkitDisplayingFullscreen webkitEnterFullscreen webkitExitFullscreen  ".split(" ")},e=["w3c","moz","webkit","webkitVideo"];for(this.fullscreen=b={support:{w3c:!!a[d.w3c[0]],moz:!!a[d.moz[0]],webkit:"function"==typeof a[d.webkit[3]],webkitVideo:"function"==typeof b[d.webkitVideo[2]]},used:{}},g=0,h=e.length;h>g;g++){var f=e[g];if(b.support[f]){b.spec=f,b.used[f]=!0;break}}if(b.spec){var k=d[b.spec];b.api={fullscreenEnabled:!0,fullscreenElement:function(b){return b=b?b:a,b[k[1]]},requestFullscreen:function(a){return a[k[2]]()},exitFullscreen:function(b){return b=b?b:a,b[k[3]]()}},b.event={fullscreenchange:k[4],fullscreenerror:k[5]}}else b.api={fullscreenEnabled:!1,fullscreenElement:function(){return null},requestFullscreen:function(){},exitFullscreen:function(){}},b.event={}}},b.jPlayer.nativeFeatures.init(),b.jPlayer.focus=null,b.jPlayer.keyIgnoreElementNames="INPUT TEXTAREA";var n=function(a){var d,c=b.jPlayer.focus;c&&(b.each(b.jPlayer.keyIgnoreElementNames.split(/\s+/g),function(b,c){return a.target.nodeName.toUpperCase()===c.toUpperCase()?(d=!0,!1):void 0}),d||b.each(c.options.keyBindings,function(d,g){return g&&a.which===g.key&&b.isFunction(g.fn)?(a.preventDefault(),g.fn(c),!1):void 0}))};b.jPlayer.keys=function(a){b(document.documentElement).unbind("keydown.jPlayer"),a&&b(document.documentElement).bind("keydown.jPlayer",n)},b.jPlayer.keys(!0),b.jPlayer.prototype={count:0,version:{script:"2.4.0",needFlash:"2.4.0",flash:"unknown"},options:{swfPath:"js",solution:"html, flash",supplied:"mp3",preload:"metadata",volume:.8,muted:!1,wmode:"opaque",backgroundColor:"#000000",cssSelectorAncestor:"#jp_container_1",cssSelector:{videoPlay:".jp-video-play",play:".jp-play",pause:".jp-pause",stop:".jp-stop",seekBar:".jp-seek-bar",playBar:".jp-play-bar",mute:".jp-mute",unmute:".jp-unmute",volumeBar:".jp-volume-bar",volumeBarValue:".jp-volume-bar-value",volumeMax:".jp-volume-max",currentTime:".jp-current-time",duration:".jp-duration",fullScreen:".jp-full-screen",restoreScreen:".jp-restore-screen",repeat:".jp-repeat",repeatOff:".jp-repeat-off",gui:".jp-gui",noSolution:".jp-no-solution"},smoothPlayBar:!1,fullScreen:!1,fullWindow:!1,autohide:{restored:!1,full:!0,fadeIn:200,fadeOut:600,hold:1e3},loop:!1,repeat:function(a){a.jPlayer.options.loop?b(this).unbind(".jPlayerRepeat").bind(b.jPlayer.event.ended+".jPlayer.jPlayerRepeat",function(){b(this).jPlayer("play")}):b(this).unbind(".jPlayerRepeat")},nativeVideoControls:{},noFullWindow:{msie:/msie [0-6]\./,ipad:/ipad.*?os [0-4]\./,iphone:/iphone/,ipod:/ipod/,android_pad:/android [0-3]\.(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/},noVolume:{ipad:/ipad/,iphone:/iphone/,ipod:/ipod/,android_pad:/android(?!.*?mobile)/,android_phone:/android.*?mobile/,blackberry:/blackberry/,windows_ce:/windows ce/,iemobile:/iemobile/,webos:/webos/,playbook:/playbook/},timeFormat:{},keyEnabled:!1,audioFullScreen:!1,keyBindings:{play:{key:32,fn:function(a){a.status.paused?a.play():a.pause()}},fullScreen:{key:13,fn:function(a){(a.status.video||a.options.audioFullScreen)&&a._setOption("fullScreen",!a.options.fullScreen)}},muted:{key:8,fn:function(a){a._muted(!a.options.muted)}},volumeUp:{key:38,fn:function(a){a.volume(a.options.volume+.1)}},volumeDown:{key:40,fn:function(a){a.volume(a.options.volume-.1)}}},verticalVolume:!1,idPrefix:"jp",noConflict:"jQuery",emulateHtml:!1,errorAlerts:!1,warningAlerts:!1},optionsAudio:{size:{width:"0px",height:"0px",cssClass:""},sizeFull:{width:"0px",height:"0px",cssClass:""}},optionsVideo:{size:{width:"480px",height:"270px",cssClass:"jp-video-270p"},sizeFull:{width:"100%",height:"100%",cssClass:"jp-video-full"}},instances:{},status:{src:"",media:{},paused:!0,format:{},formatType:"",waitForPlay:!0,waitForLoad:!0,srcSet:!1,video:!1,seekPercent:0,currentPercentRelative:0,currentPercentAbsolute:0,currentTime:0,duration:0,videoWidth:0,videoHeight:0,readyState:0,networkState:0,playbackRate:1,ended:0},internal:{ready:!1},solution:{html:!0,flash:!0},format:{mp3:{codec:'audio/mpeg; codecs="mp3"',flashCanPlay:!0,media:"audio"},m4a:{codec:'audio/mp4; codecs="mp4a.40.2"',flashCanPlay:!0,media:"audio"},oga:{codec:'audio/ogg; codecs="vorbis"',flashCanPlay:!1,media:"audio"},wav:{codec:'audio/wav; codecs="1"',flashCanPlay:!1,media:"audio"},webma:{codec:'audio/webm; codecs="vorbis"',flashCanPlay:!1,media:"audio"},fla:{codec:"audio/x-flv",flashCanPlay:!0,media:"audio"},rtmpa:{codec:'audio/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"audio"},m4v:{codec:'video/mp4; codecs="avc1.42E01E, mp4a.40.2"',flashCanPlay:!0,media:"video"},ogv:{codec:'video/ogg; codecs="theora, vorbis"',flashCanPlay:!1,media:"video"},webmv:{codec:'video/webm; codecs="vorbis, vp8"',flashCanPlay:!1,media:"video"},flv:{codec:"video/x-flv",flashCanPlay:!0,media:"video"},rtmpv:{codec:'video/rtmp; codecs="rtmp"',flashCanPlay:!0,media:"video"}},_init:function(){var a=this;if(this.element.empty(),this.status=b.extend({},this.status),this.internal=b.extend({},this.internal),this.options.timeFormat=b.extend({},b.jPlayer.timeFormat,this.options.timeFormat),this.internal.cmdsIgnored=b.jPlayer.platform.ipad||b.jPlayer.platform.iphone||b.jPlayer.platform.ipod,this.internal.domNode=this.element.get(0),this.options.keyEnabled&&!b.jPlayer.focus&&(b.jPlayer.focus=this),this.formats=[],this.solutions=[],this.require={},this.htmlElement={},this.html={},this.html.audio={},this.html.video={},this.flash={},this.css={},this.css.cs={},this.css.jq={},this.ancestorJq=[],this.options.volume=this._limitValue(this.options.volume,0,1),b.each(this.options.supplied.toLowerCase().split(","),function(c,d){var e=d.replace(/^\s+|\s+$/g,"");if(a.format[e]){var f=!1;b.each(a.formats,function(a,b){return e===b?(f=!0,!1):void 0}),f||a.formats.push(e)}}),b.each(this.options.solution.toLowerCase().split(","),function(c,d){var e=d.replace(/^\s+|\s+$/g,"");if(a.solution[e]){var f=!1;b.each(a.solutions,function(a,b){return e===b?(f=!0,!1):void 0}),f||a.solutions.push(e)}}),this.internal.instance="jp_"+this.count,this.instances[this.internal.instance]=this.element,this.element.attr("id")||this.element.attr("id",this.options.idPrefix+"_jplayer_"+this.count),this.internal.self=b.extend({},{id:this.element.attr("id"),jq:this.element}),this.internal.audio=b.extend({},{id:this.options.idPrefix+"_audio_"+this.count,jq:f}),this.internal.video=b.extend({},{id:this.options.idPrefix+"_video_"+this.count,jq:f}),this.internal.flash=b.extend({},{id:this.options.idPrefix+"_flash_"+this.count,jq:f,swf:this.options.swfPath+(".swf"!==this.options.swfPath.toLowerCase().slice(-4)?(this.options.swfPath&&"/"!==this.options.swfPath.slice(-1)?"/":"")+"Jplayer.swf":"")}),this.internal.poster=b.extend({},{id:this.options.idPrefix+"_poster_"+this.count,jq:f}),b.each(b.jPlayer.event,function(b,c){a.options[b]!==f&&(a.element.bind(c+".jPlayer",a.options[b]),a.options[b]=f)}),this.require.audio=!1,this.require.video=!1,b.each(this.formats,function(b,c){a.require[a.format[c].media]=!0}),this.options=this.require.video?b.extend(!0,{},this.optionsVideo,this.options):b.extend(!0,{},this.optionsAudio,this.options),this._setSize(),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this.status.noVolume=this._uaBlocklist(this.options.noVolume),b.jPlayer.nativeFeatures.fullscreen.api.fullscreenEnabled&&this._fullscreenAddEventListeners(),this._restrictNativeVideoControls(),this.htmlElement.poster=document.createElement("img"),this.htmlElement.poster.id=this.internal.poster.id,this.htmlElement.poster.onload=function(){(!a.status.video||a.status.waitForPlay)&&a.internal.poster.jq.show()},this.element.append(this.htmlElement.poster),this.internal.poster.jq=b("#"+this.internal.poster.id),this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),this.internal.poster.jq.hide(),this.internal.poster.jq.bind("click.jPlayer",function(){a._trigger(b.jPlayer.event.click)}),this.html.audio.available=!1,this.require.audio&&(this.htmlElement.audio=document.createElement("audio"),this.htmlElement.audio.id=this.internal.audio.id,this.html.audio.available=!!this.htmlElement.audio.canPlayType&&this._testCanPlayType(this.htmlElement.audio)),this.html.video.available=!1,this.require.video&&(this.htmlElement.video=document.createElement("video"),this.htmlElement.video.id=this.internal.video.id,this.html.video.available=!!this.htmlElement.video.canPlayType&&this._testCanPlayType(this.htmlElement.video)),this.flash.available=this._checkForFlash(10.1),this.html.canPlay={},this.flash.canPlay={},b.each(this.formats,function(b,c){a.html.canPlay[c]=a.html[a.format[c].media].available&&""!==a.htmlElement[a.format[c].media].canPlayType(a.format[c].codec),a.flash.canPlay[c]=a.format[c].flashCanPlay&&a.flash.available}),this.html.desired=!1,this.flash.desired=!1,b.each(this.solutions,function(c,d){if(0===c)a[d].desired=!0;else{var e=!1,f=!1;b.each(a.formats,function(b,c){a[a.solutions[0]].canPlay[c]&&("video"===a.format[c].media?f=!0:e=!0)}),a[d].desired=a.require.audio&&!e||a.require.video&&!f}}),this.html.support={},this.flash.support={},b.each(this.formats,function(b,c){a.html.support[c]=a.html.canPlay[c]&&a.html.desired,a.flash.support[c]=a.flash.canPlay[c]&&a.flash.desired}),this.html.used=!1,this.flash.used=!1,b.each(this.solutions,function(c,d){b.each(a.formats,function(b,c){return a[d].support[c]?(a[d].used=!0,!1):void 0})}),this._resetActive(),this._resetGate(),this._cssSelectorAncestor(this.options.cssSelectorAncestor),this.html.used||this.flash.used?this.css.jq.noSolution.length&&this.css.jq.noSolution.hide():(this._error({type:b.jPlayer.error.NO_SOLUTION,context:"{solution:'"+this.options.solution+"', supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SOLUTION,hint:b.jPlayer.errorHint.NO_SOLUTION}),this.css.jq.noSolution.length&&this.css.jq.noSolution.show()),this.flash.used){var c,d="jQuery="+encodeURI(this.options.noConflict)+"&id="+encodeURI(this.internal.self.id)+"&vol="+this.options.volume+"&muted="+this.options.muted;if(b.jPlayer.browser.msie&&(9>Number(b.jPlayer.browser.version)||9>b.jPlayer.browser.documentMode)){d=['<param name="movie" value="'+this.internal.flash.swf+'" />','<param name="FlashVars" value="'+d+'" />','<param name="allowScriptAccess" value="always" />','<param name="bgcolor" value="'+this.options.backgroundColor+'" />','<param name="wmode" value="'+this.options.wmode+'" />'],c=document.createElement('<object id="'+this.internal.flash.id+'" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="0" height="0" tabindex="-1"></object>');for(var e=0;d.length>e;e++)c.appendChild(document.createElement(d[e]))}else e=function(a,b,c){var d=document.createElement("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)},c=document.createElement("object"),c.setAttribute("id",this.internal.flash.id),c.setAttribute("name",this.internal.flash.id),c.setAttribute("data",this.internal.flash.swf),c.setAttribute("type","application/x-shockwave-flash"),c.setAttribute("width","1"),c.setAttribute("height","1"),c.setAttribute("tabindex","-1"),e(c,"flashvars",d),e(c,"allowscriptaccess","always"),e(c,"bgcolor",this.options.backgroundColor),e(c,"wmode",this.options.wmode);this.element.append(c),this.internal.flash.jq=b(c)}this.html.used&&(this.html.audio.available&&(this._addHtmlEventListeners(this.htmlElement.audio,this.html.audio),this.element.append(this.htmlElement.audio),this.internal.audio.jq=b("#"+this.internal.audio.id)),this.html.video.available&&(this._addHtmlEventListeners(this.htmlElement.video,this.html.video),this.element.append(this.htmlElement.video),this.internal.video.jq=b("#"+this.internal.video.id),this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):this.internal.video.jq.css({width:"0px",height:"0px"}),this.internal.video.jq.bind("click.jPlayer",function(){a._trigger(b.jPlayer.event.click)}))),this.options.emulateHtml&&this._emulateHtmlBridge(),this.html.used&&!this.flash.used&&setTimeout(function(){a.internal.ready=!0,a.version.flash="n/a",a._trigger(b.jPlayer.event.repeat),a._trigger(b.jPlayer.event.ready)},100),this._updateNativeVideoControls(),this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),b.jPlayer.prototype.count++},destroy:function(){this.clearMedia(),this._removeUiClass(),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(""),this.css.jq.duration.length&&this.css.jq.duration.text(""),b.each(this.css.jq,function(a,b){b.length&&b.unbind(".jPlayer")}),this.internal.poster.jq.unbind(".jPlayer"),this.internal.video.jq&&this.internal.video.jq.unbind(".jPlayer"),this._fullscreenRemoveEventListeners(),this===b.jPlayer.focus&&(b.jPlayer.focus=null),this.options.emulateHtml&&this._destroyHtmlBridge(),this.element.removeData("jPlayer"),this.element.unbind(".jPlayer"),this.element.empty(),delete this.instances[this.internal.instance]},enable:function(){},disable:function(){},_testCanPlayType:function(a){try{return a.canPlayType(this.format.mp3.codec),!0}catch(b){return!1}},_uaBlocklist:function(a){var c=navigator.userAgent.toLowerCase(),d=!1;return b.each(a,function(a,b){return b&&b.test(c)?(d=!0,!1):void 0}),d},_restrictNativeVideoControls:function(){this.require.audio&&this.status.nativeVideoControls&&(this.status.nativeVideoControls=!1,this.status.noFullWindow=!0)},_updateNativeVideoControls:function(){this.html.video.available&&this.html.used&&(this.htmlElement.video.controls=this.status.nativeVideoControls,this._updateAutohide(),this.status.nativeVideoControls&&this.require.video?(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})):this.status.waitForPlay&&this.status.video&&(this.internal.poster.jq.show(),this.internal.video.jq.css({width:"0px",height:"0px"})))},_addHtmlEventListeners:function(a,c){var d=this;a.preload=this.options.preload,a.muted=this.options.muted,a.volume=this.options.volume,a.addEventListener("progress",function(){c.gate&&(d.internal.cmdsIgnored&&this.readyState>0&&(d.internal.cmdsIgnored=!1),d._getHtmlStatus(a),d._updateInterface(),d._trigger(b.jPlayer.event.progress))},!1),a.addEventListener("timeupdate",function(){c.gate&&(d._getHtmlStatus(a),d._updateInterface(),d._trigger(b.jPlayer.event.timeupdate))},!1),a.addEventListener("durationchange",function(){c.gate&&(d._getHtmlStatus(a),d._updateInterface(),d._trigger(b.jPlayer.event.durationchange))},!1),a.addEventListener("play",function(){c.gate&&(d._updateButtons(!0),d._html_checkWaitForPlay(),d._trigger(b.jPlayer.event.play))},!1),a.addEventListener("playing",function(){c.gate&&(d._updateButtons(!0),d._seeked(),d._trigger(b.jPlayer.event.playing))},!1),a.addEventListener("pause",function(){c.gate&&(d._updateButtons(!1),d._trigger(b.jPlayer.event.pause))},!1),a.addEventListener("waiting",function(){c.gate&&(d._seeking(),d._trigger(b.jPlayer.event.waiting))},!1),a.addEventListener("seeking",function(){c.gate&&(d._seeking(),d._trigger(b.jPlayer.event.seeking))},!1),a.addEventListener("seeked",function(){c.gate&&(d._seeked(),d._trigger(b.jPlayer.event.seeked))},!1),a.addEventListener("volumechange",function(){c.gate&&(d.options.volume=a.volume,d.options.muted=a.muted,d._updateMute(),d._updateVolume(),d._trigger(b.jPlayer.event.volumechange))},!1),a.addEventListener("suspend",function(){c.gate&&(d._seeked(),d._trigger(b.jPlayer.event.suspend))},!1),a.addEventListener("ended",function(){c.gate&&(b.jPlayer.browser.webkit||(d.htmlElement.media.currentTime=0),d.htmlElement.media.pause(),d._updateButtons(!1),d._getHtmlStatus(a,!0),d._updateInterface(),d._trigger(b.jPlayer.event.ended))},!1),a.addEventListener("error",function(){c.gate&&(d._updateButtons(!1),d._seeked(),d.status.srcSet&&(clearTimeout(d.internal.htmlDlyCmdId),d.status.waitForLoad=!0,d.status.waitForPlay=!0,d.status.video&&!d.status.nativeVideoControls&&d.internal.video.jq.css({width:"0px",height:"0px"}),d._validString(d.status.media.poster)&&!d.status.nativeVideoControls&&d.internal.poster.jq.show(),d.css.jq.videoPlay.length&&d.css.jq.videoPlay.show(),d._error({type:b.jPlayer.error.URL,context:d.status.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL})))},!1),b.each(b.jPlayer.htmlEvent,function(e,g){a.addEventListener(this,function(){c.gate&&d._trigger(b.jPlayer.event[g])},!1)})},_getHtmlStatus:function(a,b){var d=0,e=0,g=0,f=0;isFinite(a.duration)&&(this.status.duration=a.duration),d=a.currentTime,e=this.status.duration>0?100*d/this.status.duration:0,"object"==typeof a.seekable&&a.seekable.length>0?(g=this.status.duration>0?100*a.seekable.end(a.seekable.length-1)/this.status.duration:100,f=this.status.duration>0?100*a.currentTime/a.seekable.end(a.seekable.length-1):0):(g=100,f=e),b&&(e=f=d=0),this.status.seekPercent=g,this.status.currentPercentRelative=f,this.status.currentPercentAbsolute=e,this.status.currentTime=d,this.status.videoWidth=a.videoWidth,this.status.videoHeight=a.videoHeight,this.status.readyState=a.readyState,this.status.networkState=a.networkState,this.status.playbackRate=a.playbackRate,this.status.ended=a.ended},_resetStatus:function(){this.status=b.extend({},this.status,b.jPlayer.prototype.status)},_trigger:function(a,c,d){a=b.Event(a),a.jPlayer={},a.jPlayer.version=b.extend({},this.version),a.jPlayer.options=b.extend(!0,{},this.options),a.jPlayer.status=b.extend(!0,{},this.status),a.jPlayer.html=b.extend(!0,{},this.html),a.jPlayer.flash=b.extend(!0,{},this.flash),c&&(a.jPlayer.error=b.extend({},c)),d&&(a.jPlayer.warning=b.extend({},d)),this.element.trigger(a)},jPlayerFlashEvent:function(a,c){if(a===b.jPlayer.event.ready)if(this.internal.ready){if(this.flash.gate){if(this.status.srcSet){var d=this.status.currentTime,e=this.status.paused;this.setMedia(this.status.media),d>0&&(e?this.pause(d):this.play(d))}this._trigger(b.jPlayer.event.flashreset)}}else this.internal.ready=!0,this.internal.flash.jq.css({width:"0px",height:"0px"}),this.version.flash=c.version,this.version.needFlash!==this.version.flash&&this._error({type:b.jPlayer.error.VERSION,context:this.version.flash,message:b.jPlayer.errorMsg.VERSION+this.version.flash,hint:b.jPlayer.errorHint.VERSION}),this._trigger(b.jPlayer.event.repeat),this._trigger(a);if(this.flash.gate)switch(a){case b.jPlayer.event.progress:this._getFlashStatus(c),this._updateInterface(),this._trigger(a);break;case b.jPlayer.event.timeupdate:this._getFlashStatus(c),this._updateInterface(),this._trigger(a);break;case b.jPlayer.event.play:this._seeked(),this._updateButtons(!0),this._trigger(a);break;case b.jPlayer.event.pause:this._updateButtons(!1),this._trigger(a);break;case b.jPlayer.event.ended:this._updateButtons(!1),this._trigger(a);break;case b.jPlayer.event.click:this._trigger(a);break;case b.jPlayer.event.error:this.status.waitForLoad=!0,this.status.waitForPlay=!0,this.status.video&&this.internal.flash.jq.css({width:"0px",height:"0px"}),this._validString(this.status.media.poster)&&this.internal.poster.jq.show(),this.css.jq.videoPlay.length&&this.status.video&&this.css.jq.videoPlay.show(),this.status.video?this._flash_setVideo(this.status.media):this._flash_setAudio(this.status.media),this._updateButtons(!1),this._error({type:b.jPlayer.error.URL,context:c.src,message:b.jPlayer.errorMsg.URL,hint:b.jPlayer.errorHint.URL});break;case b.jPlayer.event.seeking:this._seeking(),this._trigger(a);break;case b.jPlayer.event.seeked:this._seeked(),this._trigger(a);break;case b.jPlayer.event.ready:break;default:this._trigger(a)}return!1},_getFlashStatus:function(a){this.status.seekPercent=a.seekPercent,this.status.currentPercentRelative=a.currentPercentRelative,this.status.currentPercentAbsolute=a.currentPercentAbsolute,this.status.currentTime=a.currentTime,this.status.duration=a.duration,this.status.videoWidth=a.videoWidth,this.status.videoHeight=a.videoHeight,this.status.readyState=4,this.status.networkState=0,this.status.playbackRate=1,this.status.ended=!1},_updateButtons:function(a){a===f?a=!this.status.paused:this.status.paused=!a,this.css.jq.play.length&&this.css.jq.pause.length&&(a?(this.css.jq.play.hide(),this.css.jq.pause.show()):(this.css.jq.play.show(),this.css.jq.pause.hide())),this.css.jq.restoreScreen.length&&this.css.jq.fullScreen.length&&(this.status.noFullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.hide()):this.options.fullWindow?(this.css.jq.fullScreen.hide(),this.css.jq.restoreScreen.show()):(this.css.jq.fullScreen.show(),this.css.jq.restoreScreen.hide())),this.css.jq.repeat.length&&this.css.jq.repeatOff.length&&(this.options.loop?(this.css.jq.repeat.hide(),this.css.jq.repeatOff.show()):(this.css.jq.repeat.show(),this.css.jq.repeatOff.hide()))},_updateInterface:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.width(this.status.seekPercent+"%"),this.css.jq.playBar.length&&(this.options.smoothPlayBar?this.css.jq.playBar.stop().animate({width:this.status.currentPercentAbsolute+"%"},250,"linear"):this.css.jq.playBar.width(this.status.currentPercentRelative+"%")),this.css.jq.currentTime.length&&this.css.jq.currentTime.text(this._convertTime(this.status.currentTime)),this.css.jq.duration.length&&this.css.jq.duration.text(this._convertTime(this.status.duration))},_convertTime:l.prototype.time,_seeking:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.addClass("jp-seeking-bg")},_seeked:function(){this.css.jq.seekBar.length&&this.css.jq.seekBar.removeClass("jp-seeking-bg")},_resetGate:function(){this.html.audio.gate=!1,this.html.video.gate=!1,this.flash.gate=!1},_resetActive:function(){this.html.active=!1,this.flash.active=!1},setMedia:function(a){var c=this,d=!1,e=this.status.media.poster!==a.poster;this._resetMedia(),this._resetGate(),this._resetActive(),b.each(this.formats,function(e,f){var j="video"===c.format[f].media;return b.each(c.solutions,function(b,e){if(c[e].support[f]&&c._validString(a[f])){var g="html"===e;return j?(g?(c.html.video.gate=!0,c._html_setVideo(a),c.html.active=!0):(c.flash.gate=!0,c._flash_setVideo(a),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.show(),c.status.video=!0):(g?(c.html.audio.gate=!0,c._html_setAudio(a),c.html.active=!0):(c.flash.gate=!0,c._flash_setAudio(a),c.flash.active=!0),c.css.jq.videoPlay.length&&c.css.jq.videoPlay.hide(),c.status.video=!1),d=!0,!1}}),d?!1:void 0}),d?(this.status.nativeVideoControls&&this.html.video.gate||!this._validString(a.poster)||(e?this.htmlElement.poster.src=a.poster:this.internal.poster.jq.show()),this.status.srcSet=!0,this.status.media=b.extend({},a),this._updateButtons(!1),this._updateInterface()):this._error({type:b.jPlayer.error.NO_SUPPORT,context:"{supplied:'"+this.options.supplied+"'}",message:b.jPlayer.errorMsg.NO_SUPPORT,hint:b.jPlayer.errorHint.NO_SUPPORT})},_resetMedia:function(){this._resetStatus(),this._updateButtons(!1),this._updateInterface(),this._seeked(),this.internal.poster.jq.hide(),clearTimeout(this.internal.htmlDlyCmdId),this.html.active?this._html_resetMedia():this.flash.active&&this._flash_resetMedia()},clearMedia:function(){this._resetMedia(),this.html.active?this._html_clearMedia():this.flash.active&&this._flash_clearMedia(),this._resetGate(),this._resetActive()},load:function(){this.status.srcSet?this.html.active?this._html_load():this.flash.active&&this._flash_load():this._urlNotSetError("load")},focus:function(){this.options.keyEnabled&&(b.jPlayer.focus=this)},play:function(a){a="number"==typeof a?a:0/0,this.status.srcSet?(this.focus(),this.html.active?this._html_play(a):this.flash.active&&this._flash_play(a)):this._urlNotSetError("play")},videoPlay:function(){this.play()},pause:function(a){a="number"==typeof a?a:0/0,this.status.srcSet?this.html.active?this._html_pause(a):this.flash.active&&this._flash_pause(a):this._urlNotSetError("pause")},pauseOthers:function(){var a=this;b.each(this.instances,function(b,d){a.element!==d&&d.data("jPlayer").status.srcSet&&d.jPlayer("pause")})},stop:function(){this.status.srcSet?this.html.active?this._html_pause(0):this.flash.active&&this._flash_pause(0):this._urlNotSetError("stop")},playHead:function(a){a=this._limitValue(a,0,100),this.status.srcSet?this.html.active?this._html_playHead(a):this.flash.active&&this._flash_playHead(a):this._urlNotSetError("playHead")},_muted:function(a){this.options.muted=a,this.html.used&&this._html_mute(a),this.flash.used&&this._flash_mute(a),!this.html.video.gate&&!this.html.audio.gate&&(this._updateMute(a),this._updateVolume(this.options.volume),this._trigger(b.jPlayer.event.volumechange))},mute:function(a){a=a===f?!0:!!a,this._muted(a)},unmute:function(a){a=a===f?!0:!!a,this._muted(!a)},_updateMute:function(a){a===f&&(a=this.options.muted),this.css.jq.mute.length&&this.css.jq.unmute.length&&(this.status.noVolume?(this.css.jq.mute.hide(),this.css.jq.unmute.hide()):a?(this.css.jq.mute.hide(),this.css.jq.unmute.show()):(this.css.jq.mute.show(),this.css.jq.unmute.hide()))},volume:function(a){a=this._limitValue(a,0,1),this.options.volume=a,this.html.used&&this._html_volume(a),this.flash.used&&this._flash_volume(a),!this.html.video.gate&&!this.html.audio.gate&&(this._updateVolume(a),this._trigger(b.jPlayer.event.volumechange))},volumeBar:function(a){if(this.css.jq.volumeBar.length){var c=b(a.currentTarget),d=c.offset(),e=a.pageX-d.left,g=c.width();a=c.height()-a.pageY+d.top,c=c.height(),this.options.verticalVolume?this.volume(a/c):this.volume(e/g)}this.options.muted&&this._muted(!1)},volumeBarValue:function(){},_updateVolume:function(a){a===f&&(a=this.options.volume),a=this.options.muted?0:a,this.status.noVolume?(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.hide(),this.css.jq.volumeBarValue.length&&this.css.jq.volumeBarValue.hide(),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.hide()):(this.css.jq.volumeBar.length&&this.css.jq.volumeBar.show(),this.css.jq.volumeBarValue.length&&(this.css.jq.volumeBarValue.show(),this.css.jq.volumeBarValue[this.options.verticalVolume?"height":"width"](100*a+"%")),this.css.jq.volumeMax.length&&this.css.jq.volumeMax.show())},volumeMax:function(){this.volume(1),this.options.muted&&this._muted(!1)},_cssSelectorAncestor:function(a){var c=this;this.options.cssSelectorAncestor=a,this._removeUiClass(),this.ancestorJq=a?b(a):[],a&&1!==this.ancestorJq.length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:a,message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.ancestorJq.length+" found for cssSelectorAncestor.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT}),this._addUiClass(),b.each(this.options.cssSelector,function(a,b){c._cssSelector(a,b)}),this._updateInterface(),this._updateButtons(),this._updateAutohide(),this._updateVolume(),this._updateMute()},_cssSelector:function(a,c){var d=this;"string"==typeof c?b.jPlayer.prototype.options.cssSelector[a]?(this.css.jq[a]&&this.css.jq[a].length&&this.css.jq[a].unbind(".jPlayer"),this.options.cssSelector[a]=c,this.css.cs[a]=this.options.cssSelectorAncestor+" "+c,this.css.jq[a]=c?b(this.css.cs[a]):[],this.css.jq[a].length&&this.css.jq[a].bind("click.jPlayer",function(c){c.preventDefault(),d[a](c),b(this).blur()}),c&&1!==this.css.jq[a].length&&this._warning({type:b.jPlayer.warning.CSS_SELECTOR_COUNT,context:this.css.cs[a],message:b.jPlayer.warningMsg.CSS_SELECTOR_COUNT+this.css.jq[a].length+" found for "+a+" method.",hint:b.jPlayer.warningHint.CSS_SELECTOR_COUNT})):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_METHOD,context:a,message:b.jPlayer.warningMsg.CSS_SELECTOR_METHOD,hint:b.jPlayer.warningHint.CSS_SELECTOR_METHOD}):this._warning({type:b.jPlayer.warning.CSS_SELECTOR_STRING,context:c,message:b.jPlayer.warningMsg.CSS_SELECTOR_STRING,hint:b.jPlayer.warningHint.CSS_SELECTOR_STRING})},seekBar:function(a){if(this.css.jq.seekBar.length){var c=b(a.currentTarget),d=c.offset();
a=a.pageX-d.left,c=c.width(),this.playHead(100*a/c)}},playBar:function(){},repeat:function(){this._loop(!0)},repeatOff:function(){this._loop(!1)},_loop:function(a){this.options.loop!==a&&(this.options.loop=a,this._updateButtons(),this._trigger(b.jPlayer.event.repeat))},currentTime:function(){},duration:function(){},gui:function(){},noSolution:function(){},option:function(a,c){var d=a;if(0===arguments.length)return b.extend(!0,{},this.options);if("string"==typeof a){var e=a.split(".");if(c===f){for(var d=b.extend(!0,{},this.options),g=0;e.length>g;g++){if(d[e[g]]===f)return this._warning({type:b.jPlayer.warning.OPTION_KEY,context:a,message:b.jPlayer.warningMsg.OPTION_KEY,hint:b.jPlayer.warningHint.OPTION_KEY}),f;d=d[e[g]]}return d}for(var g=d={},h=0;e.length>h;h++)e.length-1>h?(g[e[h]]={},g=g[e[h]]):g[e[h]]=c}return this._setOptions(d),this},_setOptions:function(a){var c=this;return b.each(a,function(a,b){c._setOption(a,b)}),this},_setOption:function(a,c){var d=this;switch(a){case"volume":this.volume(c);break;case"muted":this._muted(c);break;case"cssSelectorAncestor":this._cssSelectorAncestor(c);break;case"cssSelector":b.each(c,function(a,b){d._cssSelector(a,b)});break;case"fullScreen":if(this.options[a]!==c){var e=b.jPlayer.nativeFeatures.fullscreen.used.webkitVideo;(!e||e&&!this.status.waitForPlay)&&(e||(this.options[a]=c),c?this._requestFullscreen():this._exitFullscreen(),e||this._setOption("fullWindow",c))}break;case"fullWindow":this.options[a]!==c&&(this._removeUiClass(),this.options[a]=c,this._refreshSize());break;case"size":!this.options.fullWindow&&this.options[a].cssClass!==c.cssClass&&this._removeUiClass(),this.options[a]=b.extend({},this.options[a],c),this._refreshSize();break;case"sizeFull":this.options.fullWindow&&this.options[a].cssClass!==c.cssClass&&this._removeUiClass(),this.options[a]=b.extend({},this.options[a],c),this._refreshSize();break;case"autohide":this.options[a]=b.extend({},this.options[a],c),this._updateAutohide();break;case"loop":this._loop(c);break;case"nativeVideoControls":this.options[a]=b.extend({},this.options[a],c),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this._restrictNativeVideoControls(),this._updateNativeVideoControls();break;case"noFullWindow":this.options[a]=b.extend({},this.options[a],c),this.status.nativeVideoControls=this._uaBlocklist(this.options.nativeVideoControls),this.status.noFullWindow=this._uaBlocklist(this.options.noFullWindow),this._restrictNativeVideoControls(),this._updateButtons();break;case"noVolume":this.options[a]=b.extend({},this.options[a],c),this.status.noVolume=this._uaBlocklist(this.options.noVolume),this._updateVolume(),this._updateMute();break;case"emulateHtml":this.options[a]!==c&&((this.options[a]=c)?this._emulateHtmlBridge():this._destroyHtmlBridge());break;case"timeFormat":this.options[a]=b.extend({},this.options[a],c);break;case"keyEnabled":this.options[a]=c,!c&&this===b.jPlayer.focus&&(b.jPlayer.focus=null);break;case"keyBindings":this.options[a]=b.extend(!0,{},this.options[a],c);break;case"audioFullScreen":this.options[a]=c}return this},_refreshSize:function(){this._setSize(),this._addUiClass(),this._updateSize(),this._updateButtons(),this._updateAutohide(),this._trigger(b.jPlayer.event.resize)},_setSize:function(){this.options.fullWindow?(this.status.width=this.options.sizeFull.width,this.status.height=this.options.sizeFull.height,this.status.cssClass=this.options.sizeFull.cssClass):(this.status.width=this.options.size.width,this.status.height=this.options.size.height,this.status.cssClass=this.options.size.cssClass),this.element.css({width:this.status.width,height:this.status.height})},_addUiClass:function(){this.ancestorJq.length&&this.ancestorJq.addClass(this.status.cssClass)},_removeUiClass:function(){this.ancestorJq.length&&this.ancestorJq.removeClass(this.status.cssClass)},_updateSize:function(){this.internal.poster.jq.css({width:this.status.width,height:this.status.height}),!this.status.waitForPlay&&this.html.active&&this.status.video||this.html.video.available&&this.html.used&&this.status.nativeVideoControls?this.internal.video.jq.css({width:this.status.width,height:this.status.height}):!this.status.waitForPlay&&this.flash.active&&this.status.video&&this.internal.flash.jq.css({width:this.status.width,height:this.status.height})},_updateAutohide:function(){var a=this,b=function(){a.css.jq.gui.fadeIn(a.options.autohide.fadeIn,function(){clearTimeout(a.internal.autohideId),a.internal.autohideId=setTimeout(function(){a.css.jq.gui.fadeOut(a.options.autohide.fadeOut)},a.options.autohide.hold)})};this.css.jq.gui.length&&(this.css.jq.gui.stop(!0,!0),clearTimeout(this.internal.autohideId),this.element.unbind(".jPlayerAutohide"),this.css.jq.gui.unbind(".jPlayerAutohide"),this.status.nativeVideoControls?this.css.jq.gui.hide():this.options.fullWindow&&this.options.autohide.full||!this.options.fullWindow&&this.options.autohide.restored?(this.element.bind("mousemove.jPlayer.jPlayerAutohide",b),this.css.jq.gui.bind("mousemove.jPlayer.jPlayerAutohide",b),this.css.jq.gui.hide()):this.css.jq.gui.show())},fullScreen:function(){this._setOption("fullScreen",!0)},restoreScreen:function(){this._setOption("fullScreen",!1)},_fullscreenAddEventListeners:function(){var a=this,c=b.jPlayer.nativeFeatures.fullscreen;c.api.fullscreenEnabled&&c.event.fullscreenchange&&("function"!=typeof this.internal.fullscreenchangeHandler&&(this.internal.fullscreenchangeHandler=function(){a._fullscreenchange()}),document.addEventListener(c.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1))},_fullscreenRemoveEventListeners:function(){var a=b.jPlayer.nativeFeatures.fullscreen;this.internal.fullscreenchangeHandler&&document.addEventListener(a.event.fullscreenchange,this.internal.fullscreenchangeHandler,!1)},_fullscreenchange:function(){this.options.fullScreen&&!b.jPlayer.nativeFeatures.fullscreen.api.fullscreenElement()&&this._setOption("fullScreen",!1)},_requestFullscreen:function(){var a=this.ancestorJq.length?this.ancestorJq[0]:this.element[0],c=b.jPlayer.nativeFeatures.fullscreen;c.used.webkitVideo&&(a=this.htmlElement.video),c.api.fullscreenEnabled&&c.api.requestFullscreen(a)},_exitFullscreen:function(){var c,a=b.jPlayer.nativeFeatures.fullscreen;a.used.webkitVideo&&(c=this.htmlElement.video),a.api.fullscreenEnabled&&a.api.exitFullscreen(c)},_html_initMedia:function(a){var c=b(this.htmlElement.media).empty();b.each(a.track||[],function(a,b){var g=document.createElement("track");g.setAttribute("kind",b.kind?b.kind:""),g.setAttribute("src",b.src?b.src:""),g.setAttribute("srclang",b.srclang?b.srclang:""),g.setAttribute("label",b.label?b.label:""),b.def&&g.setAttribute("default",b.def),c.append(g)}),this.htmlElement.media.src=this.status.src,"none"!==this.options.preload&&this._html_load(),this._trigger(b.jPlayer.event.timeupdate)},_html_setFormat:function(a){var c=this;b.each(this.formats,function(b,e){return c.html.support[e]&&a[e]?(c.status.src=a[e],c.status.format[e]=!0,c.status.formatType=e,!1):void 0})},_html_setAudio:function(a){this._html_setFormat(a),this.htmlElement.media=this.htmlElement.audio,this._html_initMedia(a)},_html_setVideo:function(a){this._html_setFormat(a),this.status.nativeVideoControls&&(this.htmlElement.video.poster=this._validString(a.poster)?a.poster:""),this.htmlElement.media=this.htmlElement.video,this._html_initMedia(a)},_html_resetMedia:function(){this.htmlElement.media&&(this.htmlElement.media.id===this.internal.video.id&&!this.status.nativeVideoControls&&this.internal.video.jq.css({width:"0px",height:"0px"}),this.htmlElement.media.pause())},_html_clearMedia:function(){this.htmlElement.media&&(this.htmlElement.media.src="about:blank",this.htmlElement.media.load())},_html_load:function(){this.status.waitForLoad&&(this.status.waitForLoad=!1,this.htmlElement.media.load()),clearTimeout(this.internal.htmlDlyCmdId)},_html_play:function(a){var b=this,d=this.htmlElement.media;if(this._html_load(),isNaN(a))d.play();else{this.internal.cmdsIgnored&&d.play();try{if(d.seekable&&!("object"==typeof d.seekable&&d.seekable.length>0))throw 1;d.currentTime=a,d.play()}catch(e){return this.internal.htmlDlyCmdId=setTimeout(function(){b.play(a)},250),void 0}}this._html_checkWaitForPlay()},_html_pause:function(a){var b=this,d=this.htmlElement.media;if(a>0?this._html_load():clearTimeout(this.internal.htmlDlyCmdId),d.pause(),!isNaN(a))try{if(d.seekable&&!("object"==typeof d.seekable&&d.seekable.length>0))throw 1;d.currentTime=a}catch(e){return this.internal.htmlDlyCmdId=setTimeout(function(){b.pause(a)},250),void 0}a>0&&this._html_checkWaitForPlay()},_html_playHead:function(a){var b=this,d=this.htmlElement.media;this._html_load();try{if("object"==typeof d.seekable&&d.seekable.length>0)d.currentTime=a*d.seekable.end(d.seekable.length-1)/100;else{if(!(d.duration>0)||isNaN(d.duration))throw"e";d.currentTime=a*d.duration/100}}catch(e){return this.internal.htmlDlyCmdId=setTimeout(function(){b.playHead(a)},250),void 0}this.status.waitForLoad||this._html_checkWaitForPlay()},_html_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.video.jq.css({width:this.status.width,height:this.status.height})))},_html_volume:function(a){this.html.audio.available&&(this.htmlElement.audio.volume=a),this.html.video.available&&(this.htmlElement.video.volume=a)},_html_mute:function(a){this.html.audio.available&&(this.htmlElement.audio.muted=a),this.html.video.available&&(this.htmlElement.video.muted=a)},_flash_setAudio:function(a){var c=this;try{b.each(this.formats,function(b,d){if(c.flash.support[d]&&a[d]){switch(d){case"m4a":case"fla":c._getMovie().fl_setAudio_m4a(a[d]);break;case"mp3":c._getMovie().fl_setAudio_mp3(a[d]);break;case"rtmpa":c._getMovie().fl_setAudio_rtmp(a[d])}return c.status.src=a[d],c.status.format[d]=!0,c.status.formatType=d,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(d){this._flashError(d)}},_flash_setVideo:function(a){var c=this;try{b.each(this.formats,function(b,d){if(c.flash.support[d]&&a[d]){switch(d){case"m4v":case"flv":c._getMovie().fl_setVideo_m4v(a[d]);break;case"rtmpv":c._getMovie().fl_setVideo_rtmp(a[d])}return c.status.src=a[d],c.status.format[d]=!0,c.status.formatType=d,!1}}),"auto"===this.options.preload&&(this._flash_load(),this.status.waitForLoad=!1)}catch(d){this._flashError(d)}},_flash_resetMedia:function(){this.internal.flash.jq.css({width:"0px",height:"0px"}),this._flash_pause(0/0)},_flash_clearMedia:function(){try{this._getMovie().fl_clearMedia()}catch(a){this._flashError(a)}},_flash_load:function(){try{this._getMovie().fl_load()}catch(a){this._flashError(a)}this.status.waitForLoad=!1},_flash_play:function(a){try{this._getMovie().fl_play(a)}catch(b){this._flashError(b)}this.status.waitForLoad=!1,this._flash_checkWaitForPlay()},_flash_pause:function(a){try{this._getMovie().fl_pause(a)}catch(b){this._flashError(b)}a>0&&(this.status.waitForLoad=!1,this._flash_checkWaitForPlay())},_flash_playHead:function(a){try{this._getMovie().fl_play_head(a)}catch(b){this._flashError(b)}this.status.waitForLoad||this._flash_checkWaitForPlay()},_flash_checkWaitForPlay:function(){this.status.waitForPlay&&(this.status.waitForPlay=!1,this.css.jq.videoPlay.length&&this.css.jq.videoPlay.hide(),this.status.video&&(this.internal.poster.jq.hide(),this.internal.flash.jq.css({width:this.status.width,height:this.status.height})))},_flash_volume:function(a){try{this._getMovie().fl_volume(a)}catch(b){this._flashError(b)}},_flash_mute:function(a){try{this._getMovie().fl_mute(a)}catch(b){this._flashError(b)}},_getMovie:function(){return document[this.internal.flash.id]},_getFlashPluginVersion:function(){var b,a=0;if(window.ActiveXObject)try{if(b=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")){var d=b.GetVariable("$version");d&&(d=d.split(" ")[1].split(","),a=parseInt(d[0],10)+"."+parseInt(d[1],10))}}catch(e){}else navigator.plugins&&navigator.mimeTypes.length>0&&(b=navigator.plugins["Shockwave Flash"])&&(a=navigator.plugins["Shockwave Flash"].description.replace(/.*\s(\d+\.\d+).*/,"$1"));return 1*a},_checkForFlash:function(a){var b=!1;return this._getFlashPluginVersion()>=a&&(b=!0),b},_validString:function(a){return a&&"string"==typeof a},_limitValue:function(a,b,d){return b>a?b:a>d?d:a},_urlNotSetError:function(a){this._error({type:b.jPlayer.error.URL_NOT_SET,context:a,message:b.jPlayer.errorMsg.URL_NOT_SET,hint:b.jPlayer.errorHint.URL_NOT_SET})},_flashError:function(a){var c;c=this.internal.ready?"FLASH_DISABLED":"FLASH",this._error({type:b.jPlayer.error[c],context:this.internal.flash.swf,message:b.jPlayer.errorMsg[c]+a.message,hint:b.jPlayer.errorHint[c]}),this.internal.flash.jq.css({width:"1px",height:"1px"})},_error:function(a){this._trigger(b.jPlayer.event.error,a),this.options.errorAlerts&&this._alert("Error!"+(a.message?"\n\n"+a.message:"")+(a.hint?"\n\n"+a.hint:"")+"\n\nContext: "+a.context)},_warning:function(a){this._trigger(b.jPlayer.event.warning,f,a),this.options.warningAlerts&&this._alert("Warning!"+(a.message?"\n\n"+a.message:"")+(a.hint?"\n\n"+a.hint:"")+"\n\nContext: "+a.context)},_alert:function(a){alert("jPlayer "+this.version.script+" : id='"+this.internal.self.id+"' : "+a)},_emulateHtmlBridge:function(){var a=this;b.each(b.jPlayer.emulateMethods.split(/\s+/g),function(b,d){a.internal.domNode[d]=function(b){a[d](b)}}),b.each(b.jPlayer.event,function(c,d){var e=!0;b.each(b.jPlayer.reservedEvent.split(/\s+/g),function(a,b){return b===c?e=!1:void 0}),e&&a.element.bind(d+".jPlayer.jPlayerHtml",function(){a._emulateHtmlUpdate();var b=document.createEvent("Event");b.initEvent(c,!1,!0),a.internal.domNode.dispatchEvent(b)})})},_emulateHtmlUpdate:function(){var a=this;b.each(b.jPlayer.emulateStatus.split(/\s+/g),function(b,d){a.internal.domNode[d]=a.status[d]}),b.each(b.jPlayer.emulateOptions.split(/\s+/g),function(b,d){a.internal.domNode[d]=a.options[d]})},_destroyHtmlBridge:function(){var a=this;this.element.unbind(".jPlayerHtml"),b.each((b.jPlayer.emulateMethods+" "+b.jPlayer.emulateStatus+" "+b.jPlayer.emulateOptions).split(/\s+/g),function(b,d){delete a.internal.domNode[d]})}},b.jPlayer.error={FLASH:"e_flash",FLASH_DISABLED:"e_flash_disabled",NO_SOLUTION:"e_no_solution",NO_SUPPORT:"e_no_support",URL:"e_url",URL_NOT_SET:"e_url_not_set",VERSION:"e_version"},b.jPlayer.errorMsg={FLASH:"jPlayer's Flash fallback is not configured correctly, or a command was issued before the jPlayer Ready event. Details: ",FLASH_DISABLED:"jPlayer's Flash fallback has been disabled by the browser due to the CSS rules you have used. Details: ",NO_SOLUTION:"No solution can be found by jPlayer in this browser. Neither HTML nor Flash can be used.",NO_SUPPORT:"It is not possible to play any media format provided in setMedia() on this browser using your current options.",URL:"Media URL could not be loaded.",URL_NOT_SET:"Attempt to issue media playback commands, while no media url is set.",VERSION:"jPlayer "+b.jPlayer.prototype.version.script+" needs Jplayer.swf version "+b.jPlayer.prototype.version.needFlash+" but found "},b.jPlayer.errorHint={FLASH:"Check your swfPath option and that Jplayer.swf is there.",FLASH_DISABLED:"Check that you have not display:none; the jPlayer entity or any ancestor.",NO_SOLUTION:"Review the jPlayer options: support and supplied.",NO_SUPPORT:"Video or audio formats defined in the supplied option are missing.",URL:"Check media URL is valid.",URL_NOT_SET:"Use setMedia() to set the media URL.",VERSION:"Update jPlayer files."},b.jPlayer.warning={CSS_SELECTOR_COUNT:"e_css_selector_count",CSS_SELECTOR_METHOD:"e_css_selector_method",CSS_SELECTOR_STRING:"e_css_selector_string",OPTION_KEY:"e_option_key"},b.jPlayer.warningMsg={CSS_SELECTOR_COUNT:"The number of css selectors found did not equal one: ",CSS_SELECTOR_METHOD:"The methodName given in jPlayer('cssSelector') is not a valid jPlayer method.",CSS_SELECTOR_STRING:"The methodCssSelector given in jPlayer('cssSelector') is not a String or is empty.",OPTION_KEY:"The option requested in jPlayer('option') is undefined."},b.jPlayer.warningHint={CSS_SELECTOR_COUNT:"Check your css selector and the ancestor.",CSS_SELECTOR_METHOD:"Check your method name.",CSS_SELECTOR_STRING:"Check your css selector is a string.",OPTION_KEY:"Check your option name."}});